const pako = require('pako');
const cryptoJs = require('crypto-js');

function generate() {
    _0x6c56f3 = Date["now"]();
  return (_0x6c56f3 += performance['now']()),
  "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"['replace'](new RegExp("\u005b\u0078\u0079\u005d","\u0067"), function(_0x28a9b4) {
      var _0x5b4a44 = (_0x6c56f3 + (0x1b717 ^ 0x1b707) * Math['random']()) % (0xe7f76 ^ 0xe7f66) | 0xe63e7 ^ 0xe63e7;
      return _0x6c56f3 = Math['floor'](_0x6c56f3 / (0x7c559 ^ 0x7c549)),
      ("\u0078" === _0x28a9b4 ? _0x5b4a44 : (0x3696e ^ 0x3696d) & _0x5b4a44 | 0x23319 ^ 0x23311)['toString'](0x7b7fc ^ 0x7b7ec);
  });
}

function _0x1ebaf8(_0x58e5cb) {
  var  _0x56b073 = String(_0x58e5cb)
    , _0x3cff00 = _0x56b073["length"];
  if (!_0x3cff00)
      return _0x56b073;
  let _0x455bc4 = ''
    , _0x3847b7 = 0xa1584 ^ 0xa1584;
  for (; _0x3847b7 < _0x3cff00; ) {
      let _0x3bcb1a = _0x56b073[_0x3847b7];
      if ("\u0025" === _0x3bcb1a) {
          let _0x1a9fb5 = _0x3847b7 <= _0x3cff00 - (0x260bf ^ 0x260b9) && "\u0075" === _0x56b073[_0x3847b7 + (0x70400 ^ 0x70401)] ? _0x56b073['substring'](_0x3847b7 + (0x943ca ^ 0x943c8), _0x3847b7 + (0xe25f0 ^ 0xe25f6)) : _0x3847b7 <= _0x3cff00 - (0x598ab ^ 0x598a8) ? _0x56b073['substring'](_0x3847b7 + (0x8fbb0 ^ 0x8fbb1), _0x3847b7 + (0x8aad9 ^ 0x8aada)) : '';
          (0x8df0e ^ 0x8df0a) === (_0x1a9fb5 = new RegExp("$+]F-A9-0[^".split("").reverse().join(""),"\u0069")['test'](_0x1a9fb5) ? _0x1a9fb5 : '')['length'] ? (_0x3bcb1a = String['fromCharCode'](parseInt(_0x1a9fb5, 0xed616 ^ 0xed606)),
          _0x3847b7 += 0xb4913 ^ 0xb4916) : (0x1c0bc ^ 0x1c0be) === _0x1a9fb5['length'] && (_0x3bcb1a = String['fromCharCode'](parseInt("00".split("").reverse().join("") + _0x1a9fb5, 0xe011c ^ 0xe010c)),
          _0x3847b7 += 0x776f7 ^ 0x776f5);
      }
      _0x455bc4 += _0x3bcb1a,
      _0x3847b7 += 0x9c310 ^ 0x9c311;
  }
  return _0x455bc4;
}

_stringToUint8Array = function (_0x70bf08) {
  for (var _0x4c9438 = _0x1ebaf8(encodeURIComponent(_0x70bf08))["split"](''), _0x688257 = [], _0x402a7f = 0x2f27a ^ 0x2f27a; _0x402a7f < _0x4c9438['length']; _0x402a7f++)
      _0x688257['push'](_0x4c9438[_0x402a7f]['charCodeAt'](0x927bd ^ 0x927bd));
  return new Uint8Array(_0x688257);
}
_base64ToArrayBuffer = function(_0x5cf3f5) {
  for (var _0x2ca832 = atob(_0x5cf3f5), _0x316c2f = _0x2ca832["length"], _0x2e5d83 = new Uint8Array(_0x316c2f), _0x535814 = 0xe7e54 ^ 0xe7e54; _0x535814 < _0x316c2f; _0x535814++)
      _0x2e5d83[_0x535814] = _0x2ca832['charCodeAt'](_0x535814);
  return _0x2e5d83['buffer'];
}

function get_arr() {
    zhiw1 = {
        "Zf5": new Date().getTime(),
        "GF9": "2.0.0",
        "HW5": "t6pfoml9679z52kqw93uqu75eflqdg1bykhl",
        "ew1": {
            "Wg7": "Mozilla",
            "lV1": "Google Inc.",
            "Xt4": "Netscape",
            "yV2": "5.0 (Windows NT 10.0; JiSu) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.3.1.7 Safari/537.36",
            "KY1": "Win32",
            "Le3": "Tmxhcm9vei81LjAgKERybXdsZGggTUcgMTAuMDsgUXJIZikgWmtrb3ZEdnlQcmcvNTM3LjM2IChQU0dOTywgb3JwdiBUdnhwbCkgWHNpbG52LzExOC4zLjEuNyBIenV6aXIvNTM3LjM2",
            "kH1": 824,
            "ad5": 1536,
            "Ua9": 24,
            "TQ6": 864,
            "kC7": 1536,
            "me8": 24,
            "eY9": true,
            "Kn2": false,
            "OM3": true,
            "sw8": false,
            "uW3": -1,
            "iO8": "https://www.ximalaya.com/",
            "By1": "www.ximalaya.com",
            "Gv4": "/",
            "ef2": "",
            "tZ2": "https:",
            "OG4": true,
            "kx1": true,
            "VD6": true,
            "Ov6": true,
            "lq3": "zh-CN",
            "ef5": [
                "zh-CN"
            ],
            "OK3": 1.25,
            "Fg5": true,
            "qS2": [
                1536,
                824,
                303,
                715
            ],
            "Fc5": "light"
        },
        "HK3": {
            "iI1": {
                "NF1": -1,
                "cA1": -1,
                "NK5": -1,
                "VP4": "-1.00",
                "RX5": -1,
                "VP6": -1,
                "tJ4": -1
            },
            "ti4": {
                "xm9": true,
                "is3": 1
            },
            "AV9": 8,
            "aK8": "Google Inc. (Intel)",
            "df6": "ANGLE (Intel, Intel(R) UHD Graphics (0x00008A56) Direct3D11 vs_5_0 ps_5_0, D3D11)",
            "WB9": "BkJHAEJEAEwRXEEXVkdDUBRCVBRDAk0VAE1BBRZFBxE",
            "pD7": "AEFCAE0QAExLAkVDBkdDUBBKXEVDXUxLARYVXEFBUxA",
            "da2": "VUdHSkVHV0FEUUdEUURFVEJH",
            "dt2": 8,
            "Sy6": -480,
            "MS3": "Asia/Shanghai",
            "pi9": false,
            "Ao1": [],
            "BH5": 10,
            "UG4": [
                "Arial",
                "Arial Black",
                "Arial Narrow",
                "Book Antiqua",
                "Bookman Old Style",
                "Calibri",
                "Cambria",
                "Cambria Math",
                "Century",
                "Century Gothic",
                "Century Schoolbook",
                "Comic Sans MS",
                "Consolas",
                "Courier",
                "Courier New",
                "Georgia",
                "Helvetica",
                "Impact",
                "Lucida Bright",
                "Lucida Calligraphy",
                "Lucida Console",
                "Lucida Fax",
                "Lucida Handwriting",
                "Lucida Sans",
                "Lucida Sans Typewriter",
                "Lucida Sans Unicode",
                "Microsoft Sans Serif",
                "Monotype Corsiva",
                "MS Gothic",
                "MS PGothic",
                "MS Reference Sans Serif",
                "MS Sans Serif",
                "MS Serif",
                "Palatino Linotype",
                "Segoe Print",
                "Segoe Script",
                "Segoe UI",
                "Segoe UI Light",
                "Segoe UI Semibold",
                "Segoe UI Symbol",
                "Tahoma",
                "Times",
                "Times New Roman",
                "Trebuchet MS",
                "Verdana",
                "Wingdings",
                "Wingdings 2",
                "Wingdings 3"
            ]
        },
        "fc9": {
            "cx4": "4g",
            "zY8": -1,
            "yj6": 10,
            "dV4": -1,
            "yX4": false
        },
        "pX4": "",
        "Ud2": "",
        "Cb7": "",
        "Gp5": "",
        "Zn6": {
            "oe2": "1",
            "EV9": "true",
            "xu2": "1441A79084B299361228B8A0C24AEF9F18CAFE22C7647F0ACDB8F740150ECD69",
            "CY8": "",
            "nE4": 557,
            "Tw1": [
                39609.69999999995,
                40166.30000000005
            ],
            "Sb1": false
        },
        "lL1": "",
        "uT8": "-1",
        "sV5": 1,
        "Vo6": "",
        "hi9": 0,
        "kz4": "baw@iS2\\y{vv,~N0VT`QDhffMU·jTx wr;^HnkUd$x·Bwkj04Í\\m\u0003Ud\u0006JN}e~Rh9rv[lg\u0014asg=Kq ko5I\fi] @lExwr\u000fu6I\u000f:Iw3FgU\u0016m~r9.-FB",
        "fd2": {
            "Pf5": 1752110435101,
            "Ja5": "16DAA2:9F6495:CF89F3:2900",
            "xz7": "c51b37ab-b8c0-a881-838c-43b6cf70f52b",
            "av1": "D2p+kfDtpslf9XHw/MgwU8Mk+GMbM2A5WjXgOS8cpXBHoXb4",
            "cp9": 0
        },
        "ck9": "h5_goyxvzyohd",
        "uS7": "",
        "jm9": 2,
        "GJ2": "ba3e2f3f-b559-4fd1-d659-94203f8847b2-fcs011",
        "MT7": "33-00000-0000-1111111-000000-0011-000000-0000-00000-0",
        "BG5": false,
        "Fd8": "1",
        "Dr2": "dXd5MDUweXh4NXc3Nnh3eTg0dnZ4MzMwMDQ1eDd2OXg",
        "lp7": "OXV1MjV1MDgzdnV4N3kwdXo3ejAwdnYyNXgwejAyNTY",
        "iq7": false,
        "MB8": "Vyd1fd1vTW",
        "ZH2": "RJtMd0GUPq",
        "DP5": "1441A7909C087DBBE7CE59881B9DF8B9",
        "rf2": "EsY3kjCyNuU6TvlQAZDcnhbzB9fiJcwiab0nUxHDhKPZjmIZ5eoWZ7W1ezmYRzSepIt9QN7CuSbqTj05hnEA5DRPxbbdoCb5uN3Me6k78jYrl2OzLOhVLR525U1tyduv",
        "eM5": "Vc:!0\u001d7U1J4[KYV[*)\f0@>'+bvIuNDq3VￖjZp0a \u0005\"JoG￲>iK1|+_\"e\u00017On3[uYNJ&-.f<\u0016N&Z(cG9Y[}ud\u0004=\u001dV 8]M\"qZ\"Qﾘﾛ;%\u001cn_M9+tu \u001dig7-j{P\u001d=V%A>\u0011'X&3"
    }
    zhiw1_stringToUint8Array = _stringToUint8Array(JSON.stringify(zhiw1, null, 0));
    aes_encrypt = function (data,key) {
        key = cryptoJs.enc.Utf8.parse(key);
        var encrypted = cryptoJs.AES.encrypt(data, key, {
            iv:key,
            mode: cryptoJs.mode.ECB,
            padding: cryptoJs.pad.Pkcs7
        });
        return encrypted.toString();
    }
    
    const key = "m9ZtRrz:qujT8@da";
    zhiw1_compress = pako.deflate(zhiw1_stringToUint8Array, { level: 6 });
    zhiw1_WordArray = cryptoJs.lib.WordArray.create(zhiw1_compress.buffer);
    zhiw1_aes = aes_encrypt(zhiw1_WordArray, key)
    // zhiw1_base64ToArrayBuffer = _base64ToArrayBuffer(zhiw1_aes)
    url1 = "https://hdaa.shuzilm.cn/report?v=1.2.0&e=1&c=1&r=" + generate()
    return {
        url: url1,
        decodedString:zhiw1_aes
      }
}

aes_decrypt = function (data) {
    key = cryptoJs.enc.Utf8.parse("m9ZtRrz:qujT8@da");
    var encrypted = cryptoJs.AES.decrypt(data, key, {
        iv:key,
        mode: cryptoJs.mode.ECB,
        padding: cryptoJs.pad.Pkcs7
    });
    return JSON.parse(encrypted.toString(cryptoJs.enc.Utf8));
}
console.log(aes_decrypt('G7YCkNmLiPq3Yhax4DIXG2eFu6QcHZ7WbS/dVUGNlU8INCtsmXUklA1wHHlY+Q3QPMjZZI/dBq46XYP4lA1j5S8EklWPV0FkwRt25QjOa1Oe/PqV5cIACX3IryBpOwTE6n97cPXhEDBWYPrQcUToWt3W+1ZEIoKmKdiTZAUj0Rf3b78d/ZBMynfdCMauhAZyPYZBAvWwBMd+sAIuKb0r+nbRVGsW3euEY1Xy/AEif4rJQBSUboE8cbaGgZHSNgmJXcIXy9kz8BQi9pckt+z2PtY8OqbEPq456HV0QiyEdac='))