window = global;
window.addEventListener=function(){}
console.log=function(){}

location = {
    "ancestorOrigins": {},
    "href": "https://ktag6nr93.m.chenzhongtech.com/fw/tag/text?cc=share_copylink&kpf=ANDROID_PHONE&fid=4081117814&shareMethod=token&kpn=KUAISHOU&subBiz=TEXT_TAG&rich=false&shareId=18448063952787&shareToken=X4HA7MNYBh9wuW7&tagName=%E5%90%AC%E4%B8%80%E9%A6%96%E6%AD%8C%E8%AE%B2%E8%BF%B0%E4%B8%80%E4%B8%AA%E6%95%85%E4%BA%8B&shareType=7&shareMode=app&appType=21&shareObjectId=%E5%90%AC%E4%B8%80%E9%A6%96%E6%AD%8C%E8%AE%B2%E8%BF%B0%E4%B8%80%E4%B8%AA%E6%95%85%E4%BA%8B&timestamp=1750767739954",
    "origin": "https://ktag6nr93.m.chenzhongtech.com",
    "protocol": "https:",
    "host": "ktag6nr93.m.chenzhongtech.com",
    "hostname": "ktag6nr93.m.chenzhongtech.com",
    "port": "",
    "pathname": "/fw/tag/text",
    "search": "?cc=share_copylink&kpf=ANDROID_PHONE&fid=4081117814&shareMethod=token&kpn=KUAISHOU&subBiz=TEXT_TAG&rich=false&shareId=18448063952787&shareToken=X4HA7MNYBh9wuW7&tagName=%E5%90%AC%E4%B8%80%E9%A6%96%E6%AD%8C%E8%AE%B2%E8%BF%B0%E4%B8%80%E4%B8%AA%E6%95%85%E4%BA%8B&shareType=7&shareMode=app&appType=21&shareObjectId=%E5%90%AC%E4%B8%80%E9%A6%96%E6%AD%8C%E8%AE%B2%E8%BF%B0%E4%B8%80%E4%B8%AA%E6%95%85%E4%BA%8B&timestamp=1750767739954",
    "hash": ""
}

document = {
    cookie:'did=web_7a936ac3854f4a6eb483df7815f90813; didv=1751081159000; kwpsecproductname=kuaishou-growth-offSite-h5-ssr; ktrace-context=1|MS44Nzg0NzI0NTc4Nzk2ODY5Ljk1NDkxNzIxLjE3NTEwOTU3MDc0NTguNTk4NjEyNjc=|MS44Nzg0NzI0NTc4Nzk2ODY5LjY4Nzg1NDE4LjE3NTEwOTU3MDc0NTguNTk4NjEyNjg=|0|webservice-user-growth-node|webservice|true|src-Js; kwfv1=PnGU+9+Y8008S+nH0U+0mjPf8fP08f+98f+nLlwnrIP9+0G0G7+/z08/8jP/ZEw/80Gf+D8/PUPeHFPfGhPfLE+0+08eD9P/qF+nrAP9H9+/qEGAbY8e8fGAPhGAHM+frl8/mf8nPU+0r7+ArlPBrA+/H9G04YPBHF+eb0+0LlPer7Pn80GAYYGfLI+ezfP/rUPAYY8BbS8/pjPAHAGASD+Z==; kwssectoken=heSQrv+lo3UHSutN8RtzPG1uOD+sIWjPRWSS2p5Oba5jxZx1ShMWzd1SEl1ovDfhYHOl7nxU5INTcsVl+6I2SA==; kwscode=933f4035f7715a5bd619333317306be85211bb1c7aafb83e9a7c35189ce05e1d',
    scripts:{
        length:25,
    },
    createElement:function(ele){
        console.log('document.createElement=>',ele)
    },
    location:location,
    addEventListener:window.addEventListener,
}


Navigator=function Navigator(){
    if (new.target) {
    throw new TypeError('Illegal constructor');
  } else {

  }
}  //不能new
Navigator.prototype = {
    [Symbol.toStringTag]:'Navigator',
    appCodeName: "Mozilla",
    appName: "Netscape",
    appVersion: '5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
    userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
    vendor: 'Google Inc.',
    product: 'Gecko',
    productSub: '20030107',
    language: 'zh-CN',
    languages: [
        "zh-CN",
        "en",
        "en-GB",
        "en-US"
    ],
    platform:'Win32',
    webdriver:false,
    maxTouchPoints:0,
    plugins: {
        length:5
    },
    hardwareConcurrency:8,
    sendBeacon:function(){}
}
navigator = {};
navigator.__proto__ = Navigator.prototype;


localStorage = {
    getItem:function(ele){
        console.log('localStorage.getItem=>',ele)
    },
    setItem:function(key, value){
        console.log('localStorage.setItem=>',key, value)
    }
}

sessionStorage = {
    getItem:function(ele){
        console.log('sessionStorage.getItem=>',ele)
    },
    setItem:function(key, value){
        console.log('sessionStorage.setItem=>',key, value)
    }
}


screen = {
    availHeight: 816,
    availLeft: 0,
    availTop: 0,
    availWidth: 1536,
    colorDepth: 24,
    height: 864,
    isExtended:false,
    onchange:null,
    pixelDepth: 24,
    width: 1536
}



function ProxyDocumentObjects(proxyObjs) {
    for (let i = 0; i < proxyObjs.length; i++) {
        const documentObj = proxyObjs[i];
        const keys = Object.keys(documentObj);
        keys.forEach(key => {
            const value = documentObj[key];
            if (value && typeof value === "object") {
                documentObj[key] = new Proxy(value, {
                    get(target, property, receiver) {
                        const propValue = Reflect.get(target, property, receiver);
                        console.log("方法:", "get", "对象:", `${key}`, "属性:", property, "属性类型:", `${typeof property}`, "属性值:", propValue, "属性值类型:", `${typeof propValue}`);
                        return propValue;
                    },
                    set(target, property, newValue, receiver) {
                        console.log("方法:", "set", "对象:", `${key}`, "属性:", property, "属性类型:", `${typeof property}`, "属性值:", newValue, "属性值类型:", `${typeof newValue}`);
                        return Reflect.set(target, property, newValue, receiver);
                    }
                });
            }
        });
    }
}
// 这里需要写对象
const proxyObjs = [window, document, location, navigator, screen, sessionStorage, localStorage];
ProxyDocumentObjects(proxyObjs);


top = self = window;


var __defProp = Object.defineProperty, __defNormalProp = (e, t, n) => t in e ? __defProp(e, t, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: n
}) : e[t] = n, __publicField = (e, t, n) => (__defNormalProp(e, "symbol" != typeof t ? t + "" : t, n),
n), _a;
function makeMap(e, t) {
    const n = new Set(e.split(","));
    return e => n.has(e)
}
const EMPTY_OBJ = {}
  , EMPTY_ARR = []
  , NOOP = () => {}
  , NO = () => !1
  , isOn = e => 111 === e.charCodeAt(0) && 110 === e.charCodeAt(1) && (e.charCodeAt(2) > 122 || e.charCodeAt(2) < 97)
  , isModelListener = e => e.startsWith("onUpdate:")
  , extend = Object.assign
  , remove = (e, t) => {
    const n = e.indexOf(t);
    n > -1 && e.splice(n, 1)
}
  , hasOwnProperty$d = Object.prototype.hasOwnProperty
  , hasOwn$2 = (e, t) => hasOwnProperty$d.call(e, t)
  , isArray$d = Array.isArray
  , isMap$3 = e => "[object Map]" === toTypeString(e)
  , isSet$3 = e => "[object Set]" === toTypeString(e)
  , isFunction$5 = e => "function" == typeof e
  , isString$2 = e => "string" == typeof e
  , isSymbol$5 = e => "symbol" == typeof e
  , isObject$9 = e => null !== e && "object" == typeof e
  , isPromise$1 = e => (isObject$9(e) || isFunction$5(e)) && isFunction$5(e.then) && isFunction$5(e.catch)
  , objectToString$3 = Object.prototype.toString
  , toTypeString = e => objectToString$3.call(e)
  , toRawType = e => toTypeString(e).slice(8, -1)
  , isPlainObject$2 = e => "[object Object]" === toTypeString(e)
  , isIntegerKey = e => isString$2(e) && "NaN" !== e && "-" !== e[0] && "" + parseInt(e, 10) === e
  , isReservedProp = makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted")
  , cacheStringFunction = e => {
    const t = Object.create(null);
    return n => t[n] || (t[n] = e(n))
}
  , camelizeRE = /-(\w)/g
  , camelize = cacheStringFunction((e => e.replace(camelizeRE, ( (e, t) => t ? t.toUpperCase() : ""))))
  , hyphenateRE = /\B([A-Z])/g
  , hyphenate = cacheStringFunction((e => e.replace(hyphenateRE, "-$1").toLowerCase()))
  , capitalize = cacheStringFunction((e => e.charAt(0).toUpperCase() + e.slice(1)))
  , toHandlerKey = cacheStringFunction((e => e ? "on".concat(capitalize(e)) : ""))
  , hasChanged = (e, t) => !Object.is(e, t)
  , invokeArrayFns = (e, t) => {
    for (let n = 0; n < e.length; n++)
        e[n](t)
}
  , def = (e, t, n, r=!1) => {
    Object.defineProperty(e, t, {
        configurable: !0,
        enumerable: !1,
        writable: r,
        value: n
    })
}
  , looseToNumber = e => {
    const t = parseFloat(e);
    return isNaN(t) ? e : t
}
  , toNumber = e => {
    const t = isString$2(e) ? Number(e) : NaN;
    return isNaN(t) ? e : t
}
;
let _globalThis;
const getGlobalThis = () => _globalThis || (_globalThis = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {});
function normalizeStyle(e) {
    if (isArray$d(e)) {
        const t = {};
        for (let n = 0; n < e.length; n++) {
            const r = e[n]
              , o = isString$2(r) ? parseStringStyle(r) : normalizeStyle(r);
            if (o)
                for (const e in o)
                    t[e] = o[e]
        }
        return t
    }
    if (isString$2(e) || isObject$9(e))
        return e
}
const listDelimiterRE = /;(?![^(]*\))/g
  , propertyDelimiterRE = /:([^]+)/
  , styleCommentRE = /\/\*[^]*?\*\//g;
function parseStringStyle(e) {
    const t = {};
    return e.replace(styleCommentRE, "").split(listDelimiterRE).forEach((e => {
        if (e) {
            const n = e.split(propertyDelimiterRE);
            n.length > 1 && (t[n[0].trim()] = n[1].trim())
        }
    }
    )),
    t
}
function stringifyStyle(e) {
    let t = "";
    if (!e || isString$2(e))
        return t;
    for (const n in e) {
        const r = e[n];
        if (isString$2(r) || "number" == typeof r) {
            const e = n.startsWith("--") ? n : hyphenate(n);
            t += "".concat(e, ":").concat(r, ";")
        }
    }
    return t
}
function normalizeClass(e) {
    let t = "";
    if (isString$2(e))
        t = e;
    else if (isArray$d(e))
        for (let n = 0; n < e.length; n++) {
            const r = normalizeClass(e[n]);
            r && (t += r + " ")
        }
    else if (isObject$9(e))
        for (const n in e)
            e[n] && (t += n + " ");
    return t.trim()
}
const specialBooleanAttrs = "itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly"
  , isSpecialBooleanAttr = makeMap(specialBooleanAttrs)
  , isBooleanAttr = makeMap(specialBooleanAttrs + ",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");
function includeBooleanAttr(e) {
    return !!e || "" === e
}
const isKnownHtmlAttr = makeMap("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap")
  , isKnownSvgAttr = makeMap("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");
function isRenderableAttrValue(e) {
    if (null == e)
        return !1;
    const t = typeof e;
    return "string" === t || "number" === t || "boolean" === t
}
const toDisplayString = e => isString$2(e) ? e : null == e ? "" : isArray$d(e) || isObject$9(e) && (e.toString === objectToString$3 || !isFunction$5(e.toString)) ? JSON.stringify(e, replacer, 2) : String(e)
  , replacer = (e, t) => t && t.__v_isRef ? replacer(e, t.value) : isMap$3(t) ? {
    ["Map(".concat(t.size, ")")]: [...t.entries()].reduce(( (e, [t,n], r) => (e[stringifySymbol(t, r) + " =>"] = n,
    e)), {})
} : isSet$3(t) ? {
    ["Set(".concat(t.size, ")")]: [...t.values()].map((e => stringifySymbol(e)))
} : isSymbol$5(t) ? stringifySymbol(t) : !isObject$9(t) || isArray$d(t) || isPlainObject$2(t) ? t : String(t)
  , stringifySymbol = (e, t="") => {
    var n;
    return isSymbol$5(e) ? "Symbol(".concat(null != (n = e.description) ? n : t, ")") : e
}
;
/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let activeEffectScope, activeEffect;
class EffectScope {
    constructor(e=!1) {
        this.detached = e,
        this._active = !0,
        this.effects = [],
        this.cleanups = [],
        this.parent = activeEffectScope,
        !e && activeEffectScope && (this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1)
    }
    get active() {
        return this._active
    }
    run(e) {
        if (this._active) {
            const t = activeEffectScope;
            try {
                return activeEffectScope = this,
                e()
            } finally {
                activeEffectScope = t
            }
        }
    }
    on() {
        activeEffectScope = this
    }
    off() {
        activeEffectScope = this.parent
    }
    stop(e) {
        if (this._active) {
            let t, n;
            for (t = 0,
            n = this.effects.length; t < n; t++)
                this.effects[t].stop();
            for (t = 0,
            n = this.cleanups.length; t < n; t++)
                this.cleanups[t]();
            if (this.scopes)
                for (t = 0,
                n = this.scopes.length; t < n; t++)
                    this.scopes[t].stop(!0);
            if (!this.detached && this.parent && !e) {
                const e = this.parent.scopes.pop();
                e && e !== this && (this.parent.scopes[this.index] = e,
                e.index = this.index)
            }
            this.parent = void 0,
            this._active = !1
        }
    }
}
function effectScope(e) {
    return new EffectScope(e)
}
function recordEffectScope(e, t=activeEffectScope) {
    t && t.active && t.effects.push(e)
}
function getCurrentScope() {
    return activeEffectScope
}
function onScopeDispose(e) {
    activeEffectScope && activeEffectScope.cleanups.push(e)
}
class ReactiveEffect {
    constructor(e, t, n, r) {
        this.fn = e,
        this.trigger = t,
        this.scheduler = n,
        this.active = !0,
        this.deps = [],
        this._dirtyLevel = 4,
        this._trackId = 0,
        this._runnings = 0,
        this._shouldSchedule = !1,
        this._depsLength = 0,
        recordEffectScope(this, r)
    }
    get dirty() {
        if (2 === this._dirtyLevel || 3 === this._dirtyLevel) {
            this._dirtyLevel = 1,
            pauseTracking();
            for (let e = 0; e < this._depsLength; e++) {
                const t = this.deps[e];
                if (t.computed && (triggerComputed(t.computed),
                this._dirtyLevel >= 4))
                    break
            }
            1 === this._dirtyLevel && (this._dirtyLevel = 0),
            resetTracking()
        }
        return this._dirtyLevel >= 4
    }
    set dirty(e) {
        this._dirtyLevel = e ? 4 : 0
    }
    run() {
        if (this._dirtyLevel = 0,
        !this.active)
            return this.fn();
        let e = shouldTrack
          , t = activeEffect;
        try {
            return shouldTrack = !0,
            activeEffect = this,
            this._runnings++,
            preCleanupEffect(this),
            this.fn()
        } finally {
            postCleanupEffect(this),
            this._runnings--,
            activeEffect = t,
            shouldTrack = e
        }
    }
    stop() {
        this.active && (preCleanupEffect(this),
        postCleanupEffect(this),
        this.onStop && this.onStop(),
        this.active = !1)
    }
}
function triggerComputed(e) {
    return e.value
}
function preCleanupEffect(e) {
    e._trackId++,
    e._depsLength = 0
}
function postCleanupEffect(e) {
    if (e.deps.length > e._depsLength) {
        for (let t = e._depsLength; t < e.deps.length; t++)
            cleanupDepEffect(e.deps[t], e);
        e.deps.length = e._depsLength
    }
}
function cleanupDepEffect(e, t) {
    const n = e.get(t);
    void 0 !== n && t._trackId !== n && (e.delete(t),
    0 === e.size && e.cleanup())
}
let shouldTrack = !0
  , pauseScheduleStack = 0;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack),
    shouldTrack = !1
}
function resetTracking() {
    const e = trackStack.pop();
    shouldTrack = void 0 === e || e
}
function pauseScheduling() {
    pauseScheduleStack++
}
function resetScheduling() {
    for (pauseScheduleStack--; !pauseScheduleStack && queueEffectSchedulers.length; )
        queueEffectSchedulers.shift()()
}
function trackEffect(e, t, n) {
    if (t.get(e) !== e._trackId) {
        t.set(e, e._trackId);
        const n = e.deps[e._depsLength];
        n !== t ? (n && cleanupDepEffect(n, e),
        e.deps[e._depsLength++] = t) : e._depsLength++
    }
}
const queueEffectSchedulers = [];
function triggerEffects(e, t, n) {
    pauseScheduling();
    for (const r of e.keys()) {
        let n;
        r._dirtyLevel < t && (null != n ? n : n = e.get(r) === r._trackId) && (r._shouldSchedule || (r._shouldSchedule = 0 === r._dirtyLevel),
        r._dirtyLevel = t),
        r._shouldSchedule && (null != n ? n : n = e.get(r) === r._trackId) && (r.trigger(),
        r._runnings && !r.allowRecurse || 2 === r._dirtyLevel || (r._shouldSchedule = !1,
        r.scheduler && queueEffectSchedulers.push(r.scheduler)))
    }
    resetScheduling()
}
const createDep = (e, t) => {
    const n = new Map;
    return n.cleanup = e,
    n.computed = t,
    n
}
  , targetMap = new WeakMap
  , ITERATE_KEY = Symbol("")
  , MAP_KEY_ITERATE_KEY = Symbol("");
function track(e, t, n) {
    if (shouldTrack && activeEffect) {
        let t = targetMap.get(e);
        t || targetMap.set(e, t = new Map);
        let r = t.get(n);
        r || t.set(n, r = createDep(( () => t.delete(n)))),
        trackEffect(activeEffect, r)
    }
}
function trigger(e, t, n, r, o, i) {
    const a = targetMap.get(e);
    if (!a)
        return;
    let s = [];
    if ("clear" === t)
        s = [...a.values()];
    else if ("length" === n && isArray$d(e)) {
        const e = Number(r);
        a.forEach(( (t, n) => {
            ("length" === n || !isSymbol$5(n) && n >= e) && s.push(t)
        }
        ))
    } else
        switch (void 0 !== n && s.push(a.get(n)),
        t) {
        case "add":
            isArray$d(e) ? isIntegerKey(n) && s.push(a.get("length")) : (s.push(a.get(ITERATE_KEY)),
            isMap$3(e) && s.push(a.get(MAP_KEY_ITERATE_KEY)));
            break;
        case "delete":
            isArray$d(e) || (s.push(a.get(ITERATE_KEY)),
            isMap$3(e) && s.push(a.get(MAP_KEY_ITERATE_KEY)));
            break;
        case "set":
            isMap$3(e) && s.push(a.get(ITERATE_KEY))
        }
    pauseScheduling();
    for (const c of s)
        c && triggerEffects(c, 4);
    resetScheduling()
}
function getDepFromReactive(e, t) {
    const n = targetMap.get(e);
    return n && n.get(t)
}
const isNonTrackableKeys = makeMap("__proto__,__v_isRef,__isVue")
  , builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol).filter((e => "arguments" !== e && "caller" !== e)).map((e => Symbol[e])).filter(isSymbol$5))
  , arrayInstrumentations = createArrayInstrumentations();
function createArrayInstrumentations() {
    const e = {};
    return ["includes", "indexOf", "lastIndexOf"].forEach((t => {
        e[t] = function(...e) {
            const n = toRaw(this);
            for (let t = 0, o = this.length; t < o; t++)
                track(n, "get", t + "");
            const r = n[t](...e);
            return -1 === r || !1 === r ? n[t](...e.map(toRaw)) : r
        }
    }
    )),
    ["push", "pop", "shift", "unshift", "splice"].forEach((t => {
        e[t] = function(...e) {
            pauseTracking(),
            pauseScheduling();
            const n = toRaw(this)[t].apply(this, e);
            return resetScheduling(),
            resetTracking(),
            n
        }
    }
    )),
    e
}
function hasOwnProperty$c(e) {
    isSymbol$5(e) || (e = String(e));
    const t = toRaw(this);
    return track(t, "has", e),
    t.hasOwnProperty(e)
}
class BaseReactiveHandler {
    constructor(e=!1, t=!1) {
        this._isReadonly = e,
        this._isShallow = t
    }
    get(e, t, n) {
        const r = this._isReadonly
          , o = this._isShallow;
        if ("__v_isReactive" === t)
            return !r;
        if ("__v_isReadonly" === t)
            return r;
        if ("__v_isShallow" === t)
            return o;
        if ("__v_raw" === t)
            return n === (r ? o ? shallowReadonlyMap : readonlyMap : o ? shallowReactiveMap : reactiveMap).get(e) || Object.getPrototypeOf(e) === Object.getPrototypeOf(n) ? e : void 0;
        const i = isArray$d(e);
        if (!r) {
            if (i && hasOwn$2(arrayInstrumentations, t))
                return Reflect.get(arrayInstrumentations, t, n);
            if ("hasOwnProperty" === t)
                return hasOwnProperty$c
        }
        const a = Reflect.get(e, t, n);
        return (isSymbol$5(t) ? builtInSymbols.has(t) : isNonTrackableKeys(t)) ? a : (r || track(e, "get", t),
        o ? a : isRef(a) ? i && isIntegerKey(t) ? a : a.value : isObject$9(a) ? r ? readonly(a) : reactive(a) : a)
    }
}
class MutableReactiveHandler extends BaseReactiveHandler {
    constructor(e=!1) {
        super(!1, e)
    }
    set(e, t, n, r) {
        let o = e[t];
        if (!this._isShallow) {
            const t = isReadonly(o);
            if (isShallow(n) || isReadonly(n) || (o = toRaw(o),
            n = toRaw(n)),
            !isArray$d(e) && isRef(o) && !isRef(n))
                return !t && (o.value = n,
                !0)
        }
        const i = isArray$d(e) && isIntegerKey(t) ? Number(t) < e.length : hasOwn$2(e, t)
          , a = Reflect.set(e, t, n, r);
        return e === toRaw(r) && (i ? hasChanged(n, o) && trigger(e, "set", t, n) : trigger(e, "add", t, n)),
        a
    }
    deleteProperty(e, t) {
        const n = hasOwn$2(e, t);
        e[t];
        const r = Reflect.deleteProperty(e, t);
        return r && n && trigger(e, "delete", t, void 0),
        r
    }
    has(e, t) {
        const n = Reflect.has(e, t);
        return isSymbol$5(t) && builtInSymbols.has(t) || track(e, "has", t),
        n
    }
    ownKeys(e) {
        return track(e, "iterate", isArray$d(e) ? "length" : ITERATE_KEY),
        Reflect.ownKeys(e)
    }
}
class ReadonlyReactiveHandler extends BaseReactiveHandler {
    constructor(e=!1) {
        super(!0, e)
    }
    set(e, t) {
        return !0
    }
    deleteProperty(e, t) {
        return !0
    }
}
const mutableHandlers = new MutableReactiveHandler
  , readonlyHandlers = new ReadonlyReactiveHandler
  , shallowReactiveHandlers = new MutableReactiveHandler(!0)
  , shallowReadonlyHandlers = new ReadonlyReactiveHandler(!0)
  , toShallow = e => e
  , getProto$1 = e => Reflect.getPrototypeOf(e);
function get(e, t, n=!1, r=!1) {
    const o = toRaw(e = e.__v_raw)
      , i = toRaw(t);
    n || (hasChanged(t, i) && track(o, "get", t),
    track(o, "get", i));
    const {has: a} = getProto$1(o)
      , s = r ? toShallow : n ? toReadonly : toReactive;
    return a.call(o, t) ? s(e.get(t)) : a.call(o, i) ? s(e.get(i)) : void (e !== o && e.get(t))
}
function has$4(e, t=!1) {
    const n = this.__v_raw
      , r = toRaw(n)
      , o = toRaw(e);
    return t || (hasChanged(e, o) && track(r, "has", e),
    track(r, "has", o)),
    e === o ? n.has(e) : n.has(e) || n.has(o)
}
function size(e, t=!1) {
    return e = e.__v_raw,
    !t && track(toRaw(e), "iterate", ITERATE_KEY),
    Reflect.get(e, "size", e)
}
function add(e) {
    e = toRaw(e);
    const t = toRaw(this);
    return getProto$1(t).has.call(t, e) || (t.add(e),
    trigger(t, "add", e, e)),
    this
}
function set(e, t) {
    t = toRaw(t);
    const n = toRaw(this)
      , {has: r, get: o} = getProto$1(n);
    let i = r.call(n, e);
    i || (e = toRaw(e),
    i = r.call(n, e));
    const a = o.call(n, e);
    return n.set(e, t),
    i ? hasChanged(t, a) && trigger(n, "set", e, t) : trigger(n, "add", e, t),
    this
}
function deleteEntry(e) {
    const t = toRaw(this)
      , {has: n, get: r} = getProto$1(t);
    let o = n.call(t, e);
    o || (e = toRaw(e),
    o = n.call(t, e)),
    r && r.call(t, e);
    const i = t.delete(e);
    return o && trigger(t, "delete", e, void 0),
    i
}
function clear() {
    const e = toRaw(this)
      , t = 0 !== e.size
      , n = e.clear();
    return t && trigger(e, "clear", void 0, void 0),
    n
}
function createForEach(e, t) {
    return function(n, r) {
        const o = this
          , i = o.__v_raw
          , a = toRaw(i)
          , s = t ? toShallow : e ? toReadonly : toReactive;
        return !e && track(a, "iterate", ITERATE_KEY),
        i.forEach(( (e, t) => n.call(r, s(e), s(t), o)))
    }
}
function createIterableMethod(e, t, n) {
    return function(...r) {
        const o = this.__v_raw
          , i = toRaw(o)
          , a = isMap$3(i)
          , s = "entries" === e || e === Symbol.iterator && a
          , c = "keys" === e && a
          , l = o[e](...r)
          , u = n ? toShallow : t ? toReadonly : toReactive;
        return !t && track(i, "iterate", c ? MAP_KEY_ITERATE_KEY : ITERATE_KEY),
        {
            next() {
                const {value: e, done: t} = l.next();
                return t ? {
                    value: e,
                    done: t
                } : {
                    value: s ? [u(e[0]), u(e[1])] : u(e),
                    done: t
                }
            },
            [Symbol.iterator]() {
                return this
            }
        }
    }
}
function createReadonlyMethod(e) {
    return function(...t) {
        return "delete" !== e && ("clear" === e ? void 0 : this)
    }
}
function createInstrumentations() {
    const e = {
        get(e) {
            return get(this, e)
        },
        get size() {
            return size(this)
        },
        has: has$4,
        add: add,
        set: set,
        delete: deleteEntry,
        clear: clear,
        forEach: createForEach(!1, !1)
    }
      , t = {
        get(e) {
            return get(this, e, !1, !0)
        },
        get size() {
            return size(this)
        },
        has: has$4,
        add: add,
        set: set,
        delete: deleteEntry,
        clear: clear,
        forEach: createForEach(!1, !0)
    }
      , n = {
        get(e) {
            return get(this, e, !0)
        },
        get size() {
            return size(this, !0)
        },
        has(e) {
            return has$4.call(this, e, !0)
        },
        add: createReadonlyMethod("add"),
        set: createReadonlyMethod("set"),
        delete: createReadonlyMethod("delete"),
        clear: createReadonlyMethod("clear"),
        forEach: createForEach(!0, !1)
    }
      , r = {
        get(e) {
            return get(this, e, !0, !0)
        },
        get size() {
            return size(this, !0)
        },
        has(e) {
            return has$4.call(this, e, !0)
        },
        add: createReadonlyMethod("add"),
        set: createReadonlyMethod("set"),
        delete: createReadonlyMethod("delete"),
        clear: createReadonlyMethod("clear"),
        forEach: createForEach(!0, !0)
    };
    return ["keys", "values", "entries", Symbol.iterator].forEach((o => {
        e[o] = createIterableMethod(o, !1, !1),
        n[o] = createIterableMethod(o, !0, !1),
        t[o] = createIterableMethod(o, !1, !0),
        r[o] = createIterableMethod(o, !0, !0)
    }
    )),
    [e, n, t, r]
}
const [mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations] = createInstrumentations();
function createInstrumentationGetter(e, t) {
    const n = t ? e ? shallowReadonlyInstrumentations : shallowInstrumentations : e ? readonlyInstrumentations : mutableInstrumentations;
    return (t, r, o) => "__v_isReactive" === r ? !e : "__v_isReadonly" === r ? e : "__v_raw" === r ? t : Reflect.get(hasOwn$2(n, r) && r in t ? n : t, r, o)
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(!1, !1)
}
  , shallowCollectionHandlers = {
    get: createInstrumentationGetter(!1, !0)
}
  , readonlyCollectionHandlers = {
    get: createInstrumentationGetter(!0, !1)
}
  , shallowReadonlyCollectionHandlers = {
    get: createInstrumentationGetter(!0, !0)
}
  , reactiveMap = new WeakMap
  , shallowReactiveMap = new WeakMap
  , readonlyMap = new WeakMap
  , shallowReadonlyMap = new WeakMap;
function targetTypeMap(e) {
    switch (e) {
    case "Object":
    case "Array":
        return 1;
    case "Map":
    case "Set":
    case "WeakMap":
    case "WeakSet":
        return 2;
    default:
        return 0
    }
}
function getTargetType(e) {
    return e.__v_skip || !Object.isExtensible(e) ? 0 : targetTypeMap(toRawType(e))
}
function reactive(e) {
    return isReadonly(e) ? e : createReactiveObject(e, !1, mutableHandlers, mutableCollectionHandlers, reactiveMap)
}
function shallowReactive(e) {
    return createReactiveObject(e, !1, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap)
}
function readonly(e) {
    return createReactiveObject(e, !0, readonlyHandlers, readonlyCollectionHandlers, readonlyMap)
}
function shallowReadonly(e) {
    return createReactiveObject(e, !0, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap)
}
function createReactiveObject(e, t, n, r, o) {
    if (!isObject$9(e))
        return e;
    if (e.__v_raw && (!t || !e.__v_isReactive))
        return e;
    const i = o.get(e);
    if (i)
        return i;
    const a = getTargetType(e);
    if (0 === a)
        return e;
    const s = new Proxy(e,2 === a ? r : n);
    return o.set(e, s),
    s
}
function isReactive(e) {
    return isReadonly(e) ? isReactive(e.__v_raw) : !(!e || !e.__v_isReactive)
}
function isReadonly(e) {
    return !(!e || !e.__v_isReadonly)
}
function isShallow(e) {
    return !(!e || !e.__v_isShallow)
}
function isProxy(e) {
    return !!e && !!e.__v_raw
}
function toRaw(e) {
    const t = e && e.__v_raw;
    return t ? toRaw(t) : e
}
function markRaw(e) {
    return Object.isExtensible(e) && def(e, "__v_skip", !0),
    e
}
const toReactive = e => isObject$9(e) ? reactive(e) : e
  , toReadonly = e => isObject$9(e) ? readonly(e) : e;
class ComputedRefImpl {
    constructor(e, t, n, r) {
        this.getter = e,
        this._setter = t,
        this.dep = void 0,
        this.__v_isRef = !0,
        this.__v_isReadonly = !1,
        this.effect = new ReactiveEffect(( () => e(this._value)),( () => triggerRefValue(this, 2 === this.effect._dirtyLevel ? 2 : 3))),
        this.effect.computed = this,
        this.effect.active = this._cacheable = !r,
        this.__v_isReadonly = n
    }
    get value() {
        const e = toRaw(this);
        return e._cacheable && !e.effect.dirty || !hasChanged(e._value, e._value = e.effect.run()) || triggerRefValue(e, 4),
        trackRefValue(e),
        e.effect._dirtyLevel >= 2 && triggerRefValue(e, 2),
        e._value
    }
    set value(e) {
        this._setter(e)
    }
    get _dirty() {
        return this.effect.dirty
    }
    set _dirty(e) {
        this.effect.dirty = e
    }
}
function computed$1(e, t, n=!1) {
    let r, o;
    const i = isFunction$5(e);
    i ? (r = e,
    o = NOOP) : (r = e.get,
    o = e.set);
    return new ComputedRefImpl(r,o,i || !o,n)
}
function trackRefValue(e) {
    var t;
    shouldTrack && activeEffect && (e = toRaw(e),
    trackEffect(activeEffect, null != (t = e.dep) ? t : e.dep = createDep(( () => e.dep = void 0), e instanceof ComputedRefImpl ? e : void 0)))
}
function triggerRefValue(e, t=4, n) {
    const r = (e = toRaw(e)).dep;
    r && triggerEffects(r, t)
}
function isRef(e) {
    return !(!e || !0 !== e.__v_isRef)
}
function ref$1(e) {
    return createRef(e, !1)
}
function shallowRef(e) {
    return createRef(e, !0)
}
function createRef(e, t) {
    return isRef(e) ? e : new RefImpl(e,t)
}
class RefImpl {
    constructor(e, t) {
        this.__v_isShallow = t,
        this.dep = void 0,
        this.__v_isRef = !0,
        this._rawValue = t ? e : toRaw(e),
        this._value = t ? e : toReactive(e)
    }
    get value() {
        return trackRefValue(this),
        this._value
    }
    set value(e) {
        const t = this.__v_isShallow || isShallow(e) || isReadonly(e);
        e = t ? e : toRaw(e),
        hasChanged(e, this._rawValue) && (this._rawValue = e,
        this._value = t ? e : toReactive(e),
        triggerRefValue(this, 4))
    }
}
function unref(e) {
    return isRef(e) ? e.value : e
}
const shallowUnwrapHandlers = {
    get: (e, t, n) => unref(Reflect.get(e, t, n)),
    set: (e, t, n, r) => {
        const o = e[t];
        return isRef(o) && !isRef(n) ? (o.value = n,
        !0) : Reflect.set(e, t, n, r)
    }
};
function proxyRefs(e) {
    return isReactive(e) ? e : new Proxy(e,shallowUnwrapHandlers)
}
function toRefs(e) {
    const t = isArray$d(e) ? new Array(e.length) : {};
    for (const n in e)
        t[n] = propertyToRef(e, n);
    return t
}
class ObjectRefImpl {
    constructor(e, t, n) {
        this._object = e,
        this._key = t,
        this._defaultValue = n,
        this.__v_isRef = !0
    }
    get value() {
        const e = this._object[this._key];
        return void 0 === e ? this._defaultValue : e
    }
    set value(e) {
        this._object[this._key] = e
    }
    get dep() {
        return getDepFromReactive(toRaw(this._object), this._key)
    }
}
class GetterRefImpl {
    constructor(e) {
        this._getter = e,
        this.__v_isRef = !0,
        this.__v_isReadonly = !0
    }
    get value() {
        return this._getter()
    }
}
function toRef(e, t, n) {
    return isRef(e) ? e : isFunction$5(e) ? new GetterRefImpl(e) : isObject$9(e) && arguments.length > 1 ? propertyToRef(e, t, n) : ref$1(e)
}
function propertyToRef(e, t, n) {
    const r = e[t];
    return isRef(r) ? r : new ObjectRefImpl(e,t,n)
}
/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const stack = [];
function warn$1(e, ...t) {
    pauseTracking();
    const n = stack.length ? stack[stack.length - 1].component : null
      , r = n && n.appContext.config.warnHandler
      , o = getComponentTrace();
    if (r)
        callWithErrorHandling(r, n, 11, [e + t.map((e => {
            var t, n;
            return null != (n = null == (t = e.toString) ? void 0 : t.call(e)) ? n : JSON.stringify(e)
        }
        )).join(""), n && n.proxy, o.map(( ({vnode: e}) => "at <".concat(formatComponentName(n, e.type), ">"))).join("\n"), o]);
    else {
        const n = ["[Vue warn]: ".concat(e), ...t];
        o.length && n.push("\n", ...formatTrace(o)),
        console.warn(...n)
    }
    resetTracking()
}
function getComponentTrace() {
    let e = stack[stack.length - 1];
    if (!e)
        return [];
    const t = [];
    for (; e; ) {
        const n = t[0];
        n && n.vnode === e ? n.recurseCount++ : t.push({
            vnode: e,
            recurseCount: 0
        });
        const r = e.component && e.component.parent;
        e = r && r.vnode
    }
    return t
}
function formatTrace(e) {
    const t = [];
    return e.forEach(( (e, n) => {
        t.push(...0 === n ? [] : ["\n"], ...formatTraceEntry(e))
    }
    )),
    t
}
function formatTraceEntry({vnode: e, recurseCount: t}) {
    const n = t > 0 ? "... (".concat(t, " recursive calls)") : ""
      , r = !!e.component && null == e.component.parent
      , o = " at <".concat(formatComponentName(e.component, e.type, r))
      , i = ">" + n;
    return e.props ? [o, ...formatProps(e.props), i] : [o + i]
}
function formatProps(e) {
    const t = []
      , n = Object.keys(e);
    return n.slice(0, 3).forEach((n => {
        t.push(...formatProp(n, e[n]))
    }
    )),
    n.length > 3 && t.push(" ..."),
    t
}
function formatProp(e, t, n) {
    return isString$2(t) ? (t = JSON.stringify(t),
    n ? t : ["".concat(e, "=").concat(t)]) : "number" == typeof t || "boolean" == typeof t || null == t ? n ? t : ["".concat(e, "=").concat(t)] : isRef(t) ? (t = formatProp(e, toRaw(t.value), !0),
    n ? t : ["".concat(e, "=Ref<"), t, ">"]) : isFunction$5(t) ? ["".concat(e, "=fn").concat(t.name ? "<".concat(t.name, ">") : "")] : (t = toRaw(t),
    n ? t : ["".concat(e, "="), t])
}
function callWithErrorHandling(e, t, n, r) {
    try {
        return r ? e(...r) : e()
    } catch (o) {
        handleError(o, t, n)
    }
}
function callWithAsyncErrorHandling(e, t, n, r) {
    if (isFunction$5(e)) {
        const o = callWithErrorHandling(e, t, n, r);
        return o && isPromise$1(o) && o.catch((e => {
            handleError(e, t, n)
        }
        )),
        o
    }
    if (isArray$d(e)) {
        const o = [];
        for (let i = 0; i < e.length; i++)
            o.push(callWithAsyncErrorHandling(e[i], t, n, r));
        return o
    }
}
function handleError(e, t, n, r=!0) {
    const o = t ? t.vnode : null;
    if (t) {
        let r = t.parent;
        const o = t.proxy
          , i = "https://vuejs.org/error-reference/#runtime-".concat(n);
        for (; r; ) {
            const t = r.ec;
            if (t)
                for (let n = 0; n < t.length; n++)
                    if (!1 === t[n](e, o, i))
                        return;
            r = r.parent
        }
        const a = t.appContext.config.errorHandler;
        if (a)
            return pauseTracking(),
            callWithErrorHandling(a, null, 10, [e, o, i]),
            void resetTracking()
    }
    logError(e, n, o, r)
}
function logError(e, t, n, r=!0) {
    console.error(e)
}
let isFlushing = !1
  , isFlushPending = !1;
const queue = [];
let flushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null
  , postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
function nextTick(e) {
    const t = currentFlushPromise || resolvedPromise;
    return e ? t.then(this ? e.bind(this) : e) : t
}
function findInsertionIndex(e) {
    let t = flushIndex + 1
      , n = queue.length;
    for (; t < n; ) {
        const r = t + n >>> 1
          , o = queue[r]
          , i = getId(o);
        i < e || i === e && o.pre ? t = r + 1 : n = r
    }
    return t
}
function queueJob(e) {
    queue.length && queue.includes(e, isFlushing && e.allowRecurse ? flushIndex + 1 : flushIndex) || (null == e.id ? queue.push(e) : queue.splice(findInsertionIndex(e.id), 0, e),
    queueFlush())
}
function queueFlush() {
    isFlushing || isFlushPending || (isFlushPending = !0,
    currentFlushPromise = resolvedPromise.then(flushJobs))
}
function invalidateJob(e) {
    const t = queue.indexOf(e);
    t > flushIndex && queue.splice(t, 1)
}
function queuePostFlushCb(e) {
    isArray$d(e) ? pendingPostFlushCbs.push(...e) : activePostFlushCbs && activePostFlushCbs.includes(e, e.allowRecurse ? postFlushIndex + 1 : postFlushIndex) || pendingPostFlushCbs.push(e),
    queueFlush()
}
function flushPreFlushCbs(e, t, n=(isFlushing ? flushIndex + 1 : 0)) {
    for (; n < queue.length; n++) {
        const t = queue[n];
        if (t && t.pre) {
            if (e && t.id !== e.uid)
                continue;
            queue.splice(n, 1),
            n--,
            t()
        }
    }
}
function flushPostFlushCbs(e) {
    if (pendingPostFlushCbs.length) {
        const e = [...new Set(pendingPostFlushCbs)].sort(( (e, t) => getId(e) - getId(t)));
        if (pendingPostFlushCbs.length = 0,
        activePostFlushCbs)
            return void activePostFlushCbs.push(...e);
        for (activePostFlushCbs = e,
        postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++)
            activePostFlushCbs[postFlushIndex]();
        activePostFlushCbs = null,
        postFlushIndex = 0
    }
}
const getId = e => null == e.id ? 1 / 0 : e.id
  , comparator = (e, t) => {
    const n = getId(e) - getId(t);
    if (0 === n) {
        if (e.pre && !t.pre)
            return -1;
        if (t.pre && !e.pre)
            return 1
    }
    return n
}
;
function flushJobs(e) {
    isFlushPending = !1,
    isFlushing = !0,
    queue.sort(comparator);
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const e = queue[flushIndex];
            e && !1 !== e.active && callWithErrorHandling(e, null, 14)
        }
    } finally {
        flushIndex = 0,
        queue.length = 0,
        flushPostFlushCbs(),
        isFlushing = !1,
        currentFlushPromise = null,
        (queue.length || pendingPostFlushCbs.length) && flushJobs()
    }
}
function emit(e, t, ...n) {
    if (e.isUnmounted)
        return;
    const r = e.vnode.props || EMPTY_OBJ;
    let o = n;
    const i = t.startsWith("update:")
      , a = i && t.slice(7);
    if (a && a in r) {
        const e = "".concat("modelValue" === a ? "model" : a, "Modifiers")
          , {number: t, trim: i} = r[e] || EMPTY_OBJ;
        i && (o = n.map((e => isString$2(e) ? e.trim() : e))),
        t && (o = n.map(looseToNumber))
    }
    let s, c = r[s = toHandlerKey(t)] || r[s = toHandlerKey(camelize(t))];
    !c && i && (c = r[s = toHandlerKey(hyphenate(t))]),
    c && callWithAsyncErrorHandling(c, e, 6, o);
    const l = r[s + "Once"];
    if (l) {
        if (e.emitted) {
            if (e.emitted[s])
                return
        } else
            e.emitted = {};
        e.emitted[s] = !0,
        callWithAsyncErrorHandling(l, e, 6, o)
    }
}
function normalizeEmitsOptions(e, t, n=!1) {
    const r = t.emitsCache
      , o = r.get(e);
    if (void 0 !== o)
        return o;
    const i = e.emits;
    let a = {}
      , s = !1;
    if (!isFunction$5(e)) {
        const r = e => {
            const n = normalizeEmitsOptions(e, t, !0);
            n && (s = !0,
            extend(a, n))
        }
        ;
        !n && t.mixins.length && t.mixins.forEach(r),
        e.extends && r(e.extends),
        e.mixins && e.mixins.forEach(r)
    }
    return i || s ? (isArray$d(i) ? i.forEach((e => a[e] = null)) : extend(a, i),
    isObject$9(e) && r.set(e, a),
    a) : (isObject$9(e) && r.set(e, null),
    null)
}
function isEmitListener(e, t) {
    return !(!e || !isOn(t)) && (t = t.slice(2).replace(/Once$/, ""),
    hasOwn$2(e, t[0].toLowerCase() + t.slice(1)) || hasOwn$2(e, hyphenate(t)) || hasOwn$2(e, t))
}
let currentRenderingInstance = null
  , currentScopeId = null;
function setCurrentRenderingInstance(e) {
    const t = currentRenderingInstance;
    return currentRenderingInstance = e,
    currentScopeId = e && e.type.__scopeId || null,
    t
}
function pushScopeId(e) {
    currentScopeId = e
}
function popScopeId() {
    currentScopeId = null
}
function withCtx(e, t=currentRenderingInstance, n) {
    if (!t)
        return e;
    if (e._n)
        return e;
    const r = (...n) => {
        r._d && setBlockTracking(-1);
        const o = setCurrentRenderingInstance(t);
        let i;
        try {
            i = e(...n)
        } finally {
            setCurrentRenderingInstance(o),
            r._d && setBlockTracking(1)
        }
        return i
    }
    ;
    return r._n = !0,
    r._c = !0,
    r._d = !0,
    r
}
function markAttrsAccessed() {}
function renderComponentRoot(e) {
    const {type: t, vnode: n, proxy: r, withProxy: o, propsOptions: [i], slots: a, attrs: s, emit: c, render: l, renderCache: u, props: p, data: d, setupState: f, ctx: h, inheritAttrs: g} = e
      , m = setCurrentRenderingInstance(e);
    let y, v;
    try {
        if (4 & n.shapeFlag) {
            const e = o || r
              , t = e;
            y = normalizeVNode(l.call(t, e, u, p, f, d, h)),
            v = s
        } else {
            const e = t;
            0,
            y = normalizeVNode(e.length > 1 ? e(p, {
                attrs: s,
                slots: a,
                emit: c
            }) : e(p, null)),
            v = t.props ? s : getFunctionalFallthrough(s)
        }
    } catch (_) {
        blockStack.length = 0,
        handleError(_, e, 1),
        y = createVNode(Comment)
    }
    let b = y;
    if (v && !1 !== g) {
        const e = Object.keys(v)
          , {shapeFlag: t} = b;
        e.length && 7 & t && (i && e.some(isModelListener) && (v = filterModelListeners(v, i)),
        b = cloneVNode(b, v, !1, !0))
    }
    return n.dirs && (b = cloneVNode(b, null, !1, !0),
    b.dirs = b.dirs ? b.dirs.concat(n.dirs) : n.dirs),
    n.transition && (b.transition = n.transition),
    y = b,
    setCurrentRenderingInstance(m),
    y
}
const getFunctionalFallthrough = e => {
    let t;
    for (const n in e)
        ("class" === n || "style" === n || isOn(n)) && ((t || (t = {}))[n] = e[n]);
    return t
}
  , filterModelListeners = (e, t) => {
    const n = {};
    for (const r in e)
        isModelListener(r) && r.slice(9)in t || (n[r] = e[r]);
    return n
}
;
function shouldUpdateComponent(e, t, n) {
    const {props: r, children: o, component: i} = e
      , {props: a, children: s, patchFlag: c} = t
      , l = i.emitsOptions;
    if (t.dirs || t.transition)
        return !0;
    if (!(n && c >= 0))
        return !(!o && !s || s && s.$stable) || r !== a && (r ? !a || hasPropsChanged(r, a, l) : !!a);
    if (1024 & c)
        return !0;
    if (16 & c)
        return r ? hasPropsChanged(r, a, l) : !!a;
    if (8 & c) {
        const e = t.dynamicProps;
        for (let t = 0; t < e.length; t++) {
            const n = e[t];
            if (a[n] !== r[n] && !isEmitListener(l, n))
                return !0
        }
    }
    return !1
}
function hasPropsChanged(e, t, n) {
    const r = Object.keys(t);
    if (r.length !== Object.keys(e).length)
        return !0;
    for (let o = 0; o < r.length; o++) {
        const i = r[o];
        if (t[i] !== e[i] && !isEmitListener(n, i))
            return !0
    }
    return !1
}
function updateHOCHostEl({vnode: e, parent: t}, n) {
    for (; t; ) {
        const r = t.subTree;
        if (r.suspense && r.suspense.activeBranch === e && (r.el = e.el),
        r !== e)
            break;
        (e = t.vnode).el = n,
        t = t.parent
    }
}
const COMPONENTS = "components"
  , DIRECTIVES = "directives";
function resolveComponent(e, t) {
    return resolveAsset(COMPONENTS, e, !0, t) || e
}
const NULL_DYNAMIC_COMPONENT = Symbol.for("v-ndc");
function resolveDynamicComponent(e) {
    return isString$2(e) ? resolveAsset(COMPONENTS, e, !1) || e : e || NULL_DYNAMIC_COMPONENT
}
function resolveDirective(e) {
    return resolveAsset(DIRECTIVES, e)
}
function resolveAsset(e, t, n=!0, r=!1) {
    const o = currentRenderingInstance || currentInstance;
    if (o) {
        const n = o.type;
        if (e === COMPONENTS) {
            const e = getComponentName(n, !1);
            if (e && (e === t || e === camelize(t) || e === capitalize(camelize(t))))
                return n
        }
        const i = resolve(o[e] || n[e], t) || resolve(o.appContext[e], t);
        return !i && r ? n : i
    }
}
function resolve(e, t) {
    return e && (e[t] || e[camelize(t)] || e[capitalize(camelize(t))])
}
const isSuspense = e => e.__isSuspense;
function queueEffectWithSuspense(e, t) {
    t && t.pendingBranch ? isArray$d(e) ? t.effects.push(...e) : t.effects.push(e) : queuePostFlushCb(e)
}
const ssrContextKey = Symbol.for("v-scx")
  , useSSRContext = () => inject(ssrContextKey);
function watchEffect(e, t) {
    return doWatch(e, null, t)
}
const INITIAL_WATCHER_VALUE = {};
function watch(e, t, n) {
    return doWatch(e, t, n)
}
function doWatch(e, t, {immediate: n, deep: r, flush: o, once: i, onTrack: a, onTrigger: s}=EMPTY_OBJ) {
    if (t && i) {
        const e = t;
        t = (...t) => {
            e(...t),
            S()
        }
    }
    const c = currentInstance
      , l = e => !0 === r ? e : traverse(e, !1 === r ? 1 : void 0);
    let u, p, d = !1, f = !1;
    if (isRef(e) ? (u = () => e.value,
    d = isShallow(e)) : isReactive(e) ? (u = () => l(e),
    d = !0) : isArray$d(e) ? (f = !0,
    d = e.some((e => isReactive(e) || isShallow(e))),
    u = () => e.map((e => isRef(e) ? e.value : isReactive(e) ? l(e) : isFunction$5(e) ? callWithErrorHandling(e, c, 2) : void 0))) : u = isFunction$5(e) ? t ? () => callWithErrorHandling(e, c, 2) : () => (p && p(),
    callWithAsyncErrorHandling(e, c, 3, [g])) : NOOP,
    t && r) {
        const e = u;
        u = () => traverse(e())
    }
    let h, g = e => {
        p = b.onStop = () => {
            callWithErrorHandling(e, c, 4),
            p = b.onStop = void 0
        }
    }
    ;
    if (isInSSRComponentSetup) {
        if (g = NOOP,
        t ? n && callWithAsyncErrorHandling(t, c, 3, [u(), f ? [] : void 0, g]) : u(),
        "sync" !== o)
            return NOOP;
        {
            const e = useSSRContext();
            h = e.__watcherHandles || (e.__watcherHandles = [])
        }
    }
    let m = f ? new Array(e.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;
    const y = () => {
        if (b.active && b.dirty)
            if (t) {
                const e = b.run();
                (r || d || (f ? e.some(( (e, t) => hasChanged(e, m[t]))) : hasChanged(e, m))) && (p && p(),
                callWithAsyncErrorHandling(t, c, 3, [e, m === INITIAL_WATCHER_VALUE ? void 0 : f && m[0] === INITIAL_WATCHER_VALUE ? [] : m, g]),
                m = e)
            } else
                b.run()
    }
    ;
    let v;
    y.allowRecurse = !!t,
    "sync" === o ? v = y : "post" === o ? v = () => queuePostRenderEffect(y, c && c.suspense) : (y.pre = !0,
    c && (y.id = c.uid),
    v = () => queueJob(y));
    const b = new ReactiveEffect(u,NOOP,v)
      , _ = getCurrentScope()
      , S = () => {
        b.stop(),
        _ && remove(_.effects, b)
    }
    ;
    return t ? n ? y() : m = b.run() : "post" === o ? queuePostRenderEffect(b.run.bind(b), c && c.suspense) : b.run(),
    h && h.push(S),
    S
}
function instanceWatch(e, t, n) {
    const r = this.proxy
      , o = isString$2(e) ? e.includes(".") ? createPathGetter(r, e) : () => r[e] : e.bind(r, r);
    let i;
    isFunction$5(t) ? i = t : (i = t.handler,
    n = t);
    const a = setCurrentInstance(this)
      , s = doWatch(o, i.bind(r), n);
    return a(),
    s
}
function createPathGetter(e, t) {
    const n = t.split(".");
    return () => {
        let t = e;
        for (let e = 0; e < n.length && t; e++)
            t = t[n[e]];
        return t
    }
}
function traverse(e, t=1 / 0, n) {
    if (t <= 0 || !isObject$9(e) || e.__v_skip)
        return e;
    if ((n = n || new Set).has(e))
        return e;
    if (n.add(e),
    t--,
    isRef(e))
        traverse(e.value, t, n);
    else if (isArray$d(e))
        for (let r = 0; r < e.length; r++)
            traverse(e[r], t, n);
    else if (isSet$3(e) || isMap$3(e))
        e.forEach((e => {
            traverse(e, t, n)
        }
        ));
    else if (isPlainObject$2(e))
        for (const r in e)
            traverse(e[r], t, n);
    return e
}
function withDirectives(e, t) {
    if (null === currentRenderingInstance)
        return e;
    const n = getExposeProxy(currentRenderingInstance) || currentRenderingInstance.proxy
      , r = e.dirs || (e.dirs = []);
    for (let o = 0; o < t.length; o++) {
        let[e,i,a,s=EMPTY_OBJ] = t[o];
        e && (isFunction$5(e) && (e = {
            mounted: e,
            updated: e
        }),
        e.deep && traverse(i),
        r.push({
            dir: e,
            instance: n,
            value: i,
            oldValue: void 0,
            arg: a,
            modifiers: s
        }))
    }
    return e
}
function invokeDirectiveHook(e, t, n, r) {
    const o = e.dirs
      , i = t && t.dirs;
    for (let a = 0; a < o.length; a++) {
        const s = o[a];
        i && (s.oldValue = i[a].value);
        let c = s.dir[r];
        c && (pauseTracking(),
        callWithAsyncErrorHandling(c, n, 8, [e.el, s, e, t]),
        resetTracking())
    }
}
const leaveCbKey = Symbol("_leaveCb")
  , enterCbKey = Symbol("_enterCb");
function useTransitionState() {
    const e = {
        isMounted: !1,
        isLeaving: !1,
        isUnmounting: !1,
        leavingVNodes: new Map
    };
    return onMounted(( () => {
        e.isMounted = !0
    }
    )),
    onBeforeUnmount(( () => {
        e.isUnmounting = !0
    }
    )),
    e
}
const TransitionHookValidator = [Function, Array]
  , BaseTransitionPropsValidators = {
    mode: String,
    appear: Boolean,
    persisted: Boolean,
    onBeforeEnter: TransitionHookValidator,
    onEnter: TransitionHookValidator,
    onAfterEnter: TransitionHookValidator,
    onEnterCancelled: TransitionHookValidator,
    onBeforeLeave: TransitionHookValidator,
    onLeave: TransitionHookValidator,
    onAfterLeave: TransitionHookValidator,
    onLeaveCancelled: TransitionHookValidator,
    onBeforeAppear: TransitionHookValidator,
    onAppear: TransitionHookValidator,
    onAfterAppear: TransitionHookValidator,
    onAppearCancelled: TransitionHookValidator
}
  , BaseTransitionImpl = {
    name: "BaseTransition",
    props: BaseTransitionPropsValidators,
    setup(e, {slots: t}) {
        const n = getCurrentInstance()
          , r = useTransitionState();
        return () => {
            const o = t.default && getTransitionRawChildren(t.default(), !0);
            if (!o || !o.length)
                return;
            let i = o[0];
            if (o.length > 1)
                for (const e of o)
                    if (e.type !== Comment) {
                        i = e;
                        break
                    }
            const a = toRaw(e)
              , {mode: s} = a;
            if (r.isLeaving)
                return emptyPlaceholder(i);
            const c = getKeepAliveChild(i);
            if (!c)
                return emptyPlaceholder(i);
            const l = resolveTransitionHooks(c, a, r, n);
            setTransitionHooks(c, l);
            const u = n.subTree
              , p = u && getKeepAliveChild(u);
            if (p && p.type !== Comment && !isSameVNodeType(c, p)) {
                const e = resolveTransitionHooks(p, a, r, n);
                if (setTransitionHooks(p, e),
                "out-in" === s && c.type !== Comment)
                    return r.isLeaving = !0,
                    e.afterLeave = () => {
                        r.isLeaving = !1,
                        !1 !== n.update.active && (n.effect.dirty = !0,
                        n.update())
                    }
                    ,
                    emptyPlaceholder(i);
                "in-out" === s && c.type !== Comment && (e.delayLeave = (e, t, n) => {
                    getLeavingNodesForType(r, p)[String(p.key)] = p,
                    e[leaveCbKey] = () => {
                        t(),
                        e[leaveCbKey] = void 0,
                        delete l.delayedLeave
                    }
                    ,
                    l.delayedLeave = n
                }
                )
            }
            return i
        }
    }
}
  , BaseTransition = BaseTransitionImpl;
function getLeavingNodesForType(e, t) {
    const {leavingVNodes: n} = e;
    let r = n.get(t.type);
    return r || (r = Object.create(null),
    n.set(t.type, r)),
    r
}
function resolveTransitionHooks(e, t, n, r) {
    const {appear: o, mode: i, persisted: a=!1, onBeforeEnter: s, onEnter: c, onAfterEnter: l, onEnterCancelled: u, onBeforeLeave: p, onLeave: d, onAfterLeave: f, onLeaveCancelled: h, onBeforeAppear: g, onAppear: m, onAfterAppear: y, onAppearCancelled: v} = t
      , b = String(e.key)
      , _ = getLeavingNodesForType(n, e)
      , S = (e, t) => {
        e && callWithAsyncErrorHandling(e, r, 9, t)
    }
      , w = (e, t) => {
        const n = t[1];
        S(e, t),
        isArray$d(e) ? e.every((e => e.length <= 1)) && n() : e.length <= 1 && n()
    }
      , $ = {
        mode: i,
        persisted: a,
        beforeEnter(t) {
            let r = s;
            if (!n.isMounted) {
                if (!o)
                    return;
                r = g || s
            }
            t[leaveCbKey] && t[leaveCbKey](!0);
            const i = _[b];
            i && isSameVNodeType(e, i) && i.el[leaveCbKey] && i.el[leaveCbKey](),
            S(r, [t])
        },
        enter(e) {
            let t = c
              , r = l
              , i = u;
            if (!n.isMounted) {
                if (!o)
                    return;
                t = m || c,
                r = y || l,
                i = v || u
            }
            let a = !1;
            const s = e[enterCbKey] = t => {
                a || (a = !0,
                S(t ? i : r, [e]),
                $.delayedLeave && $.delayedLeave(),
                e[enterCbKey] = void 0)
            }
            ;
            t ? w(t, [e, s]) : s()
        },
        leave(t, r) {
            const o = String(e.key);
            if (t[enterCbKey] && t[enterCbKey](!0),
            n.isUnmounting)
                return r();
            S(p, [t]);
            let i = !1;
            const a = t[leaveCbKey] = n => {
                i || (i = !0,
                r(),
                S(n ? h : f, [t]),
                t[leaveCbKey] = void 0,
                _[o] === e && delete _[o])
            }
            ;
            _[o] = e,
            d ? w(d, [t, a]) : a()
        },
        clone: e => resolveTransitionHooks(e, t, n, r)
    };
    return $
}
function emptyPlaceholder(e) {
    if (isKeepAlive(e))
        return (e = cloneVNode(e)).children = null,
        e
}
function getKeepAliveChild(e) {
    if (!isKeepAlive(e))
        return e;
    const {shapeFlag: t, children: n} = e;
    if (n) {
        if (16 & t)
            return n[0];
        if (32 & t && isFunction$5(n.default))
            return n.default()
    }
}
function setTransitionHooks(e, t) {
    6 & e.shapeFlag && e.component ? setTransitionHooks(e.component.subTree, t) : 128 & e.shapeFlag ? (e.ssContent.transition = t.clone(e.ssContent),
    e.ssFallback.transition = t.clone(e.ssFallback)) : e.transition = t
}
function getTransitionRawChildren(e, t=!1, n) {
    let r = []
      , o = 0;
    for (let i = 0; i < e.length; i++) {
        let a = e[i];
        const s = null == n ? a.key : String(n) + String(null != a.key ? a.key : i);
        a.type === Fragment ? (128 & a.patchFlag && o++,
        r = r.concat(getTransitionRawChildren(a.children, t, s))) : (t || a.type !== Comment) && r.push(null != s ? cloneVNode(a, {
            key: s
        }) : a)
    }
    if (o > 1)
        for (let i = 0; i < r.length; i++)
            r[i].patchFlag = -2;
    return r
}
/*! #__NO_SIDE_EFFECTS__ */
function defineComponent(e, t) {
    return isFunction$5(e) ? ( () => extend({
        name: e.name
    }, t, {
        setup: e
    }))() : e
}
const isAsyncWrapper = e => !!e.type.__asyncLoader /*! #__NO_SIDE_EFFECTS__ */
;
function defineAsyncComponent(e) {
    isFunction$5(e) && (e = {
        loader: e
    });
    const {loader: t, loadingComponent: n, errorComponent: r, delay: o=200, timeout: i, suspensible: a=!0, onError: s} = e;
    let c, l = null, u = 0;
    const p = () => {
        let e;
        return l || (e = l = t().catch((e => {
            if (e = e instanceof Error ? e : new Error(String(e)),
            s)
                return new Promise(( (t, n) => {
                    s(e, ( () => t((u++,
                    l = null,
                    p()))), ( () => n(e)), u + 1)
                }
                ));
            throw e
        }
        )).then((t => e !== l && l ? l : (t && (t.__esModule || "Module" === t[Symbol.toStringTag]) && (t = t.default),
        c = t,
        t))))
    }
    ;
    return defineComponent({
        name: "AsyncComponentWrapper",
        __asyncLoader: p,
        get __asyncResolved() {
            return c
        },
        setup() {
            const e = currentInstance;
            if (c)
                return () => createInnerComp(c, e);
            const t = t => {
                l = null,
                handleError(t, e, 13, !r)
            }
            ;
            if (a && e.suspense || isInSSRComponentSetup)
                return p().then((t => () => createInnerComp(t, e))).catch((e => (t(e),
                () => r ? createVNode(r, {
                    error: e
                }) : null)));
            const s = ref$1(!1)
              , u = ref$1()
              , d = ref$1(!!o);
            return o && setTimeout(( () => {
                d.value = !1
            }
            ), o),
            null != i && setTimeout(( () => {
                if (!s.value && !u.value) {
                    const e = new Error("Async component timed out after ".concat(i, "ms."));
                    t(e),
                    u.value = e
                }
            }
            ), i),
            p().then(( () => {
                s.value = !0,
                e.parent && isKeepAlive(e.parent.vnode) && (e.parent.effect.dirty = !0,
                queueJob(e.parent.update))
            }
            )).catch((e => {
                t(e),
                u.value = e
            }
            )),
            () => s.value && c ? createInnerComp(c, e) : u.value && r ? createVNode(r, {
                error: u.value
            }) : n && !d.value ? createVNode(n) : void 0
        }
    })
}
function createInnerComp(e, t) {
    const {ref: n, props: r, children: o, ce: i} = t.vnode
      , a = createVNode(e, r, o);
    return a.ref = n,
    a.ce = i,
    delete t.vnode.ce,
    a
}
const isKeepAlive = e => e.type.__isKeepAlive;
function onActivated(e, t) {
    registerKeepAliveHook(e, "a", t)
}
function onDeactivated(e, t) {
    registerKeepAliveHook(e, "da", t)
}
function registerKeepAliveHook(e, t, n=currentInstance) {
    const r = e.__wdc || (e.__wdc = () => {
        let t = n;
        for (; t; ) {
            if (t.isDeactivated)
                return;
            t = t.parent
        }
        return e()
    }
    );
    if (injectHook(t, r, n),
    n) {
        let e = n.parent;
        for (; e && e.parent; )
            isKeepAlive(e.parent.vnode) && injectToKeepAliveRoot(r, t, n, e),
            e = e.parent
    }
}
function injectToKeepAliveRoot(e, t, n, r) {
    const o = injectHook(t, e, r, !0);
    onUnmounted(( () => {
        remove(r[t], o)
    }
    ), n)
}
function injectHook(e, t, n=currentInstance, r=!1) {
    if (n) {
        const o = n[e] || (n[e] = [])
          , i = t.__weh || (t.__weh = (...r) => {
            if (n.isUnmounted)
                return;
            pauseTracking();
            const o = setCurrentInstance(n)
              , i = callWithAsyncErrorHandling(t, n, e, r);
            return o(),
            resetTracking(),
            i
        }
        );
        return r ? o.unshift(i) : o.push(i),
        i
    }
}
const createHook = e => (t, n=currentInstance) => (!isInSSRComponentSetup || "sp" === e) && injectHook(e, ( (...e) => t(...e)), n)
  , onBeforeMount = createHook("bm")
  , onMounted = createHook("m")
  , onBeforeUpdate = createHook("bu")
  , onUpdated = createHook("u")
  , onBeforeUnmount = createHook("bum")
  , onUnmounted = createHook("um")
  , onServerPrefetch = createHook("sp")
  , onRenderTriggered = createHook("rtg")
  , onRenderTracked = createHook("rtc");
function onErrorCaptured(e, t=currentInstance) {
    injectHook("ec", e, t)
}
function renderList(e, t, n, r) {
    let o;
    const i = n;
    if (isArray$d(e) || isString$2(e)) {
        o = new Array(e.length);
        for (let n = 0, r = e.length; n < r; n++)
            o[n] = t(e[n], n, void 0, i)
    } else if ("number" == typeof e) {
        o = new Array(e);
        for (let n = 0; n < e; n++)
            o[n] = t(n + 1, n, void 0, i)
    } else if (isObject$9(e))
        if (e[Symbol.iterator])
            o = Array.from(e, ( (e, n) => t(e, n, void 0, i)));
        else {
            const n = Object.keys(e);
            o = new Array(n.length);
            for (let r = 0, a = n.length; r < a; r++) {
                const a = n[r];
                o[r] = t(e[a], a, r, i)
            }
        }
    else
        o = [];
    return o
}
function createSlots(e, t) {
    for (let n = 0; n < t.length; n++) {
        const r = t[n];
        if (isArray$d(r))
            for (let t = 0; t < r.length; t++)
                e[r[t].name] = r[t].fn;
        else
            r && (e[r.name] = r.key ? (...e) => {
                const t = r.fn(...e);
                return t && (t.key = r.key),
                t
            }
            : r.fn)
    }
    return e
}
function renderSlot(e, t, n={}, r, o) {
    if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE)
        return "default" !== t && (n.name = t),
        createVNode("slot", n, r && r());
    let i = e[t];
    i && i._c && (i._d = !1),
    openBlock();
    const a = i && ensureValidVNode(i(n))
      , s = createBlock(Fragment, {
        key: n.key || a && a.key || "_".concat(t)
    }, a || (r ? r() : []), a && 1 === e._ ? 64 : -2);
    return !o && s.scopeId && (s.slotScopeIds = [s.scopeId + "-s"]),
    i && i._c && (i._d = !0),
    s
}
function ensureValidVNode(e) {
    return e.some((e => !isVNode(e) || e.type !== Comment && !(e.type === Fragment && !ensureValidVNode(e.children)))) ? e : null
}
const getPublicInstance = e => e ? isStatefulComponent(e) ? getExposeProxy(e) || e.proxy : getPublicInstance(e.parent) : null
  , publicPropertiesMap = extend(Object.create(null), {
    $: e => e,
    $el: e => e.vnode.el,
    $data: e => e.data,
    $props: e => e.props,
    $attrs: e => e.attrs,
    $slots: e => e.slots,
    $refs: e => e.refs,
    $parent: e => getPublicInstance(e.parent),
    $root: e => getPublicInstance(e.root),
    $emit: e => e.emit,
    $options: e => resolveMergedOptions(e),
    $forceUpdate: e => e.f || (e.f = () => {
        e.effect.dirty = !0,
        queueJob(e.update)
    }
    ),
    $nextTick: e => e.n || (e.n = nextTick.bind(e.proxy)),
    $watch: e => instanceWatch.bind(e)
})
  , hasSetupBinding = (e, t) => e !== EMPTY_OBJ && !e.__isScriptSetup && hasOwn$2(e, t)
  , PublicInstanceProxyHandlers = {
    get({_: e}, t) {
        if ("__v_skip" === t)
            return !0;
        const {ctx: n, setupState: r, data: o, props: i, accessCache: a, type: s, appContext: c} = e;
        let l;
        if ("$" !== t[0]) {
            const s = a[t];
            if (void 0 !== s)
                switch (s) {
                case 1:
                    return r[t];
                case 2:
                    return o[t];
                case 4:
                    return n[t];
                case 3:
                    return i[t]
                }
            else {
                if (hasSetupBinding(r, t))
                    return a[t] = 1,
                    r[t];
                if (o !== EMPTY_OBJ && hasOwn$2(o, t))
                    return a[t] = 2,
                    o[t];
                if ((l = e.propsOptions[0]) && hasOwn$2(l, t))
                    return a[t] = 3,
                    i[t];
                if (n !== EMPTY_OBJ && hasOwn$2(n, t))
                    return a[t] = 4,
                    n[t];
                shouldCacheAccess && (a[t] = 0)
            }
        }
        const u = publicPropertiesMap[t];
        let p, d;
        return u ? ("$attrs" === t && track(e.attrs, "get", ""),
        u(e)) : (p = s.__cssModules) && (p = p[t]) ? p : n !== EMPTY_OBJ && hasOwn$2(n, t) ? (a[t] = 4,
        n[t]) : (d = c.config.globalProperties,
        hasOwn$2(d, t) ? d[t] : void 0)
    },
    set({_: e}, t, n) {
        const {data: r, setupState: o, ctx: i} = e;
        return hasSetupBinding(o, t) ? (o[t] = n,
        !0) : r !== EMPTY_OBJ && hasOwn$2(r, t) ? (r[t] = n,
        !0) : !hasOwn$2(e.props, t) && (("$" !== t[0] || !(t.slice(1)in e)) && (i[t] = n,
        !0))
    },
    has({_: {data: e, setupState: t, accessCache: n, ctx: r, appContext: o, propsOptions: i}}, a) {
        let s;
        return !!n[a] || e !== EMPTY_OBJ && hasOwn$2(e, a) || hasSetupBinding(t, a) || (s = i[0]) && hasOwn$2(s, a) || hasOwn$2(r, a) || hasOwn$2(publicPropertiesMap, a) || hasOwn$2(o.config.globalProperties, a)
    },
    defineProperty(e, t, n) {
        return null != n.get ? e._.accessCache[t] = 0 : hasOwn$2(n, "value") && this.set(e, t, n.value, null),
        Reflect.defineProperty(e, t, n)
    }
};
function useSlots() {
    return getContext().slots
}
function getContext() {
    const e = getCurrentInstance();
    return e.setupContext || (e.setupContext = createSetupContext(e))
}
function normalizePropsOrEmits(e) {
    return isArray$d(e) ? e.reduce(( (e, t) => (e[t] = null,
    e)), {}) : e
}
let shouldCacheAccess = !0;
function applyOptions(e) {
    const t = resolveMergedOptions(e)
      , n = e.proxy
      , r = e.ctx;
    shouldCacheAccess = !1,
    t.beforeCreate && callHook$1(t.beforeCreate, e, "bc");
    const {data: o, computed: i, methods: a, watch: s, provide: c, inject: l, created: u, beforeMount: p, mounted: d, beforeUpdate: f, updated: h, activated: g, deactivated: m, beforeDestroy: y, beforeUnmount: v, destroyed: b, unmounted: _, render: S, renderTracked: w, renderTriggered: $, errorCaptured: k, serverPrefetch: E, expose: T, inheritAttrs: O, components: P, directives: x, filters: C} = t;
    if (l && resolveInjections(l, r, null),
    a)
        for (const A in a) {
            const e = a[A];
            isFunction$5(e) && (r[A] = e.bind(n))
        }
    if (o) {
        const t = o.call(n, n);
        isObject$9(t) && (e.data = reactive(t))
    }
    if (shouldCacheAccess = !0,
    i)
        for (const A in i) {
            const e = i[A]
              , t = isFunction$5(e) ? e.bind(n, n) : isFunction$5(e.get) ? e.get.bind(n, n) : NOOP
              , o = !isFunction$5(e) && isFunction$5(e.set) ? e.set.bind(n) : NOOP
              , a = computed({
                get: t,
                set: o
            });
            Object.defineProperty(r, A, {
                enumerable: !0,
                configurable: !0,
                get: () => a.value,
                set: e => a.value = e
            })
        }
    if (s)
        for (const A in s)
            createWatcher(s[A], r, n, A);
    if (c) {
        const e = isFunction$5(c) ? c.call(n) : c;
        Reflect.ownKeys(e).forEach((t => {
            provide(t, e[t])
        }
        ))
    }
    function I(e, t) {
        isArray$d(t) ? t.forEach((t => e(t.bind(n)))) : t && e(t.bind(n))
    }
    if (u && callHook$1(u, e, "c"),
    I(onBeforeMount, p),
    I(onMounted, d),
    I(onBeforeUpdate, f),
    I(onUpdated, h),
    I(onActivated, g),
    I(onDeactivated, m),
    I(onErrorCaptured, k),
    I(onRenderTracked, w),
    I(onRenderTriggered, $),
    I(onBeforeUnmount, v),
    I(onUnmounted, _),
    I(onServerPrefetch, E),
    isArray$d(T))
        if (T.length) {
            const t = e.exposed || (e.exposed = {});
            T.forEach((e => {
                Object.defineProperty(t, e, {
                    get: () => n[e],
                    set: t => n[e] = t
                })
            }
            ))
        } else
            e.exposed || (e.exposed = {});
    S && e.render === NOOP && (e.render = S),
    null != O && (e.inheritAttrs = O),
    P && (e.components = P),
    x && (e.directives = x)
}
function resolveInjections(e, t, n=NOOP) {
    isArray$d(e) && (e = normalizeInject(e));
    for (const r in e) {
        const n = e[r];
        let o;
        o = isObject$9(n) ? "default"in n ? inject(n.from || r, n.default, !0) : inject(n.from || r) : inject(n),
        isRef(o) ? Object.defineProperty(t, r, {
            enumerable: !0,
            configurable: !0,
            get: () => o.value,
            set: e => o.value = e
        }) : t[r] = o
    }
}
function callHook$1(e, t, n) {
    callWithAsyncErrorHandling(isArray$d(e) ? e.map((e => e.bind(t.proxy))) : e.bind(t.proxy), t, n)
}
function createWatcher(e, t, n, r) {
    const o = r.includes(".") ? createPathGetter(n, r) : () => n[r];
    if (isString$2(e)) {
        const n = t[e];
        isFunction$5(n) && watch(o, n)
    } else if (isFunction$5(e))
        watch(o, e.bind(n));
    else if (isObject$9(e))
        if (isArray$d(e))
            e.forEach((e => createWatcher(e, t, n, r)));
        else {
            const r = isFunction$5(e.handler) ? e.handler.bind(n) : t[e.handler];
            isFunction$5(r) && watch(o, r, e)
        }
}
function resolveMergedOptions(e) {
    const t = e.type
      , {mixins: n, extends: r} = t
      , {mixins: o, optionsCache: i, config: {optionMergeStrategies: a}} = e.appContext
      , s = i.get(t);
    let c;
    return s ? c = s : o.length || n || r ? (c = {},
    o.length && o.forEach((e => mergeOptions$1(c, e, a, !0))),
    mergeOptions$1(c, t, a)) : c = t,
    isObject$9(t) && i.set(t, c),
    c
}
function mergeOptions$1(e, t, n, r=!1) {
    const {mixins: o, extends: i} = t;
    i && mergeOptions$1(e, i, n, !0),
    o && o.forEach((t => mergeOptions$1(e, t, n, !0)));
    for (const a in t)
        if (r && "expose" === a)
            ;
        else {
            const r = internalOptionMergeStrats[a] || n && n[a];
            e[a] = r ? r(e[a], t[a]) : t[a]
        }
    return e
}
const internalOptionMergeStrats = {
    data: mergeDataFn,
    props: mergeEmitsOrPropsOptions,
    emits: mergeEmitsOrPropsOptions,
    methods: mergeObjectOptions,
    computed: mergeObjectOptions,
    beforeCreate: mergeAsArray,
    created: mergeAsArray,
    beforeMount: mergeAsArray,
    mounted: mergeAsArray,
    beforeUpdate: mergeAsArray,
    updated: mergeAsArray,
    beforeDestroy: mergeAsArray,
    beforeUnmount: mergeAsArray,
    destroyed: mergeAsArray,
    unmounted: mergeAsArray,
    activated: mergeAsArray,
    deactivated: mergeAsArray,
    errorCaptured: mergeAsArray,
    serverPrefetch: mergeAsArray,
    components: mergeObjectOptions,
    directives: mergeObjectOptions,
    watch: mergeWatchOptions,
    provide: mergeDataFn,
    inject: mergeInject
};
function mergeDataFn(e, t) {
    return t ? e ? function() {
        return extend(isFunction$5(e) ? e.call(this, this) : e, isFunction$5(t) ? t.call(this, this) : t)
    }
    : t : e
}
function mergeInject(e, t) {
    return mergeObjectOptions(normalizeInject(e), normalizeInject(t))
}
function normalizeInject(e) {
    if (isArray$d(e)) {
        const t = {};
        for (let n = 0; n < e.length; n++)
            t[e[n]] = e[n];
        return t
    }
    return e
}
function mergeAsArray(e, t) {
    return e ? [...new Set([].concat(e, t))] : t
}
function mergeObjectOptions(e, t) {
    return e ? extend(Object.create(null), e, t) : t
}
function mergeEmitsOrPropsOptions(e, t) {
    return e ? isArray$d(e) && isArray$d(t) ? [...new Set([...e, ...t])] : extend(Object.create(null), normalizePropsOrEmits(e), normalizePropsOrEmits(null != t ? t : {})) : t
}
function mergeWatchOptions(e, t) {
    if (!e)
        return t;
    if (!t)
        return e;
    const n = extend(Object.create(null), e);
    for (const r in t)
        n[r] = mergeAsArray(e[r], t[r]);
    return n
}
function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: !1,
            globalProperties: {},
            optionMergeStrategies: {},
            errorHandler: void 0,
            warnHandler: void 0,
            compilerOptions: {}
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null),
        optionsCache: new WeakMap,
        propsCache: new WeakMap,
        emitsCache: new WeakMap
    }
}
let uid$1 = 0;
function createAppAPI(e, t) {
    return function(n, r=null) {
        isFunction$5(n) || (n = extend({}, n)),
        null == r || isObject$9(r) || (r = null);
        const o = createAppContext()
          , i = new WeakSet;
        let a = !1;
        const s = o.app = {
            _uid: uid$1++,
            _component: n,
            _props: r,
            _container: null,
            _context: o,
            _instance: null,
            version: version,
            get config() {
                return o.config
            },
            set config(e) {},
            use: (e, ...t) => (i.has(e) || (e && isFunction$5(e.install) ? (i.add(e),
            e.install(s, ...t)) : isFunction$5(e) && (i.add(e),
            e(s, ...t))),
            s),
            mixin: e => (o.mixins.includes(e) || o.mixins.push(e),
            s),
            component: (e, t) => t ? (o.components[e] = t,
            s) : o.components[e],
            directive: (e, t) => t ? (o.directives[e] = t,
            s) : o.directives[e],
            mount(i, c, l) {
                if (!a) {
                    const u = createVNode(n, r);
                    return u.appContext = o,
                    !0 === l ? l = "svg" : !1 === l && (l = void 0),
                    c && t ? t(u, i) : e(u, i, l),
                    a = !0,
                    s._container = i,
                    i.__vue_app__ = s,
                    getExposeProxy(u.component) || u.component.proxy
                }
            },
            unmount() {
                a && (e(null, s._container),
                delete s._container.__vue_app__)
            },
            provide: (e, t) => (o.provides[e] = t,
            s),
            runWithContext(e) {
                const t = currentApp;
                currentApp = s;
                try {
                    return e()
                } finally {
                    currentApp = t
                }
            }
        };
        return s
    }
}
let currentApp = null;
function provide(e, t) {
    if (currentInstance) {
        let n = currentInstance.provides;
        const r = currentInstance.parent && currentInstance.parent.provides;
        r === n && (n = currentInstance.provides = Object.create(r)),
        n[e] = t
    } else
        ;
}
function inject(e, t, n=!1) {
    const r = currentInstance || currentRenderingInstance;
    if (r || currentApp) {
        const o = r ? null == r.parent ? r.vnode.appContext && r.vnode.appContext.provides : r.parent.provides : currentApp._context.provides;
        if (o && e in o)
            return o[e];
        if (arguments.length > 1)
            return n && isFunction$5(t) ? t.call(r && r.proxy) : t
    }
}
const internalObjectProto = {}
  , createInternalObject = () => Object.create(internalObjectProto)
  , isInternalObject = e => Object.getPrototypeOf(e) === internalObjectProto;
function initProps(e, t, n, r=!1) {
    const o = {}
      , i = createInternalObject();
    e.propsDefaults = Object.create(null),
    setFullProps(e, t, o, i);
    for (const a in e.propsOptions[0])
        a in o || (o[a] = void 0);
    n ? e.props = r ? o : shallowReactive(o) : e.type.props ? e.props = o : e.props = i,
    e.attrs = i
}
function updateProps(e, t, n, r) {
    const {props: o, attrs: i, vnode: {patchFlag: a}} = e
      , s = toRaw(o)
      , [c] = e.propsOptions;
    let l = !1;
    if (!(r || a > 0) || 16 & a) {
        let r;
        setFullProps(e, t, o, i) && (l = !0);
        for (const i in s)
            t && (hasOwn$2(t, i) || (r = hyphenate(i)) !== i && hasOwn$2(t, r)) || (c ? !n || void 0 === n[i] && void 0 === n[r] || (o[i] = resolvePropValue(c, s, i, void 0, e, !0)) : delete o[i]);
        if (i !== s)
            for (const e in i)
                t && hasOwn$2(t, e) || (delete i[e],
                l = !0)
    } else if (8 & a) {
        const n = e.vnode.dynamicProps;
        for (let r = 0; r < n.length; r++) {
            let a = n[r];
            if (isEmitListener(e.emitsOptions, a))
                continue;
            const u = t[a];
            if (c)
                if (hasOwn$2(i, a))
                    u !== i[a] && (i[a] = u,
                    l = !0);
                else {
                    const t = camelize(a);
                    o[t] = resolvePropValue(c, s, t, u, e, !1)
                }
            else
                u !== i[a] && (i[a] = u,
                l = !0)
        }
    }
    l && trigger(e.attrs, "set", "")
}
function setFullProps(e, t, n, r) {
    const [o,i] = e.propsOptions;
    let a, s = !1;
    if (t)
        for (let c in t) {
            if (isReservedProp(c))
                continue;
            const l = t[c];
            let u;
            o && hasOwn$2(o, u = camelize(c)) ? i && i.includes(u) ? (a || (a = {}))[u] = l : n[u] = l : isEmitListener(e.emitsOptions, c) || c in r && l === r[c] || (r[c] = l,
            s = !0)
        }
    if (i) {
        const t = toRaw(n)
          , r = a || EMPTY_OBJ;
        for (let a = 0; a < i.length; a++) {
            const s = i[a];
            n[s] = resolvePropValue(o, t, s, r[s], e, !hasOwn$2(r, s))
        }
    }
    return s
}
function resolvePropValue(e, t, n, r, o, i) {
    const a = e[n];
    if (null != a) {
        const e = hasOwn$2(a, "default");
        if (e && void 0 === r) {
            const e = a.default;
            if (a.type !== Function && !a.skipFactory && isFunction$5(e)) {
                const {propsDefaults: i} = o;
                if (n in i)
                    r = i[n];
                else {
                    const a = setCurrentInstance(o);
                    r = i[n] = e.call(null, t),
                    a()
                }
            } else
                r = e
        }
        a[0] && (i && !e ? r = !1 : !a[1] || "" !== r && r !== hyphenate(n) || (r = !0))
    }
    return r
}
function normalizePropsOptions(e, t, n=!1) {
    const r = t.propsCache
      , o = r.get(e);
    if (o)
        return o;
    const i = e.props
      , a = {}
      , s = [];
    let c = !1;
    if (!isFunction$5(e)) {
        const r = e => {
            c = !0;
            const [n,r] = normalizePropsOptions(e, t, !0);
            extend(a, n),
            r && s.push(...r)
        }
        ;
        !n && t.mixins.length && t.mixins.forEach(r),
        e.extends && r(e.extends),
        e.mixins && e.mixins.forEach(r)
    }
    if (!i && !c)
        return isObject$9(e) && r.set(e, EMPTY_ARR),
        EMPTY_ARR;
    if (isArray$d(i))
        for (let u = 0; u < i.length; u++) {
            const e = camelize(i[u]);
            validatePropName(e) && (a[e] = EMPTY_OBJ)
        }
    else if (i)
        for (const u in i) {
            const e = camelize(u);
            if (validatePropName(e)) {
                const t = i[u]
                  , n = a[e] = isArray$d(t) || isFunction$5(t) ? {
                    type: t
                } : extend({}, t);
                if (n) {
                    const t = getTypeIndex(Boolean, n.type)
                      , r = getTypeIndex(String, n.type);
                    n[0] = t > -1,
                    n[1] = r < 0 || t < r,
                    (t > -1 || hasOwn$2(n, "default")) && s.push(e)
                }
            }
        }
    const l = [a, s];
    return isObject$9(e) && r.set(e, l),
    l
}
function validatePropName(e) {
    return "$" !== e[0] && !isReservedProp(e)
}
function getType(e) {
    if (null === e)
        return "null";
    if ("function" == typeof e)
        return e.name || "";
    if ("object" == typeof e) {
        return e.constructor && e.constructor.name || ""
    }
    return ""
}
function isSameType(e, t) {
    return getType(e) === getType(t)
}
function getTypeIndex(e, t) {
    return isArray$d(t) ? t.findIndex((t => isSameType(t, e))) : isFunction$5(t) && isSameType(t, e) ? 0 : -1
}
const isInternalKey = e => "_" === e[0] || "$stable" === e
  , normalizeSlotValue = e => isArray$d(e) ? e.map(normalizeVNode) : [normalizeVNode(e)]
  , normalizeSlot$1 = (e, t, n) => {
    if (t._n)
        return t;
    const r = withCtx(( (...e) => normalizeSlotValue(t(...e))), n);
    return r._c = !1,
    r
}
  , normalizeObjectSlots = (e, t, n) => {
    const r = e._ctx;
    for (const o in e) {
        if (isInternalKey(o))
            continue;
        const n = e[o];
        if (isFunction$5(n))
            t[o] = normalizeSlot$1(o, n, r);
        else if (null != n) {
            const e = normalizeSlotValue(n);
            t[o] = () => e
        }
    }
}
  , normalizeVNodeSlots = (e, t) => {
    const n = normalizeSlotValue(t);
    e.slots.default = () => n
}
  , initSlots = (e, t) => {
    const n = e.slots = createInternalObject();
    if (32 & e.vnode.shapeFlag) {
        const e = t._;
        e ? (extend(n, t),
        def(n, "_", e, !0)) : normalizeObjectSlots(t, n)
    } else
        t && normalizeVNodeSlots(e, t)
}
  , updateSlots = (e, t, n) => {
    const {vnode: r, slots: o} = e;
    let i = !0
      , a = EMPTY_OBJ;
    if (32 & r.shapeFlag) {
        const e = t._;
        e ? n && 1 === e ? i = !1 : (extend(o, t),
        n || 1 !== e || delete o._) : (i = !t.$stable,
        normalizeObjectSlots(t, o)),
        a = t
    } else
        t && (normalizeVNodeSlots(e, t),
        a = {
            default: 1
        });
    if (i)
        for (const s in o)
            isInternalKey(s) || null != a[s] || delete o[s]
}
;
function setRef(e, t, n, r, o=!1) {
    if (isArray$d(e))
        return void e.forEach(( (e, i) => setRef(e, t && (isArray$d(t) ? t[i] : t), n, r, o)));
    if (isAsyncWrapper(r) && !o)
        return;
    const i = 4 & r.shapeFlag ? getExposeProxy(r.component) || r.component.proxy : r.el
      , a = o ? null : i
      , {i: s, r: c} = e
      , l = t && t.r
      , u = s.refs === EMPTY_OBJ ? s.refs = {} : s.refs
      , p = s.setupState;
    if (null != l && l !== c && (isString$2(l) ? (u[l] = null,
    hasOwn$2(p, l) && (p[l] = null)) : isRef(l) && (l.value = null)),
    isFunction$5(c))
        callWithErrorHandling(c, s, 12, [a, u]);
    else {
        const t = isString$2(c)
          , r = isRef(c);
        if (t || r) {
            const s = () => {
                if (e.f) {
                    const n = t ? hasOwn$2(p, c) ? p[c] : u[c] : c.value;
                    o ? isArray$d(n) && remove(n, i) : isArray$d(n) ? n.includes(i) || n.push(i) : t ? (u[c] = [i],
                    hasOwn$2(p, c) && (p[c] = u[c])) : (c.value = [i],
                    e.k && (u[e.k] = c.value))
                } else
                    t ? (u[c] = a,
                    hasOwn$2(p, c) && (p[c] = a)) : r && (c.value = a,
                    e.k && (u[e.k] = a))
            }
            ;
            a ? (s.id = -1,
            queuePostRenderEffect(s, n)) : s()
        }
    }
}
let hasMismatch = !1;
const isSVGContainer = e => e.namespaceURI.includes("svg") && "foreignObject" !== e.tagName
  , isMathMLContainer = e => e.namespaceURI.includes("MathML")
  , getContainerType = e => isSVGContainer(e) ? "svg" : isMathMLContainer(e) ? "mathml" : void 0
  , isComment = e => 8 === e.nodeType;
function createHydrationFunctions(e) {
    const {mt: t, p: n, o: {patchProp: r, createText: o, nextSibling: i, parentNode: a, remove: s, insert: c, createComment: l}} = e
      , u = (n, r, s, l, v, b=!1) => {
        b = b || !!r.dynamicChildren;
        const _ = isComment(n) && "[" === n.data
          , S = () => h(n, r, s, l, v, _)
          , {type: w, ref: $, shapeFlag: k, patchFlag: E} = r;
        let T = n.nodeType;
        r.el = n,
        -2 === E && (b = !1,
        r.dynamicChildren = null);
        let O = null;
        switch (w) {
        case Text:
            3 !== T ? "" === r.children ? (c(r.el = o(""), a(n), n),
            O = n) : O = S() : (n.data !== r.children && (hasMismatch = !0,
            warn$1("Hydration text mismatch in", n.parentNode, "\n  - rendered on server: ".concat(JSON.stringify(n.data), "\n  - expected on client: ").concat(JSON.stringify(r.children))),
            n.data = r.children),
            O = i(n));
            break;
        case Comment:
            y(n) ? (O = i(n),
            m(r.el = n.content.firstChild, n, s)) : O = 8 !== T || _ ? S() : i(n);
            break;
        case Static:
            if (_ && (T = (n = i(n)).nodeType),
            1 === T || 3 === T) {
                O = n;
                const e = !r.children.length;
                for (let t = 0; t < r.staticCount; t++)
                    e && (r.children += 1 === O.nodeType ? O.outerHTML : O.data),
                    t === r.staticCount - 1 && (r.anchor = O),
                    O = i(O);
                return _ ? i(O) : O
            }
            S();
            break;
        case Fragment:
            O = _ ? f(n, r, s, l, v, b) : S();
            break;
        default:
            if (1 & k)
                O = 1 === T && r.type.toLowerCase() === n.tagName.toLowerCase() || y(n) ? p(n, r, s, l, v, b) : S();
            else if (6 & k) {
                r.slotScopeIds = v;
                const e = a(n);
                if (O = _ ? g(n) : isComment(n) && "teleport start" === n.data ? g(n, n.data, "teleport end") : i(n),
                t(r, e, null, s, l, getContainerType(e), b),
                isAsyncWrapper(r)) {
                    let t;
                    _ ? (t = createVNode(Fragment),
                    t.anchor = O ? O.previousSibling : e.lastChild) : t = 3 === n.nodeType ? createTextVNode("") : createVNode("div"),
                    t.el = n,
                    r.component.subTree = t
                }
            } else
                64 & k ? O = 8 !== T ? S() : r.type.hydrate(n, r, s, l, v, b, e, d) : 128 & k ? O = r.type.hydrate(n, r, s, l, getContainerType(a(n)), v, b, e, u) : warn$1("Invalid HostVNode type:", w, "(".concat(typeof w, ")"))
        }
        return null != $ && setRef($, null, l, r),
        O
    }
      , p = (e, t, n, o, i, a) => {
        a = a || !!t.dynamicChildren;
        const {type: c, props: l, patchFlag: u, shapeFlag: p, dirs: f, transition: h} = t
          , g = "input" === c || "option" === c;
        if (g || -1 !== u) {
            f && invokeDirectiveHook(t, null, n, "created");
            let c, u = !1;
            if (y(e)) {
                u = needTransition(o, h) && n && n.vnode.props && n.vnode.props.appear;
                const r = e.content.firstChild;
                u && h.beforeEnter(r),
                m(r, e, n),
                t.el = e = r
            }
            if (16 & p && (!l || !l.innerHTML && !l.textContent)) {
                let r = d(e.firstChild, t, e, n, o, i, a)
                  , c = !1;
                for (; r; ) {
                    hasMismatch = !0,
                    c || (warn$1("Hydration children mismatch on", e, "\nServer rendered element contains more child nodes than client vdom."),
                    c = !0);
                    const t = r;
                    r = r.nextSibling,
                    s(t)
                }
            } else
                8 & p && e.textContent !== t.children && (hasMismatch = !0,
                warn$1("Hydration text content mismatch on", e, "\n  - rendered on server: ".concat(e.textContent, "\n  - expected on client: ").concat(t.children)),
                e.textContent = t.children);
            if (l)
                for (const o in l)
                    propHasMismatch(e, o, l[o], t, n) && (hasMismatch = !0),
                    (g && (o.endsWith("value") || "indeterminate" === o) || isOn(o) && !isReservedProp(o) || "." === o[0]) && r(e, o, null, l[o], void 0, void 0, n);
            (c = l && l.onVnodeBeforeMount) && invokeVNodeHook(c, n, t),
            f && invokeDirectiveHook(t, null, n, "beforeMount"),
            ((c = l && l.onVnodeMounted) || f || u) && queueEffectWithSuspense(( () => {
                c && invokeVNodeHook(c, n, t),
                u && h.enter(e),
                f && invokeDirectiveHook(t, null, n, "mounted")
            }
            ), o)
        }
        return e.nextSibling
    }
      , d = (e, t, r, o, i, a, s) => {
        s = s || !!t.dynamicChildren;
        const c = t.children
          , l = c.length;
        let p = !1;
        for (let d = 0; d < l; d++) {
            const t = s ? c[d] : c[d] = normalizeVNode(c[d]);
            if (e)
                e = u(e, t, o, i, a, s);
            else {
                if (t.type === Text && !t.children)
                    continue;
                hasMismatch = !0,
                p || (warn$1("Hydration children mismatch on", r, "\nServer rendered element contains fewer child nodes than client vdom."),
                p = !0),
                n(null, t, r, null, o, i, getContainerType(r), a)
            }
        }
        return e
    }
      , f = (e, t, n, r, o, s) => {
        const {slotScopeIds: u} = t;
        u && (o = o ? o.concat(u) : u);
        const p = a(e)
          , f = d(i(e), t, p, n, r, o, s);
        return f && isComment(f) && "]" === f.data ? i(t.anchor = f) : (hasMismatch = !0,
        c(t.anchor = l("]"), p, f),
        f)
    }
      , h = (e, t, r, o, c, l) => {
        if (hasMismatch = !0,
        warn$1("Hydration node mismatch:\n- rendered on server:", e, 3 === e.nodeType ? "(text)" : isComment(e) && "[" === e.data ? "(start of fragment)" : "", "\n- expected on client:", t.type),
        t.el = null,
        l) {
            const t = g(e);
            for (; ; ) {
                const n = i(e);
                if (!n || n === t)
                    break;
                s(n)
            }
        }
        const u = i(e)
          , p = a(e);
        return s(e),
        n(null, t, p, u, r, o, getContainerType(p), c),
        u
    }
      , g = (e, t="[", n="]") => {
        let r = 0;
        for (; e; )
            if ((e = i(e)) && isComment(e) && (e.data === t && r++,
            e.data === n)) {
                if (0 === r)
                    return i(e);
                r--
            }
        return e
    }
      , m = (e, t, n) => {
        const r = t.parentNode;
        r && r.replaceChild(e, t);
        let o = n;
        for (; o; )
            o.vnode.el === t && (o.vnode.el = o.subTree.el = e),
            o = o.parent
    }
      , y = e => 1 === e.nodeType && "template" === e.tagName.toLowerCase();
    return [ (e, t) => {
        if (!t.hasChildNodes())
            return warn$1("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),
            n(null, e, t),
            flushPostFlushCbs(),
            void (t._vnode = e);
        hasMismatch = !1,
        u(t.firstChild, e, null, null, null),
        flushPostFlushCbs(),
        t._vnode = e,
        hasMismatch && console.error("Hydration completed but contains mismatches.")
    }
    , u]
}
function propHasMismatch(e, t, n, r, o) {
    var i;
    let a, s, c, l;
    if ("class" === t)
        c = e.getAttribute("class"),
        l = normalizeClass(n),
        isSetEqual(toClassSet(c || ""), toClassSet(l)) || (a = s = "class");
    else if ("style" === t) {
        c = e.getAttribute("style") || "",
        l = isString$2(n) ? n : stringifyStyle(normalizeStyle(n));
        const t = toStyleMap(c)
          , u = toStyleMap(l);
        if (r.dirs)
            for (const {dir: e, value: n} of r.dirs)
                "show" !== e.name || n || u.set("display", "none");
        const p = null == o ? void 0 : o.subTree;
        if (r === p || (null == p ? void 0 : p.type) === Fragment && p.children.includes(r)) {
            const e = null == (i = null == o ? void 0 : o.getCssVars) ? void 0 : i.call(o);
            for (const t in e)
                u.set("--".concat(t), String(e[t]))
        }
        isMapEqual(t, u) || (a = s = "style")
    } else
        (e instanceof SVGElement && isKnownSvgAttr(t) || e instanceof HTMLElement && (isBooleanAttr(t) || isKnownHtmlAttr(t))) && (isBooleanAttr(t) ? (c = e.hasAttribute(t),
        l = includeBooleanAttr(n)) : null == n ? (c = e.hasAttribute(t),
        l = !1) : (c = e.hasAttribute(t) ? e.getAttribute(t) : "value" === t && "TEXTAREA" === e.tagName && e.value,
        l = !!isRenderableAttrValue(n) && String(n)),
        c !== l && (a = "attribute",
        s = t));
    if (a) {
        const t = e => !1 === e ? "(not rendered)" : "".concat(s, '="').concat(e, '"');
        return warn$1("Hydration ".concat(a, " mismatch on"), e, "\n  - rendered on server: ".concat(t(c), "\n  - expected on client: ").concat(t(l), "\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.")),
        !0
    }
    return !1
}
function toClassSet(e) {
    return new Set(e.trim().split(/\s+/))
}
function isSetEqual(e, t) {
    if (e.size !== t.size)
        return !1;
    for (const n of e)
        if (!t.has(n))
            return !1;
    return !0
}
function toStyleMap(e) {
    const t = new Map;
    for (const n of e.split(";")) {
        let[e,r] = n.split(":");
        e = null == e ? void 0 : e.trim(),
        r = null == r ? void 0 : r.trim(),
        e && r && t.set(e, r)
    }
    return t
}
function isMapEqual(e, t) {
    if (e.size !== t.size)
        return !1;
    for (const [n,r] of e)
        if (r !== t.get(n))
            return !1;
    return !0
}
const queuePostRenderEffect = queueEffectWithSuspense;
function createRenderer(e) {
    return baseCreateRenderer(e)
}
function createHydrationRenderer(e) {
    return baseCreateRenderer(e, createHydrationFunctions)
}
function baseCreateRenderer(e, t) {
    getGlobalThis().__VUE__ = !0;
    const {insert: n, remove: r, patchProp: o, createElement: i, createText: a, createComment: s, setText: c, setElementText: l, parentNode: u, nextSibling: p, setScopeId: d=NOOP, insertStaticContent: f} = e
      , h = (e, t, n, r=null, o=null, i=null, a=void 0, s=null, c=!!t.dynamicChildren) => {
        if (e === t)
            return;
        e && !isSameVNodeType(e, t) && (r = H(e),
        N(e, o, i, !0),
        e = null),
        -2 === t.patchFlag && (c = !1,
        t.dynamicChildren = null);
        const {type: l, ref: u, shapeFlag: p} = t;
        switch (l) {
        case Text:
            g(e, t, n, r);
            break;
        case Comment:
            m(e, t, n, r);
            break;
        case Static:
            null == e && y(t, n, r, a);
            break;
        case Fragment:
            E(e, t, n, r, o, i, a, s, c);
            break;
        default:
            1 & p ? v(e, t, n, r, o, i, a, s, c) : 6 & p ? T(e, t, n, r, o, i, a, s, c) : (64 & p || 128 & p) && l.process(e, t, n, r, o, i, a, s, c, K)
        }
        null != u && o && setRef(u, e && e.ref, i, t || e, !t)
    }
      , g = (e, t, r, o) => {
        if (null == e)
            n(t.el = a(t.children), r, o);
        else {
            const n = t.el = e.el;
            t.children !== e.children && c(n, t.children)
        }
    }
      , m = (e, t, r, o) => {
        null == e ? n(t.el = s(t.children || ""), r, o) : t.el = e.el
    }
      , y = (e, t, n, r) => {
        [e.el,e.anchor] = f(e.children, t, n, r, e.el, e.anchor)
    }
      , v = (e, t, n, r, o, i, a, s, c) => {
        "svg" === t.type ? a = "svg" : "math" === t.type && (a = "mathml"),
        null == e ? b(t, n, r, o, i, a, s, c) : w(e, t, o, i, a, s, c)
    }
      , b = (e, t, r, a, s, c, u, p) => {
        let d, f;
        const {props: h, shapeFlag: g, transition: m, dirs: y} = e;
        if (d = e.el = i(e.type, c, h && h.is, h),
        8 & g ? l(d, e.children) : 16 & g && S(e.children, d, null, a, s, resolveChildrenNamespace(e, c), u, p),
        y && invokeDirectiveHook(e, null, a, "created"),
        _(d, e, e.scopeId, u, a),
        h) {
            for (const t in h)
                "value" === t || isReservedProp(t) || o(d, t, null, h[t], c, e.children, a, s, U);
            "value"in h && o(d, "value", null, h.value, c),
            (f = h.onVnodeBeforeMount) && invokeVNodeHook(f, a, e)
        }
        y && invokeDirectiveHook(e, null, a, "beforeMount");
        const v = needTransition(s, m);
        v && m.beforeEnter(d),
        n(d, t, r),
        ((f = h && h.onVnodeMounted) || v || y) && queuePostRenderEffect(( () => {
            f && invokeVNodeHook(f, a, e),
            v && m.enter(d),
            y && invokeDirectiveHook(e, null, a, "mounted")
        }
        ), s)
    }
      , _ = (e, t, n, r, o) => {
        if (n && d(e, n),
        r)
            for (let i = 0; i < r.length; i++)
                d(e, r[i]);
        if (o) {
            if (t === o.subTree) {
                const t = o.vnode;
                _(e, t, t.scopeId, t.slotScopeIds, o.parent)
            }
        }
    }
      , S = (e, t, n, r, o, i, a, s, c=0) => {
        for (let l = c; l < e.length; l++) {
            const c = e[l] = s ? cloneIfMounted(e[l]) : normalizeVNode(e[l]);
            h(null, c, t, n, r, o, i, a, s)
        }
    }
      , w = (e, t, n, r, i, a, s) => {
        const c = t.el = e.el;
        let {patchFlag: u, dynamicChildren: p, dirs: d} = t;
        u |= 16 & e.patchFlag;
        const f = e.props || EMPTY_OBJ
          , h = t.props || EMPTY_OBJ;
        let g;
        if (n && toggleRecurse(n, !1),
        (g = h.onVnodeBeforeUpdate) && invokeVNodeHook(g, n, t, e),
        d && invokeDirectiveHook(t, e, n, "beforeUpdate"),
        n && toggleRecurse(n, !0),
        p ? $(e.dynamicChildren, p, c, n, r, resolveChildrenNamespace(t, i), a) : s || I(e, t, c, null, n, r, resolveChildrenNamespace(t, i), a, !1),
        u > 0) {
            if (16 & u)
                k(c, t, f, h, n, r, i);
            else if (2 & u && f.class !== h.class && o(c, "class", null, h.class, i),
            4 & u && o(c, "style", f.style, h.style, i),
            8 & u) {
                const a = t.dynamicProps;
                for (let t = 0; t < a.length; t++) {
                    const s = a[t]
                      , l = f[s]
                      , u = h[s];
                    u === l && "value" !== s || o(c, s, l, u, i, e.children, n, r, U)
                }
            }
            1 & u && e.children !== t.children && l(c, t.children)
        } else
            s || null != p || k(c, t, f, h, n, r, i);
        ((g = h.onVnodeUpdated) || d) && queuePostRenderEffect(( () => {
            g && invokeVNodeHook(g, n, t, e),
            d && invokeDirectiveHook(t, e, n, "updated")
        }
        ), r)
    }
      , $ = (e, t, n, r, o, i, a) => {
        for (let s = 0; s < t.length; s++) {
            const c = e[s]
              , l = t[s]
              , p = c.el && (c.type === Fragment || !isSameVNodeType(c, l) || 70 & c.shapeFlag) ? u(c.el) : n;
            h(c, l, p, null, r, o, i, a, !0)
        }
    }
      , k = (e, t, n, r, i, a, s) => {
        if (n !== r) {
            if (n !== EMPTY_OBJ)
                for (const c in n)
                    isReservedProp(c) || c in r || o(e, c, n[c], null, s, t.children, i, a, U);
            for (const c in r) {
                if (isReservedProp(c))
                    continue;
                const l = r[c]
                  , u = n[c];
                l !== u && "value" !== c && o(e, c, u, l, s, t.children, i, a, U)
            }
            "value"in r && o(e, "value", n.value, r.value, s)
        }
    }
      , E = (e, t, r, o, i, s, c, l, u) => {
        const p = t.el = e ? e.el : a("")
          , d = t.anchor = e ? e.anchor : a("");
        let {patchFlag: f, dynamicChildren: h, slotScopeIds: g} = t;
        g && (l = l ? l.concat(g) : g),
        null == e ? (n(p, r, o),
        n(d, r, o),
        S(t.children || [], r, d, i, s, c, l, u)) : f > 0 && 64 & f && h && e.dynamicChildren ? ($(e.dynamicChildren, h, r, i, s, c, l),
        (null != t.key || i && t === i.subTree) && traverseStaticChildren(e, t, !0)) : I(e, t, r, d, i, s, c, l, u)
    }
      , T = (e, t, n, r, o, i, a, s, c) => {
        t.slotScopeIds = s,
        null == e ? 512 & t.shapeFlag ? o.ctx.activate(t, n, r, a, c) : O(t, n, r, o, i, a, c) : P(e, t, c)
    }
      , O = (e, t, n, r, o, i, a) => {
        const s = e.component = createComponentInstance(e, r, o);
        if (isKeepAlive(e) && (s.ctx.renderer = K),
        setupComponent(s),
        s.asyncDep) {
            if (o && o.registerDep(s, x),
            !e.el) {
                const e = s.subTree = createVNode(Comment);
                m(null, e, t, n)
            }
        } else
            x(s, e, t, n, o, i, a)
    }
      , P = (e, t, n) => {
        const r = t.component = e.component;
        if (shouldUpdateComponent(e, t, n)) {
            if (r.asyncDep && !r.asyncResolved)
                return void C(r, t, n);
            r.next = t,
            invalidateJob(r.update),
            r.effect.dirty = !0,
            r.update()
        } else
            t.el = e.el,
            r.vnode = t
    }
      , x = (e, t, n, r, o, i, a) => {
        const s = () => {
            if (e.isMounted) {
                let {next: t, bu: n, u: r, parent: c, vnode: l} = e;
                {
                    const n = locateNonHydratedAsyncRoot(e);
                    if (n)
                        return t && (t.el = l.el,
                        C(e, t, a)),
                        void n.asyncDep.then(( () => {
                            e.isUnmounted || s()
                        }
                        ))
                }
                let p, d = t;
                toggleRecurse(e, !1),
                t ? (t.el = l.el,
                C(e, t, a)) : t = l,
                n && invokeArrayFns(n),
                (p = t.props && t.props.onVnodeBeforeUpdate) && invokeVNodeHook(p, c, t, l),
                toggleRecurse(e, !0);
                const f = renderComponentRoot(e)
                  , g = e.subTree;
                e.subTree = f,
                h(g, f, u(g.el), H(g), e, o, i),
                t.el = f.el,
                null === d && updateHOCHostEl(e, f.el),
                r && queuePostRenderEffect(r, o),
                (p = t.props && t.props.onVnodeUpdated) && queuePostRenderEffect(( () => invokeVNodeHook(p, c, t, l)), o)
            } else {
                let a;
                const {el: s, props: c} = t
                  , {bm: l, m: u, parent: p} = e
                  , d = isAsyncWrapper(t);
                if (toggleRecurse(e, !1),
                l && invokeArrayFns(l),
                !d && (a = c && c.onVnodeBeforeMount) && invokeVNodeHook(a, p, t),
                toggleRecurse(e, !0),
                s && W) {
                    const n = () => {
                        e.subTree = renderComponentRoot(e),
                        W(s, e.subTree, e, o, null)
                    }
                    ;
                    d ? t.type.__asyncLoader().then(( () => !e.isUnmounted && n())) : n()
                } else {
                    const a = e.subTree = renderComponentRoot(e);
                    h(null, a, n, r, e, o, i),
                    t.el = a.el
                }
                if (u && queuePostRenderEffect(u, o),
                !d && (a = c && c.onVnodeMounted)) {
                    const e = t;
                    queuePostRenderEffect(( () => invokeVNodeHook(a, p, e)), o)
                }
                (256 & t.shapeFlag || p && isAsyncWrapper(p.vnode) && 256 & p.vnode.shapeFlag) && e.a && queuePostRenderEffect(e.a, o),
                e.isMounted = !0,
                t = n = r = null
            }
        }
          , c = e.effect = new ReactiveEffect(s,NOOP,( () => queueJob(l)),e.scope)
          , l = e.update = () => {
            c.dirty && c.run()
        }
        ;
        l.id = e.uid,
        toggleRecurse(e, !0),
        l()
    }
      , C = (e, t, n) => {
        t.component = e;
        const r = e.vnode.props;
        e.vnode = t,
        e.next = null,
        updateProps(e, t.props, r, n),
        updateSlots(e, t.children, n),
        pauseTracking(),
        flushPreFlushCbs(e),
        resetTracking()
    }
      , I = (e, t, n, r, o, i, a, s, c=!1) => {
        const u = e && e.children
          , p = e ? e.shapeFlag : 0
          , d = t.children
          , {patchFlag: f, shapeFlag: h} = t;
        if (f > 0) {
            if (128 & f)
                return void L(u, d, n, r, o, i, a, s, c);
            if (256 & f)
                return void A(u, d, n, r, o, i, a, s, c)
        }
        8 & h ? (16 & p && U(u, o, i),
        d !== u && l(n, d)) : 16 & p ? 16 & h ? L(u, d, n, r, o, i, a, s, c) : U(u, o, i, !0) : (8 & p && l(n, ""),
        16 & h && S(d, n, r, o, i, a, s, c))
    }
      , A = (e, t, n, r, o, i, a, s, c) => {
        t = t || EMPTY_ARR;
        const l = (e = e || EMPTY_ARR).length
          , u = t.length
          , p = Math.min(l, u);
        let d;
        for (d = 0; d < p; d++) {
            const r = t[d] = c ? cloneIfMounted(t[d]) : normalizeVNode(t[d]);
            h(e[d], r, n, null, o, i, a, s, c)
        }
        l > u ? U(e, o, i, !0, !1, p) : S(t, n, r, o, i, a, s, c, p)
    }
      , L = (e, t, n, r, o, i, a, s, c) => {
        let l = 0;
        const u = t.length;
        let p = e.length - 1
          , d = u - 1;
        for (; l <= p && l <= d; ) {
            const r = e[l]
              , u = t[l] = c ? cloneIfMounted(t[l]) : normalizeVNode(t[l]);
            if (!isSameVNodeType(r, u))
                break;
            h(r, u, n, null, o, i, a, s, c),
            l++
        }
        for (; l <= p && l <= d; ) {
            const r = e[p]
              , l = t[d] = c ? cloneIfMounted(t[d]) : normalizeVNode(t[d]);
            if (!isSameVNodeType(r, l))
                break;
            h(r, l, n, null, o, i, a, s, c),
            p--,
            d--
        }
        if (l > p) {
            if (l <= d) {
                const e = d + 1
                  , p = e < u ? t[e].el : r;
                for (; l <= d; )
                    h(null, t[l] = c ? cloneIfMounted(t[l]) : normalizeVNode(t[l]), n, p, o, i, a, s, c),
                    l++
            }
        } else if (l > d)
            for (; l <= p; )
                N(e[l], o, i, !0),
                l++;
        else {
            const f = l
              , g = l
              , m = new Map;
            for (l = g; l <= d; l++) {
                const e = t[l] = c ? cloneIfMounted(t[l]) : normalizeVNode(t[l]);
                null != e.key && m.set(e.key, l)
            }
            let y, v = 0;
            const b = d - g + 1;
            let _ = !1
              , S = 0;
            const w = new Array(b);
            for (l = 0; l < b; l++)
                w[l] = 0;
            for (l = f; l <= p; l++) {
                const r = e[l];
                if (v >= b) {
                    N(r, o, i, !0);
                    continue
                }
                let u;
                if (null != r.key)
                    u = m.get(r.key);
                else
                    for (y = g; y <= d; y++)
                        if (0 === w[y - g] && isSameVNodeType(r, t[y])) {
                            u = y;
                            break
                        }
                void 0 === u ? N(r, o, i, !0) : (w[u - g] = l + 1,
                u >= S ? S = u : _ = !0,
                h(r, t[u], n, null, o, i, a, s, c),
                v++)
            }
            const $ = _ ? getSequence(w) : EMPTY_ARR;
            for (y = $.length - 1,
            l = b - 1; l >= 0; l--) {
                const e = g + l
                  , p = t[e]
                  , d = e + 1 < u ? t[e + 1].el : r;
                0 === w[l] ? h(null, p, n, d, o, i, a, s, c) : _ && (y < 0 || l !== $[y] ? R(p, n, d, 2) : y--)
            }
        }
    }
      , R = (e, t, r, o, i=null) => {
        const {el: a, type: s, transition: c, children: l, shapeFlag: u} = e;
        if (6 & u)
            return void R(e.component.subTree, t, r, o);
        if (128 & u)
            return void e.suspense.move(t, r, o);
        if (64 & u)
            return void s.move(e, t, r, K);
        if (s === Fragment) {
            n(a, t, r);
            for (let e = 0; e < l.length; e++)
                R(l[e], t, r, o);
            return void n(e.anchor, t, r)
        }
        if (s === Static)
            return void ( ({el: e, anchor: t}, r, o) => {
                let i;
                for (; e && e !== t; )
                    i = p(e),
                    n(e, r, o),
                    e = i;
                n(t, r, o)
            }
            )(e, t, r);
        if (2 !== o && 1 & u && c)
            if (0 === o)
                c.beforeEnter(a),
                n(a, t, r),
                queuePostRenderEffect(( () => c.enter(a)), i);
            else {
                const {leave: e, delayLeave: o, afterLeave: i} = c
                  , s = () => n(a, t, r)
                  , l = () => {
                    e(a, ( () => {
                        s(),
                        i && i()
                    }
                    ))
                }
                ;
                o ? o(a, s, l) : l()
            }
        else
            n(a, t, r)
    }
      , N = (e, t, n, r=!1, o=!1) => {
        const {type: i, props: a, ref: s, children: c, dynamicChildren: l, shapeFlag: u, patchFlag: p, dirs: d} = e;
        if (null != s && setRef(s, null, n, e, !0),
        256 & u)
            return void t.ctx.deactivate(e);
        const f = 1 & u && d
          , h = !isAsyncWrapper(e);
        let g;
        if (h && (g = a && a.onVnodeBeforeUnmount) && invokeVNodeHook(g, t, e),
        6 & u)
            D(e.component, n, r);
        else {
            if (128 & u)
                return void e.suspense.unmount(n, r);
            f && invokeDirectiveHook(e, null, t, "beforeUnmount"),
            64 & u ? e.type.remove(e, t, n, o, K, r) : l && (i !== Fragment || p > 0 && 64 & p) ? U(l, t, n, !1, !0) : (i === Fragment && 384 & p || !o && 16 & u) && U(c, t, n),
            r && j(e)
        }
        (h && (g = a && a.onVnodeUnmounted) || f) && queuePostRenderEffect(( () => {
            g && invokeVNodeHook(g, t, e),
            f && invokeDirectiveHook(e, null, t, "unmounted")
        }
        ), n)
    }
      , j = e => {
        const {type: t, el: n, anchor: o, transition: i} = e;
        if (t === Fragment)
            return void M(n, o);
        if (t === Static)
            return void ( ({el: e, anchor: t}) => {
                let n;
                for (; e && e !== t; )
                    n = p(e),
                    r(e),
                    e = n;
                r(t)
            }
            )(e);
        const a = () => {
            r(n),
            i && !i.persisted && i.afterLeave && i.afterLeave()
        }
        ;
        if (1 & e.shapeFlag && i && !i.persisted) {
            const {leave: t, delayLeave: r} = i
              , o = () => t(n, a);
            r ? r(e.el, a, o) : o()
        } else
            a()
    }
      , M = (e, t) => {
        let n;
        for (; e !== t; )
            n = p(e),
            r(e),
            e = n;
        r(t)
    }
      , D = (e, t, n) => {
        const {bum: r, scope: o, update: i, subTree: a, um: s} = e;
        r && invokeArrayFns(r),
        o.stop(),
        i && (i.active = !1,
        N(a, e, t, n)),
        s && queuePostRenderEffect(s, t),
        queuePostRenderEffect(( () => {
            e.isUnmounted = !0
        }
        ), t),
        t && t.pendingBranch && !t.isUnmounted && e.asyncDep && !e.asyncResolved && e.suspenseId === t.pendingId && (t.deps--,
        0 === t.deps && t.resolve())
    }
      , U = (e, t, n, r=!1, o=!1, i=0) => {
        for (let a = i; a < e.length; a++)
            N(e[a], t, n, r, o)
    }
      , H = e => 6 & e.shapeFlag ? H(e.component.subTree) : 128 & e.shapeFlag ? e.suspense.next() : p(e.anchor || e.el);
    let G = !1;
    const F = (e, t, n) => {
        null == e ? t._vnode && N(t._vnode, null, null, !0) : h(t._vnode || null, e, t, null, null, null, n),
        G || (G = !0,
        flushPreFlushCbs(),
        flushPostFlushCbs(),
        G = !1),
        t._vnode = e
    }
      , K = {
        p: h,
        um: N,
        m: R,
        r: j,
        mt: O,
        mc: S,
        pc: I,
        pbc: $,
        n: H,
        o: e
    };
    let V, W;
    return t && ([V,W] = t(K)),
    {
        render: F,
        hydrate: V,
        createApp: createAppAPI(F, V)
    }
}
function resolveChildrenNamespace({type: e, props: t}, n) {
    return "svg" === n && "foreignObject" === e || "mathml" === n && "annotation-xml" === e && t && t.encoding && t.encoding.includes("html") ? void 0 : n
}
function toggleRecurse({effect: e, update: t}, n) {
    e.allowRecurse = t.allowRecurse = n
}
function needTransition(e, t) {
    return (!e || e && !e.pendingBranch) && t && !t.persisted
}
function traverseStaticChildren(e, t, n=!1) {
    const r = e.children
      , o = t.children;
    if (isArray$d(r) && isArray$d(o))
        for (let i = 0; i < r.length; i++) {
            const e = r[i];
            let t = o[i];
            1 & t.shapeFlag && !t.dynamicChildren && ((t.patchFlag <= 0 || 32 === t.patchFlag) && (t = o[i] = cloneIfMounted(o[i]),
            t.el = e.el),
            n || traverseStaticChildren(e, t)),
            t.type === Text && (t.el = e.el)
        }
}
function getSequence(e) {
    const t = e.slice()
      , n = [0];
    let r, o, i, a, s;
    const c = e.length;
    for (r = 0; r < c; r++) {
        const c = e[r];
        if (0 !== c) {
            if (o = n[n.length - 1],
            e[o] < c) {
                t[r] = o,
                n.push(r);
                continue
            }
            for (i = 0,
            a = n.length - 1; i < a; )
                s = i + a >> 1,
                e[n[s]] < c ? i = s + 1 : a = s;
            c < e[n[i]] && (i > 0 && (t[r] = n[i - 1]),
            n[i] = r)
        }
    }
    for (i = n.length,
    a = n[i - 1]; i-- > 0; )
        n[i] = a,
        a = t[a];
    return n
}
function locateNonHydratedAsyncRoot(e) {
    const t = e.subTree.component;
    if (t)
        return t.asyncDep && !t.asyncResolved ? t : locateNonHydratedAsyncRoot(t)
}
const isTeleport = e => e.__isTeleport
  , Fragment = Symbol.for("v-fgt")
  , Text = Symbol.for("v-txt")
  , Comment = Symbol.for("v-cmt")
  , Static = Symbol.for("v-stc")
  , blockStack = [];
let currentBlock = null;
function openBlock(e=!1) {
    blockStack.push(currentBlock = e ? null : [])
}
function closeBlock() {
    blockStack.pop(),
    currentBlock = blockStack[blockStack.length - 1] || null
}
let isBlockTreeEnabled = 1;
function setBlockTracking(e) {
    isBlockTreeEnabled += e
}
function setupBlock(e) {
    return e.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null,
    closeBlock(),
    isBlockTreeEnabled > 0 && currentBlock && currentBlock.push(e),
    e
}
function createElementBlock(e, t, n, r, o, i) {
    return setupBlock(createBaseVNode(e, t, n, r, o, i, !0))
}
function createBlock(e, t, n, r, o) {
    return setupBlock(createVNode(e, t, n, r, o, !0))
}
function isVNode(e) {
    return !!e && !0 === e.__v_isVNode
}
function isSameVNodeType(e, t) {
    return e.type === t.type && e.key === t.key
}
const normalizeKey = ({key: e}) => null != e ? e : null
  , normalizeRef = ({ref: e, ref_key: t, ref_for: n}) => ("number" == typeof e && (e = "" + e),
null != e ? isString$2(e) || isRef(e) || isFunction$5(e) ? {
    i: currentRenderingInstance,
    r: e,
    k: t,
    f: !!n
} : e : null);
function createBaseVNode(e, t=null, n=null, r=0, o=null, i=(e === Fragment ? 0 : 1), a=!1, s=!1) {
    const c = {
        __v_isVNode: !0,
        __v_skip: !0,
        type: e,
        props: t,
        key: t && normalizeKey(t),
        ref: t && normalizeRef(t),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: n,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag: i,
        patchFlag: r,
        dynamicProps: o,
        dynamicChildren: null,
        appContext: null,
        ctx: currentRenderingInstance
    };
    return s ? (normalizeChildren(c, n),
    128 & i && e.normalize(c)) : n && (c.shapeFlag |= isString$2(n) ? 8 : 16),
    isBlockTreeEnabled > 0 && !a && currentBlock && (c.patchFlag > 0 || 6 & i) && 32 !== c.patchFlag && currentBlock.push(c),
    c
}
const createVNode = _createVNode;
function _createVNode(e, t=null, n=null, r=0, o=null, i=!1) {
    if (e && e !== NULL_DYNAMIC_COMPONENT || (e = Comment),
    isVNode(e)) {
        const r = cloneVNode(e, t, !0);
        return n && normalizeChildren(r, n),
        isBlockTreeEnabled > 0 && !i && currentBlock && (6 & r.shapeFlag ? currentBlock[currentBlock.indexOf(e)] = r : currentBlock.push(r)),
        r.patchFlag |= -2,
        r
    }
    if (isClassComponent(e) && (e = e.__vccOpts),
    t) {
        t = guardReactiveProps(t);
        let {class: e, style: n} = t;
        e && !isString$2(e) && (t.class = normalizeClass(e)),
        isObject$9(n) && (isProxy(n) && !isArray$d(n) && (n = extend({}, n)),
        t.style = normalizeStyle(n))
    }
    return createBaseVNode(e, t, n, r, o, isString$2(e) ? 1 : isSuspense(e) ? 128 : isTeleport(e) ? 64 : isObject$9(e) ? 4 : isFunction$5(e) ? 2 : 0, i, !0)
}
function guardReactiveProps(e) {
    return e ? isProxy(e) || isInternalObject(e) ? extend({}, e) : e : null
}
function cloneVNode(e, t, n=!1, r=!1) {
    const {props: o, ref: i, patchFlag: a, children: s, transition: c} = e
      , l = t ? mergeProps(o || {}, t) : o
      , u = {
        __v_isVNode: !0,
        __v_skip: !0,
        type: e.type,
        props: l,
        key: l && normalizeKey(l),
        ref: t && t.ref ? n && i ? isArray$d(i) ? i.concat(normalizeRef(t)) : [i, normalizeRef(t)] : normalizeRef(t) : i,
        scopeId: e.scopeId,
        slotScopeIds: e.slotScopeIds,
        children: s,
        target: e.target,
        targetAnchor: e.targetAnchor,
        staticCount: e.staticCount,
        shapeFlag: e.shapeFlag,
        patchFlag: t && e.type !== Fragment ? -1 === a ? 16 : 16 | a : a,
        dynamicProps: e.dynamicProps,
        dynamicChildren: e.dynamicChildren,
        appContext: e.appContext,
        dirs: e.dirs,
        transition: c,
        component: e.component,
        suspense: e.suspense,
        ssContent: e.ssContent && cloneVNode(e.ssContent),
        ssFallback: e.ssFallback && cloneVNode(e.ssFallback),
        el: e.el,
        anchor: e.anchor,
        ctx: e.ctx,
        ce: e.ce
    };
    return c && r && (u.transition = c.clone(u)),
    u
}
function createTextVNode(e=" ", t=0) {
    return createVNode(Text, null, e, t)
}
function createStaticVNode(e, t) {
    const n = createVNode(Static, null, e);
    return n.staticCount = t,
    n
}
function createCommentVNode(e="", t=!1) {
    return t ? (openBlock(),
    createBlock(Comment, null, e)) : createVNode(Comment, null, e)
}
function normalizeVNode(e) {
    return null == e || "boolean" == typeof e ? createVNode(Comment) : isArray$d(e) ? createVNode(Fragment, null, e.slice()) : "object" == typeof e ? cloneIfMounted(e) : createVNode(Text, null, String(e))
}
function cloneIfMounted(e) {
    return null === e.el && -1 !== e.patchFlag || e.memo ? e : cloneVNode(e)
}
function normalizeChildren(e, t) {
    let n = 0;
    const {shapeFlag: r} = e;
    if (null == t)
        t = null;
    else if (isArray$d(t))
        n = 16;
    else if ("object" == typeof t) {
        if (65 & r) {
            const n = t.default;
            return void (n && (n._c && (n._d = !1),
            normalizeChildren(e, n()),
            n._c && (n._d = !0)))
        }
        {
            n = 32;
            const r = t._;
            r || isInternalObject(t) ? 3 === r && currentRenderingInstance && (1 === currentRenderingInstance.slots._ ? t._ = 1 : (t._ = 2,
            e.patchFlag |= 1024)) : t._ctx = currentRenderingInstance
        }
    } else
        isFunction$5(t) ? (t = {
            default: t,
            _ctx: currentRenderingInstance
        },
        n = 32) : (t = String(t),
        64 & r ? (n = 16,
        t = [createTextVNode(t)]) : n = 8);
    e.children = t,
    e.shapeFlag |= n
}
function mergeProps(...e) {
    const t = {};
    for (let n = 0; n < e.length; n++) {
        const r = e[n];
        for (const e in r)
            if ("class" === e)
                t.class !== r.class && (t.class = normalizeClass([t.class, r.class]));
            else if ("style" === e)
                t.style = normalizeStyle([t.style, r.style]);
            else if (isOn(e)) {
                const n = t[e]
                  , o = r[e];
                !o || n === o || isArray$d(n) && n.includes(o) || (t[e] = n ? [].concat(n, o) : o)
            } else
                "" !== e && (t[e] = r[e])
    }
    return t
}
function invokeVNodeHook(e, t, n, r=null) {
    callWithAsyncErrorHandling(e, t, 7, [n, r])
}
const emptyAppContext = createAppContext();
let uid = 0;
function createComponentInstance(e, t, n) {
    const r = e.type
      , o = (t ? t.appContext : e.appContext) || emptyAppContext
      , i = {
        uid: uid++,
        vnode: e,
        type: r,
        parent: t,
        appContext: o,
        root: null,
        next: null,
        subTree: null,
        effect: null,
        update: null,
        scope: new EffectScope(!0),
        render: null,
        proxy: null,
        exposed: null,
        exposeProxy: null,
        withProxy: null,
        provides: t ? t.provides : Object.create(o.provides),
        accessCache: null,
        renderCache: [],
        components: null,
        directives: null,
        propsOptions: normalizePropsOptions(r, o),
        emitsOptions: normalizeEmitsOptions(r, o),
        emit: null,
        emitted: null,
        propsDefaults: EMPTY_OBJ,
        inheritAttrs: r.inheritAttrs,
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        attrsProxy: null,
        slotsProxy: null,
        suspense: n,
        suspenseId: n ? n.pendingId : 0,
        asyncDep: null,
        asyncResolved: !1,
        isMounted: !1,
        isUnmounted: !1,
        isDeactivated: !1,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null,
        sp: null
    };
    return i.ctx = {
        _: i
    },
    i.root = t ? t.root : i,
    i.emit = emit.bind(null, i),
    e.ce && e.ce(i),
    i
}
let currentInstance = null;
const getCurrentInstance = () => currentInstance || currentRenderingInstance;
let internalSetCurrentInstance, setInSSRSetupState;
{
    const e = getGlobalThis()
      , t = (t, n) => {
        let r;
        return (r = e[t]) || (r = e[t] = []),
        r.push(n),
        e => {
            r.length > 1 ? r.forEach((t => t(e))) : r[0](e)
        }
    }
    ;
    internalSetCurrentInstance = t("__VUE_INSTANCE_SETTERS__", (e => currentInstance = e)),
    setInSSRSetupState = t("__VUE_SSR_SETTERS__", (e => isInSSRComponentSetup = e))
}
const setCurrentInstance = e => {
    const t = currentInstance;
    return internalSetCurrentInstance(e),
    e.scope.on(),
    () => {
        e.scope.off(),
        internalSetCurrentInstance(t)
    }
}
  , unsetCurrentInstance = () => {
    currentInstance && currentInstance.scope.off(),
    internalSetCurrentInstance(null)
}
;
function isStatefulComponent(e) {
    return 4 & e.vnode.shapeFlag
}
let isInSSRComponentSetup = !1, compile;
function setupComponent(e, t=!1) {
    t && setInSSRSetupState(t);
    const {props: n, children: r} = e.vnode
      , o = isStatefulComponent(e);
    initProps(e, n, o, t),
    initSlots(e, r);
    const i = o ? setupStatefulComponent(e, t) : void 0;
    return t && setInSSRSetupState(!1),
    i
}
function setupStatefulComponent(e, t) {
    const n = e.type;
    e.accessCache = Object.create(null),
    e.proxy = new Proxy(e.ctx,PublicInstanceProxyHandlers);
    const {setup: r} = n;
    if (r) {
        const n = e.setupContext = r.length > 1 ? createSetupContext(e) : null
          , o = setCurrentInstance(e);
        pauseTracking();
        const i = callWithErrorHandling(r, e, 0, [e.props, n]);
        if (resetTracking(),
        o(),
        isPromise$1(i)) {
            if (i.then(unsetCurrentInstance, unsetCurrentInstance),
            t)
                return i.then((n => {
                    handleSetupResult(e, n, t)
                }
                )).catch((t => {
                    handleError(t, e, 0)
                }
                ));
            e.asyncDep = i
        } else
            handleSetupResult(e, i, t)
    } else
        finishComponentSetup(e, t)
}
function handleSetupResult(e, t, n) {
    isFunction$5(t) ? e.type.__ssrInlineRender ? e.ssrRender = t : e.render = t : isObject$9(t) && (e.setupState = proxyRefs(t)),
    finishComponentSetup(e, n)
}
function finishComponentSetup(e, t, n) {
    const r = e.type;
    if (!e.render) {
        if (!t && compile && !r.render) {
            const t = r.template || resolveMergedOptions(e).template;
            if (t) {
                const {isCustomElement: n, compilerOptions: o} = e.appContext.config
                  , {delimiters: i, compilerOptions: a} = r
                  , s = extend(extend({
                    isCustomElement: n,
                    delimiters: i
                }, o), a);
                r.render = compile(t, s)
            }
        }
        e.render = r.render || NOOP
    }
    {
        const t = setCurrentInstance(e);
        pauseTracking();
        try {
            applyOptions(e)
        } finally {
            resetTracking(),
            t()
        }
    }
}
const attrsProxyHandlers = {
    get: (e, t) => (track(e, "get", ""),
    e[t])
};
function createSetupContext(e) {
    const t = t => {
        e.exposed = t || {}
    }
    ;
    return {
        attrs: new Proxy(e.attrs,attrsProxyHandlers),
        slots: e.slots,
        emit: e.emit,
        expose: t
    }
}
function getExposeProxy(e) {
    if (e.exposed)
        return e.exposeProxy || (e.exposeProxy = new Proxy(proxyRefs(markRaw(e.exposed)),{
            get: (t, n) => n in t ? t[n] : n in publicPropertiesMap ? publicPropertiesMap[n](e) : void 0,
            has: (e, t) => t in e || t in publicPropertiesMap
        }))
}
const classifyRE = /(?:^|[-_])(\w)/g
  , classify = e => e.replace(classifyRE, (e => e.toUpperCase())).replace(/[-_]/g, "");
function getComponentName(e, t=!0) {
    return isFunction$5(e) ? e.displayName || e.name : e.name || t && e.__name
}
function formatComponentName(e, t, n=!1) {
    let r = getComponentName(t);
    if (!r && t.__file) {
        const e = t.__file.match(/([^/\\]+)\.\w+$/);
        e && (r = e[1])
    }
    if (!r && e && e.parent) {
        const n = e => {
            for (const n in e)
                if (e[n] === t)
                    return n
        }
        ;
        r = n(e.components || e.parent.type.components) || n(e.appContext.components)
    }
    return r ? classify(r) : n ? "App" : "Anonymous"
}
function isClassComponent(e) {
    return isFunction$5(e) && "__vccOpts"in e
}
const computed = (e, t) => computed$1(e, t, isInSSRComponentSetup);
function h$6(e, t, n) {
    const r = arguments.length;
    return 2 === r ? isObject$9(t) && !isArray$d(t) ? isVNode(t) ? createVNode(e, null, [t]) : createVNode(e, t) : createVNode(e, null, t) : (r > 3 ? n = Array.prototype.slice.call(arguments, 2) : 3 === r && isVNode(n) && (n = [n]),
    createVNode(e, t, n))
}
const version = "3.4.27"
  , svgNS = "http://www.w3.org/2000/svg"
  , mathmlNS = "http://www.w3.org/1998/Math/MathML"
  , doc = "undefined" != typeof document ? document : null
  , templateContainer = doc && doc.createElement("template")
  , nodeOps = {
    insert: (e, t, n) => {
        t.insertBefore(e, n || null)
    }
    ,
    remove: e => {
        const t = e.parentNode;
        t && t.removeChild(e)
    }
    ,
    createElement: (e, t, n, r) => {
        const o = "svg" === t ? doc.createElementNS(svgNS, e) : "mathml" === t ? doc.createElementNS(mathmlNS, e) : doc.createElement(e, n ? {
            is: n
        } : void 0);
        return "select" === e && r && null != r.multiple && o.setAttribute("multiple", r.multiple),
        o
    }
    ,
    createText: e => doc.createTextNode(e),
    createComment: e => doc.createComment(e),
    setText: (e, t) => {
        e.nodeValue = t
    }
    ,
    setElementText: (e, t) => {
        e.textContent = t
    }
    ,
    parentNode: e => e.parentNode,
    nextSibling: e => e.nextSibling,
    querySelector: e => doc.querySelector(e),
    setScopeId(e, t) {
        e.setAttribute(t, "")
    },
    insertStaticContent(e, t, n, r, o, i) {
        const a = n ? n.previousSibling : t.lastChild;
        if (o && (o === i || o.nextSibling))
            for (; t.insertBefore(o.cloneNode(!0), n),
            o !== i && (o = o.nextSibling); )
                ;
        else {
            templateContainer.innerHTML = "svg" === r ? "<svg>".concat(e, "</svg>") : "mathml" === r ? "<math>".concat(e, "</math>") : e;
            const o = templateContainer.content;
            if ("svg" === r || "mathml" === r) {
                const e = o.firstChild;
                for (; e.firstChild; )
                    o.appendChild(e.firstChild);
                o.removeChild(e)
            }
            t.insertBefore(o, n)
        }
        return [a ? a.nextSibling : t.firstChild, n ? n.previousSibling : t.lastChild]
    }
}
  , TRANSITION = "transition"
  , ANIMATION = "animation"
  , vtcKey = Symbol("_vtc")
  , Transition = (e, {slots: t}) => h$6(BaseTransition, resolveTransitionProps(e), t);
/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
Transition.displayName = "Transition";
const DOMTransitionPropsValidators = {
    name: String,
    type: String,
    css: {
        type: Boolean,
        default: !0
    },
    duration: [String, Number, Object],
    enterFromClass: String,
    enterActiveClass: String,
    enterToClass: String,
    appearFromClass: String,
    appearActiveClass: String,
    appearToClass: String,
    leaveFromClass: String,
    leaveActiveClass: String,
    leaveToClass: String
};
Transition.props = extend({}, BaseTransitionPropsValidators, DOMTransitionPropsValidators);
const callHook = (e, t=[]) => {
    isArray$d(e) ? e.forEach((e => e(...t))) : e && e(...t)
}
  , hasExplicitCallback = e => !!e && (isArray$d(e) ? e.some((e => e.length > 1)) : e.length > 1);
function resolveTransitionProps(e) {
    const t = {};
    for (const P in e)
        P in DOMTransitionPropsValidators || (t[P] = e[P]);
    if (!1 === e.css)
        return t;
    const {name: n="v", type: r, duration: o, enterFromClass: i="".concat(n, "-enter-from"), enterActiveClass: a="".concat(n, "-enter-active"), enterToClass: s="".concat(n, "-enter-to"), appearFromClass: c=i, appearActiveClass: l=a, appearToClass: u=s, leaveFromClass: p="".concat(n, "-leave-from"), leaveActiveClass: d="".concat(n, "-leave-active"), leaveToClass: f="".concat(n, "-leave-to")} = e
      , h = normalizeDuration(o)
      , g = h && h[0]
      , m = h && h[1]
      , {onBeforeEnter: y, onEnter: v, onEnterCancelled: b, onLeave: _, onLeaveCancelled: S, onBeforeAppear: w=y, onAppear: $=v, onAppearCancelled: k=b} = t
      , E = (e, t, n) => {
        removeTransitionClass(e, t ? u : s),
        removeTransitionClass(e, t ? l : a),
        n && n()
    }
      , T = (e, t) => {
        e._isLeaving = !1,
        removeTransitionClass(e, p),
        removeTransitionClass(e, f),
        removeTransitionClass(e, d),
        t && t()
    }
      , O = e => (t, n) => {
        const o = e ? $ : v
          , a = () => E(t, e, n);
        callHook(o, [t, a]),
        nextFrame(( () => {
            removeTransitionClass(t, e ? c : i),
            addTransitionClass(t, e ? u : s),
            hasExplicitCallback(o) || whenTransitionEnds(t, r, g, a)
        }
        ))
    }
    ;
    return extend(t, {
        onBeforeEnter(e) {
            callHook(y, [e]),
            addTransitionClass(e, i),
            addTransitionClass(e, a)
        },
        onBeforeAppear(e) {
            callHook(w, [e]),
            addTransitionClass(e, c),
            addTransitionClass(e, l)
        },
        onEnter: O(!1),
        onAppear: O(!0),
        onLeave(e, t) {
            e._isLeaving = !0;
            const n = () => T(e, t);
            addTransitionClass(e, p),
            addTransitionClass(e, d),
            forceReflow(),
            nextFrame(( () => {
                e._isLeaving && (removeTransitionClass(e, p),
                addTransitionClass(e, f),
                hasExplicitCallback(_) || whenTransitionEnds(e, r, m, n))
            }
            )),
            callHook(_, [e, n])
        },
        onEnterCancelled(e) {
            E(e, !1),
            callHook(b, [e])
        },
        onAppearCancelled(e) {
            E(e, !0),
            callHook(k, [e])
        },
        onLeaveCancelled(e) {
            T(e),
            callHook(S, [e])
        }
    })
}
function normalizeDuration(e) {
    if (null == e)
        return null;
    if (isObject$9(e))
        return [NumberOf(e.enter), NumberOf(e.leave)];
    {
        const t = NumberOf(e);
        return [t, t]
    }
}
function NumberOf(e) {
    return toNumber(e)
}
function addTransitionClass(e, t) {
    t.split(/\s+/).forEach((t => t && e.classList.add(t))),
    (e[vtcKey] || (e[vtcKey] = new Set)).add(t)
}
function removeTransitionClass(e, t) {
    t.split(/\s+/).forEach((t => t && e.classList.remove(t)));
    const n = e[vtcKey];
    n && (n.delete(t),
    n.size || (e[vtcKey] = void 0))
}
function nextFrame(e) {
    requestAnimationFrame(( () => {
        requestAnimationFrame(e)
    }
    ))
}
let endId = 0;
function whenTransitionEnds(e, t, n, r) {
    const o = e._endId = ++endId
      , i = () => {
        o === e._endId && r()
    }
    ;
    if (n)
        return setTimeout(i, n);
    const {type: a, timeout: s, propCount: c} = getTransitionInfo(e, t);
    if (!a)
        return r();
    const l = a + "end";
    let u = 0;
    const p = () => {
        e.removeEventListener(l, d),
        i()
    }
      , d = t => {
        t.target === e && ++u >= c && p()
    }
    ;
    setTimeout(( () => {
        u < c && p()
    }
    ), s + 1),
    e.addEventListener(l, d)
}
function getTransitionInfo(e, t) {
    const n = window.getComputedStyle(e)
      , r = e => (n[e] || "").split(", ")
      , o = r("".concat(TRANSITION, "Delay"))
      , i = r("".concat(TRANSITION, "Duration"))
      , a = getTimeout(o, i)
      , s = r("".concat(ANIMATION, "Delay"))
      , c = r("".concat(ANIMATION, "Duration"))
      , l = getTimeout(s, c);
    let u = null
      , p = 0
      , d = 0;
    t === TRANSITION ? a > 0 && (u = TRANSITION,
    p = a,
    d = i.length) : t === ANIMATION ? l > 0 && (u = ANIMATION,
    p = l,
    d = c.length) : (p = Math.max(a, l),
    u = p > 0 ? a > l ? TRANSITION : ANIMATION : null,
    d = u ? u === TRANSITION ? i.length : c.length : 0);
    return {
        type: u,
        timeout: p,
        propCount: d,
        hasTransform: u === TRANSITION && /\b(transform|all)(,|$)/.test(r("".concat(TRANSITION, "Property")).toString())
    }
}
function getTimeout(e, t) {
    for (; e.length < t.length; )
        e = e.concat(e);
    return Math.max(...t.map(( (t, n) => toMs(t) + toMs(e[n]))))
}
function toMs(e) {
    return "auto" === e ? 0 : 1e3 * Number(e.slice(0, -1).replace(",", "."))
}
function forceReflow() {
    return document.body.offsetHeight
}
function patchClass(e, t, n) {
    const r = e[vtcKey];
    r && (t = (t ? [t, ...r] : [...r]).join(" ")),
    null == t ? e.removeAttribute("class") : n ? e.setAttribute("class", t) : e.className = t
}
const vShowOriginalDisplay = Symbol("_vod")
  , vShowHidden = Symbol("_vsh")
  , vShow = {
    beforeMount(e, {value: t}, {transition: n}) {
        e[vShowOriginalDisplay] = "none" === e.style.display ? "" : e.style.display,
        n && t ? n.beforeEnter(e) : setDisplay(e, t)
    },
    mounted(e, {value: t}, {transition: n}) {
        n && t && n.enter(e)
    },
    updated(e, {value: t, oldValue: n}, {transition: r}) {
        !t != !n && (r ? t ? (r.beforeEnter(e),
        setDisplay(e, !0),
        r.enter(e)) : r.leave(e, ( () => {
            setDisplay(e, !1)
        }
        )) : setDisplay(e, t))
    },
    beforeUnmount(e, {value: t}) {
        setDisplay(e, t)
    }
};
function setDisplay(e, t) {
    e.style.display = t ? e[vShowOriginalDisplay] : "none",
    e[vShowHidden] = !t
}
const CSS_VAR_TEXT = Symbol("")
  , displayRE = /(^|;)\s*display\s*:/;
function patchStyle(e, t, n) {
    const r = e.style
      , o = isString$2(n);
    let i = !1;
    if (n && !o) {
        if (t)
            if (isString$2(t))
                for (const e of t.split(";")) {
                    const t = e.slice(0, e.indexOf(":")).trim();
                    null == n[t] && setStyle(r, t, "")
                }
            else
                for (const e in t)
                    null == n[e] && setStyle(r, e, "");
        for (const e in n)
            "display" === e && (i = !0),
            setStyle(r, e, n[e])
    } else if (o) {
        if (t !== n) {
            const e = r[CSS_VAR_TEXT];
            e && (n += ";" + e),
            r.cssText = n,
            i = displayRE.test(n)
        }
    } else
        t && e.removeAttribute("style");
    vShowOriginalDisplay in e && (e[vShowOriginalDisplay] = i ? r.display : "",
    e[vShowHidden] && (r.display = "none"))
}
const importantRE = /\s*!important$/;
function setStyle(e, t, n) {
    if (isArray$d(n))
        n.forEach((n => setStyle(e, t, n)));
    else if (null == n && (n = ""),
    t.startsWith("--"))
        e.setProperty(t, n);
    else {
        const r = autoPrefix(e, t);
        importantRE.test(n) ? e.setProperty(hyphenate(r), n.replace(importantRE, ""), "important") : e[r] = n
    }
}
const prefixes = ["Webkit", "Moz", "ms"]
  , prefixCache = {};
function autoPrefix(e, t) {
    const n = prefixCache[t];
    if (n)
        return n;
    let r = camelize(t);
    if ("filter" !== r && r in e)
        return prefixCache[t] = r;
    r = capitalize(r);
    for (let o = 0; o < prefixes.length; o++) {
        const n = prefixes[o] + r;
        if (n in e)
            return prefixCache[t] = n
    }
    return t
}
const xlinkNS = "http://www.w3.org/1999/xlink";
function patchAttr(e, t, n, r, o) {
    if (r && t.startsWith("xlink:"))
        null == n ? e.removeAttributeNS(xlinkNS, t.slice(6, t.length)) : e.setAttributeNS(xlinkNS, t, n);
    else {
        const r = isSpecialBooleanAttr(t);
        null == n || r && !includeBooleanAttr(n) ? e.removeAttribute(t) : e.setAttribute(t, r ? "" : n)
    }
}
function patchDOMProp(e, t, n, r, o, i, a) {
    if ("innerHTML" === t || "textContent" === t)
        return r && a(r, o, i),
        void (e[t] = null == n ? "" : n);
    const s = e.tagName;
    if ("value" === t && "PROGRESS" !== s && !s.includes("-")) {
        const r = null == n ? "" : n;
        return ("OPTION" === s ? e.getAttribute("value") || "" : e.value) === r && "_value"in e || (e.value = r),
        null == n && e.removeAttribute(t),
        void (e._value = n)
    }
    let c = !1;
    if ("" === n || null == n) {
        const r = typeof e[t];
        "boolean" === r ? n = includeBooleanAttr(n) : null == n && "string" === r ? (n = "",
        c = !0) : "number" === r && (n = 0,
        c = !0)
    }
    try {
        e[t] = n
    } catch (e2) {}
    c && e.removeAttribute(t)
}
function addEventListener$1(e, t, n, r) {
    e.addEventListener(t, n, r)
}
function removeEventListener(e, t, n, r) {
    e.removeEventListener(t, n, r)
}
const veiKey = Symbol("_vei");
function patchEvent(e, t, n, r, o=null) {
    const i = e[veiKey] || (e[veiKey] = {})
      , a = i[t];
    if (r && a)
        a.value = r;
    else {
        const [n,s] = parseName(t);
        if (r) {
            addEventListener$1(e, n, i[t] = createInvoker(r, o), s)
        } else
            a && (removeEventListener(e, n, a, s),
            i[t] = void 0)
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(e) {
    let t;
    if (optionsModifierRE.test(e)) {
        let n;
        for (t = {}; n = e.match(optionsModifierRE); )
            e = e.slice(0, e.length - n[0].length),
            t[n[0].toLowerCase()] = !0
    }
    return [":" === e[2] ? e.slice(3) : hyphenate(e.slice(2)), t]
}
let cachedNow = 0;
const p$7 = Promise.resolve()
  , getNow = () => cachedNow || (p$7.then(( () => cachedNow = 0)),
cachedNow = Date.now());
function createInvoker(e, t) {
    const n = e => {
        if (e._vts) {
            if (e._vts <= n.attached)
                return
        } else
            e._vts = Date.now();
        callWithAsyncErrorHandling(patchStopImmediatePropagation(e, n.value), t, 5, [e])
    }
    ;
    return n.value = e,
    n.attached = getNow(),
    n
}
function patchStopImmediatePropagation(e, t) {
    if (isArray$d(t)) {
        const n = e.stopImmediatePropagation;
        return e.stopImmediatePropagation = () => {
            n.call(e),
            e._stopped = !0
        }
        ,
        t.map((e => t => !t._stopped && e && e(t)))
    }
    return t
}
const isNativeOn = e => 111 === e.charCodeAt(0) && 110 === e.charCodeAt(1) && e.charCodeAt(2) > 96 && e.charCodeAt(2) < 123
  , patchProp = (e, t, n, r, o, i, a, s, c) => {
    const l = "svg" === o;
    "class" === t ? patchClass(e, r, l) : "style" === t ? patchStyle(e, n, r) : isOn(t) ? isModelListener(t) || patchEvent(e, t, n, r, a) : ("." === t[0] ? (t = t.slice(1),
    1) : "^" === t[0] ? (t = t.slice(1),
    0) : shouldSetAsProp(e, t, r, l)) ? patchDOMProp(e, t, r, i, a, s, c) : ("true-value" === t ? e._trueValue = r : "false-value" === t && (e._falseValue = r),
    patchAttr(e, t, r, l))
}
;
function shouldSetAsProp(e, t, n, r) {
    if (r)
        return "innerHTML" === t || "textContent" === t || !!(t in e && isNativeOn(t) && isFunction$5(n));
    if ("spellcheck" === t || "draggable" === t || "translate" === t)
        return !1;
    if ("form" === t)
        return !1;
    if ("list" === t && "INPUT" === e.tagName)
        return !1;
    if ("type" === t && "TEXTAREA" === e.tagName)
        return !1;
    if ("width" === t || "height" === t) {
        const t = e.tagName;
        if ("IMG" === t || "VIDEO" === t || "CANVAS" === t || "SOURCE" === t)
            return !1
    }
    return (!isNativeOn(t) || !isString$2(n)) && t in e
}
const systemModifiers = ["ctrl", "shift", "alt", "meta"]
  , modifierGuards = {
    stop: e => e.stopPropagation(),
    prevent: e => e.preventDefault(),
    self: e => e.target !== e.currentTarget,
    ctrl: e => !e.ctrlKey,
    shift: e => !e.shiftKey,
    alt: e => !e.altKey,
    meta: e => !e.metaKey,
    left: e => "button"in e && 0 !== e.button,
    middle: e => "button"in e && 1 !== e.button,
    right: e => "button"in e && 2 !== e.button,
    exact: (e, t) => systemModifiers.some((n => e["".concat(n, "Key")] && !t.includes(n)))
}
  , withModifiers = (e, t) => {
    const n = e._withMods || (e._withMods = {})
      , r = t.join(".");
    return n[r] || (n[r] = (n, ...r) => {
        for (let e = 0; e < t.length; e++) {
            const r = modifierGuards[t[e]];
            if (r && r(n, t))
                return
        }
        return e(n, ...r)
    }
    )
}
  , rendererOptions = extend({
    patchProp: patchProp
}, nodeOps);
let renderer, enabledHydration = !1;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions))
}
function ensureHydrationRenderer() {
    return renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions),
    enabledHydration = !0,
    renderer
}
const createApp = (...e) => {
    const t = ensureRenderer().createApp(...e)
      , {mount: n} = t;
    return t.mount = e => {
        const r = normalizeContainer(e);
        if (!r)
            return;
        const o = t._component;
        isFunction$5(o) || o.render || o.template || (o.template = r.innerHTML),
        r.innerHTML = "";
        const i = n(r, !1, resolveRootNamespace(r));
        return r instanceof Element && (r.removeAttribute("v-cloak"),
        r.setAttribute("data-v-app", "")),
        i
    }
    ,
    t
}
  , createSSRApp = (...e) => {
    const t = ensureHydrationRenderer().createApp(...e)
      , {mount: n} = t;
    return t.mount = e => {
        const t = normalizeContainer(e);
        if (t)
            return n(t, !0, resolveRootNamespace(t))
    }
    ,
    t
}
;
function resolveRootNamespace(e) {
    return e instanceof SVGElement ? "svg" : "function" == typeof MathMLElement && e instanceof MathMLElement ? "mathml" : void 0
}
function normalizeContainer(e) {
    if (isString$2(e)) {
        return document.querySelector(e)
    }
    return e
}
var isVue3 = !0, e$4, t$3, n$4;
self.fetch || (self.fetch = function(e, t) {
    return t = t || {},
    new Promise((function(n, r) {
        var o = new XMLHttpRequest
          , i = []
          , a = {}
          , s = function e() {
            return {
                ok: 2 == (o.status / 100 | 0),
                statusText: o.statusText,
                status: o.status,
                url: o.responseURL,
                text: function() {
                    return Promise.resolve(o.responseText)
                },
                json: function() {
                    return Promise.resolve(o.responseText).then(JSON.parse)
                },
                blob: function() {
                    return Promise.resolve(new Blob([o.response]))
                },
                clone: e,
                headers: {
                    keys: function() {
                        return i
                    },
                    entries: function() {
                        return i.map((function(e) {
                            return [e, o.getResponseHeader(e)]
                        }
                        ))
                    },
                    get: function(e) {
                        return o.getResponseHeader(e)
                    },
                    has: function(e) {
                        return null != o.getResponseHeader(e)
                    }
                }
            }
        };
        for (var c in o.open(t.method || "get", e, !0),
        o.onload = function() {
            o.getAllResponseHeaders().toLowerCase().replace(/^(.+?):/gm, (function(e, t) {
                a[t] || i.push(a[t] = t)
            }
            )),
            n(s())
        }
        ,
        o.onerror = r,
        o.withCredentials = "include" == t.credentials,
        t.headers)
            o.setRequestHeader(c, t.headers[c]);
        o.send(t.body || null)
    }
    ))
}
),
function() {
    if ("object" == typeof window)
        if ("IntersectionObserver"in window && "IntersectionObserverEntry"in window && "intersectionRatio"in window.IntersectionObserverEntry.prototype)
            "isIntersecting"in window.IntersectionObserverEntry.prototype || Object.defineProperty(window.IntersectionObserverEntry.prototype, "isIntersecting", {
                get: function() {
                    return this.intersectionRatio > 0
                }
            });
        else {
            var e = function(e) {
                for (var t = window.document, n = o(t); n; )
                    n = o(t = n.ownerDocument);
                return t
            }()
              , t = []
              , n = null
              , r = null;
            a.prototype.THROTTLE_TIMEOUT = 100,
            a.prototype.POLL_INTERVAL = null,
            a.prototype.USE_MUTATION_OBSERVER = !0,
            a._setupCrossOriginUpdater = function() {
                return n || (n = function(e, n) {
                    r = e && n ? p(e, n) : {
                        top: 0,
                        bottom: 0,
                        left: 0,
                        right: 0,
                        width: 0,
                        height: 0
                    },
                    t.forEach((function(e) {
                        e._checkForIntersections()
                    }
                    ))
                }
                ),
                n
            }
            ,
            a._resetCrossOriginUpdater = function() {
                n = null,
                r = null
            }
            ,
            a.prototype.observe = function(e) {
                if (!this._observationTargets.some((function(t) {
                    return t.element == e
                }
                ))) {
                    if (!e || 1 != e.nodeType)
                        throw new Error("target must be an Element");
                    this._registerInstance(),
                    this._observationTargets.push({
                        element: e,
                        entry: null
                    }),
                    this._monitorIntersections(e.ownerDocument),
                    this._checkForIntersections()
                }
            }
            ,
            a.prototype.unobserve = function(e) {
                this._observationTargets = this._observationTargets.filter((function(t) {
                    return t.element != e
                }
                )),
                this._unmonitorIntersections(e.ownerDocument),
                0 == this._observationTargets.length && this._unregisterInstance()
            }
            ,
            a.prototype.disconnect = function() {
                this._observationTargets = [],
                this._unmonitorAllIntersections(),
                this._unregisterInstance()
            }
            ,
            a.prototype.takeRecords = function() {
                var e = this._queuedEntries.slice();
                return this._queuedEntries = [],
                e
            }
            ,
            a.prototype._initThresholds = function(e) {
                var t = e || [0];
                return Array.isArray(t) || (t = [t]),
                t.sort().filter((function(e, t, n) {
                    if ("number" != typeof e || isNaN(e) || e < 0 || e > 1)
                        throw new Error("threshold must be a number between 0 and 1 inclusively");
                    return e !== n[t - 1]
                }
                ))
            }
            ,
            a.prototype._parseRootMargin = function(e) {
                var t = (e || "0px").split(/\s+/).map((function(e) {
                    var t = /^(-?\d*\.?\d+)(px|%)$/.exec(e);
                    if (!t)
                        throw new Error("rootMargin must be specified in pixels or percent");
                    return {
                        value: parseFloat(t[1]),
                        unit: t[2]
                    }
                }
                ));
                return t[1] = t[1] || t[0],
                t[2] = t[2] || t[0],
                t[3] = t[3] || t[1],
                t
            }
            ,
            a.prototype._monitorIntersections = function(t) {
                var n = t.defaultView;
                if (n && -1 == this._monitoringDocuments.indexOf(t)) {
                    var r = this._checkForIntersections
                      , i = null
                      , a = null;
                    this.POLL_INTERVAL ? i = n.setInterval(r, this.POLL_INTERVAL) : (s(n, "resize", r, !0),
                    s(t, "scroll", r, !0),
                    this.USE_MUTATION_OBSERVER && "MutationObserver"in n && (a = new n.MutationObserver(r)).observe(t, {
                        attributes: !0,
                        childList: !0,
                        characterData: !0,
                        subtree: !0
                    })),
                    this._monitoringDocuments.push(t),
                    this._monitoringUnsubscribes.push((function() {
                        var e = t.defaultView;
                        e && (i && e.clearInterval(i),
                        c(e, "resize", r, !0)),
                        c(t, "scroll", r, !0),
                        a && a.disconnect()
                    }
                    ));
                    var l = this.root && (this.root.ownerDocument || this.root) || e;
                    if (t != l) {
                        var u = o(t);
                        u && this._monitorIntersections(u.ownerDocument)
                    }
                }
            }
            ,
            a.prototype._unmonitorIntersections = function(t) {
                var n = this._monitoringDocuments.indexOf(t);
                if (-1 != n) {
                    var r = this.root && (this.root.ownerDocument || this.root) || e;
                    if (!this._observationTargets.some((function(e) {
                        var n = e.element.ownerDocument;
                        if (n == t)
                            return !0;
                        for (; n && n != r; ) {
                            var i = o(n);
                            if ((n = i && i.ownerDocument) == t)
                                return !0
                        }
                        return !1
                    }
                    ))) {
                        var i = this._monitoringUnsubscribes[n];
                        if (this._monitoringDocuments.splice(n, 1),
                        this._monitoringUnsubscribes.splice(n, 1),
                        i(),
                        t != r) {
                            var a = o(t);
                            a && this._unmonitorIntersections(a.ownerDocument)
                        }
                    }
                }
            }
            ,
            a.prototype._unmonitorAllIntersections = function() {
                var e = this._monitoringUnsubscribes.slice(0);
                this._monitoringDocuments.length = 0,
                this._monitoringUnsubscribes.length = 0;
                for (var t = 0; t < e.length; t++)
                    e[t]()
            }
            ,
            a.prototype._checkForIntersections = function() {
                if (this.root || !n || r) {
                    var e = this._rootIsInDom()
                      , t = e ? this._getRootRect() : {
                        top: 0,
                        bottom: 0,
                        left: 0,
                        right: 0,
                        width: 0,
                        height: 0
                    };
                    this._observationTargets.forEach((function(r) {
                        var o = r.element
                          , a = l(o)
                          , s = this._rootContainsTarget(o)
                          , c = r.entry
                          , u = e && s && this._computeTargetAndRootIntersection(o, a, t)
                          , p = null;
                        this._rootContainsTarget(o) ? n && !this.root || (p = t) : p = {
                            top: 0,
                            bottom: 0,
                            left: 0,
                            right: 0,
                            width: 0,
                            height: 0
                        };
                        var d = r.entry = new i({
                            time: window.performance && performance.now && performance.now(),
                            target: o,
                            boundingClientRect: a,
                            rootBounds: p,
                            intersectionRect: u
                        });
                        c ? e && s ? this._hasCrossedThreshold(c, d) && this._queuedEntries.push(d) : c && c.isIntersecting && this._queuedEntries.push(d) : this._queuedEntries.push(d)
                    }
                    ), this),
                    this._queuedEntries.length && this._callback(this.takeRecords(), this)
                }
            }
            ,
            a.prototype._computeTargetAndRootIntersection = function(t, o, i) {
                if ("none" != window.getComputedStyle(t).display) {
                    for (var a, s, c, u, d, h, g, m, y = o, v = f(t), b = !1; !b && v; ) {
                        var _ = null
                          , S = 1 == v.nodeType ? window.getComputedStyle(v) : {};
                        if ("none" == S.display)
                            return null;
                        if (v == this.root || 9 == v.nodeType)
                            if (b = !0,
                            v == this.root || v == e)
                                n && !this.root ? !r || 0 == r.width && 0 == r.height ? (v = null,
                                _ = null,
                                y = null) : _ = r : _ = i;
                            else {
                                var w = f(v)
                                  , $ = w && l(w)
                                  , k = w && this._computeTargetAndRootIntersection(w, $, i);
                                $ && k ? (v = w,
                                _ = p($, k)) : (v = null,
                                y = null)
                            }
                        else {
                            var E = v.ownerDocument;
                            v != E.body && v != E.documentElement && "visible" != S.overflow && (_ = l(v))
                        }
                        if (_ && (a = _,
                        s = y,
                        c = void 0,
                        u = void 0,
                        d = void 0,
                        h = void 0,
                        g = void 0,
                        m = void 0,
                        c = Math.max(a.top, s.top),
                        u = Math.min(a.bottom, s.bottom),
                        d = Math.max(a.left, s.left),
                        h = Math.min(a.right, s.right),
                        m = u - c,
                        y = (g = h - d) >= 0 && m >= 0 && {
                            top: c,
                            bottom: u,
                            left: d,
                            right: h,
                            width: g,
                            height: m
                        } || null),
                        !y)
                            break;
                        v = v && f(v)
                    }
                    return y
                }
            }
            ,
            a.prototype._getRootRect = function() {
                var t;
                if (this.root && !h(this.root))
                    t = l(this.root);
                else {
                    var n = h(this.root) ? this.root : e
                      , r = n.documentElement
                      , o = n.body;
                    t = {
                        top: 0,
                        left: 0,
                        right: r.clientWidth || o.clientWidth,
                        width: r.clientWidth || o.clientWidth,
                        bottom: r.clientHeight || o.clientHeight,
                        height: r.clientHeight || o.clientHeight
                    }
                }
                return this._expandRectByRootMargin(t)
            }
            ,
            a.prototype._expandRectByRootMargin = function(e) {
                var t = this._rootMarginValues.map((function(t, n) {
                    return "px" == t.unit ? t.value : t.value * (n % 2 ? e.width : e.height) / 100
                }
                ))
                  , n = {
                    top: e.top - t[0],
                    right: e.right + t[1],
                    bottom: e.bottom + t[2],
                    left: e.left - t[3]
                };
                return n.width = n.right - n.left,
                n.height = n.bottom - n.top,
                n
            }
            ,
            a.prototype._hasCrossedThreshold = function(e, t) {
                var n = e && e.isIntersecting ? e.intersectionRatio || 0 : -1
                  , r = t.isIntersecting ? t.intersectionRatio || 0 : -1;
                if (n !== r)
                    for (var o = 0; o < this.thresholds.length; o++) {
                        var i = this.thresholds[o];
                        if (i == n || i == r || i < n != i < r)
                            return !0
                    }
            }
            ,
            a.prototype._rootIsInDom = function() {
                return !this.root || d(e, this.root)
            }
            ,
            a.prototype._rootContainsTarget = function(t) {
                var n = this.root && (this.root.ownerDocument || this.root) || e;
                return d(n, t) && (!this.root || n == t.ownerDocument)
            }
            ,
            a.prototype._registerInstance = function() {
                t.indexOf(this) < 0 && t.push(this)
            }
            ,
            a.prototype._unregisterInstance = function() {
                var e = t.indexOf(this);
                -1 != e && t.splice(e, 1)
            }
            ,
            window.IntersectionObserver = a,
            window.IntersectionObserverEntry = i
        }
    function o(e) {
        try {
            return e.defaultView && e.defaultView.frameElement || null
        } catch (e2) {
            return null
        }
    }
    function i(e) {
        this.time = e.time,
        this.target = e.target,
        this.rootBounds = u(e.rootBounds),
        this.boundingClientRect = u(e.boundingClientRect),
        this.intersectionRect = u(e.intersectionRect || {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: 0,
            height: 0
        }),
        this.isIntersecting = !!e.intersectionRect;
        var t = this.boundingClientRect
          , n = t.width * t.height
          , r = this.intersectionRect
          , o = r.width * r.height;
        this.intersectionRatio = n ? Number((o / n).toFixed(4)) : this.isIntersecting ? 1 : 0
    }
    function a(e, t) {
        var n, r, o, i = t || {};
        if ("function" != typeof e)
            throw new Error("callback must be a function");
        if (i.root && 1 != i.root.nodeType && 9 != i.root.nodeType)
            throw new Error("root must be a Document or Element");
        this._checkForIntersections = (n = this._checkForIntersections.bind(this),
        r = this.THROTTLE_TIMEOUT,
        o = null,
        function() {
            o || (o = setTimeout((function() {
                n(),
                o = null
            }
            ), r))
        }
        ),
        this._callback = e,
        this._observationTargets = [],
        this._queuedEntries = [],
        this._rootMarginValues = this._parseRootMargin(i.rootMargin),
        this.thresholds = this._initThresholds(i.threshold),
        this.root = i.root || null,
        this.rootMargin = this._rootMarginValues.map((function(e) {
            return e.value + e.unit
        }
        )).join(" "),
        this._monitoringDocuments = [],
        this._monitoringUnsubscribes = []
    }
    function s(e, t, n, r) {
        "function" == typeof e.addEventListener ? e.addEventListener(t, n, r) : "function" == typeof e.attachEvent && e.attachEvent("on" + t, n)
    }
    function c(e, t, n, r) {
        "function" == typeof e.removeEventListener ? e.removeEventListener(t, n, r) : "function" == typeof e.detachEvent && e.detachEvent("on" + t, n)
    }
    function l(e) {
        var t;
        try {
            t = e.getBoundingClientRect()
        } catch (n) {}
        return t ? (t.width && t.height || (t = {
            top: t.top,
            right: t.right,
            bottom: t.bottom,
            left: t.left,
            width: t.right - t.left,
            height: t.bottom - t.top
        }),
        t) : {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: 0,
            height: 0
        }
    }
    function u(e) {
        return !e || "x"in e ? e : {
            top: e.top,
            y: e.top,
            bottom: e.bottom,
            left: e.left,
            x: e.left,
            right: e.right,
            width: e.width,
            height: e.height
        }
    }
    function p(e, t) {
        var n = t.top - e.top
          , r = t.left - e.left;
        return {
            top: n,
            left: r,
            height: t.height,
            width: t.width,
            bottom: n + t.height,
            right: r + t.width
        }
    }
    function d(e, t) {
        for (var n = t; n; ) {
            if (n == e)
                return !0;
            n = f(n)
        }
        return !1
    }
    function f(t) {
        var n = t.parentNode;
        return 9 == t.nodeType && t != e ? o(t) : (n && n.assignedSlot && (n = n.assignedSlot.parentNode),
        n && 11 == n.nodeType && n.host ? n.host : n)
    }
    function h(e) {
        return e && 9 === e.nodeType
    }
}(),
Object.defineProperty || (Object.defineProperty = function(e, t, n) {
    e[t] = "[object Object]" === Object.prototype.toString.call(n) && n.hasOwnProperty("value") ? n.value : n
}
),
Object.assign || Object.defineProperty(Object, "assign", {
    value: function(e) {
        if (null === e)
            throw new TypeError("Cannot convert undefined or null to object");
        for (var t = Object(e), n = 1; n < arguments.length; n++) {
            var r = arguments[n];
            if (null !== r)
                for (var o in r)
                    Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o])
        }
        return t
    },
    writable: !0,
    configurable: !0
}),
Function.prototype.bind || (Function.prototype.bind = function(e) {
    if ("function" != typeof this)
        throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
    var t = Array.prototype.slice.call(arguments, 1)
      , n = this
      , r = function() {}
      , o = function() {
        var o = this instanceof r ? this : e;
        return n.apply(o, t.concat(Array.prototype.slice.call(arguments)))
    };
    return this.prototype && (r.prototype = this.prototype),
    o.prototype = new r,
    o
}
),
Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
    var n;
    if (null == this)
        throw new TypeError('"this" is null or not defined');
    var r = Object(this)
      , o = r.length >>> 0;
    if (0 === o)
        return -1;
    var i = +t || 0;
    if (Math.abs(i) === 1 / 0 && (i = 0),
    i >= o)
        return -1;
    for (n = Math.max(i >= 0 ? i : o - Math.abs(i), 0); n < o; ) {
        if (n in r && r[n] === e)
            return n;
        n++
    }
    return -1
}
),
Object.keys || (Object.keys = (e$4 = Object.prototype.hasOwnProperty,
t$3 = !{
    toString: null
}.propertyIsEnumerable("toString"),
n$4 = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
function(e) {
    if ("object" != typeof e && "function" != typeof e || null === e)
        throw new TypeError("Object.keys called on non-object");
    var t = [];
    for (var n in e)
        e$4.call(e, n) && t.push(n);
    if (t$3)
        for (var r = 0, o = n$4; r < o.length; r++) {
            var i = o[r];
            e$4.call(e, i) && t.push(i)
        }
    return t
}
)),
Array.prototype.forEach || (Array.prototype.forEach = function(e, t) {
    var n, r;
    if (null == this)
        throw new TypeError(" this is null or not defined");
    var o = Object(this)
      , i = o.length >>> 0;
    if ("function" != typeof e)
        throw new TypeError(e + " is not a function");
    for (arguments.length > 1 && (n = t),
    r = 0; r < i; ) {
        var a = void 0;
        r in o && (a = o[r],
        e.call(n, a, r, o)),
        r++
    }
}
);
var r$5 = function(e, t) {
    return (r$5 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
};
function o$5(e, t) {
    if ("function" != typeof t && null !== t)
        throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function n() {
        this.constructor = e
    }
    r$5(e, t),
    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
    new n)
}
var a$6 = function() {
    return (a$6 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function i$5(e, t) {
    var n = {};
    for (var r in e)
        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var o = 0;
        for (r = Object.getOwnPropertySymbols(e); o < r.length; o++)
            t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]])
    }
    return n
}
function s$4(e, t, n, r) {
    return new (n || (n = Promise))((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : (r = e.value,
            r instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        s((r = r.apply(e, [])).next())
    }
    ))
}
function c$5(e, t) {
    var n, r, o, i, a = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    };
    return i = {
        next: s(0),
        throw: s(1),
        return: s(2)
    },
    "function" == typeof Symbol && (i[Symbol.iterator] = function() {
        return this
    }
    ),
    i;
    function s(i) {
        return function(s) {
            return function(i) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; a; )
                    try {
                        if (n = 1,
                        r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r),
                        0) : r.next) && !(o = o.call(r, i[1])).done)
                            return o;
                        switch (r = 0,
                        o && (i = [2 & i[0], o.value]),
                        i[0]) {
                        case 0:
                        case 1:
                            o = i;
                            break;
                        case 4:
                            return a.label++,
                            {
                                value: i[1],
                                done: !1
                            };
                        case 5:
                            a.label++,
                            r = i[1],
                            i = [0];
                            continue;
                        case 7:
                            i = a.ops.pop(),
                            a.trys.pop();
                            continue;
                        default:
                            if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                a = 0;
                                continue
                            }
                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                a.label = i[1];
                                break
                            }
                            if (6 === i[0] && a.label < o[1]) {
                                a.label = o[1],
                                o = i;
                                break
                            }
                            if (o && a.label < o[2]) {
                                a.label = o[2],
                                a.ops.push(i);
                                break
                            }
                            o[2] && a.ops.pop(),
                            a.trys.pop();
                            continue
                        }
                        i = t.call(e, a)
                    } catch (s) {
                        i = [6, s],
                        r = 0
                    } finally {
                        n = o = 0
                    }
                if (5 & i[0])
                    throw i[1];
                return {
                    value: i[0] ? i[1] : void 0,
                    done: !0
                }
            }([i, s])
        }
    }
}
function u$5(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)),
            r[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var p$6 = {
    sessionId: "",
    appDevicePackageReady: !1,
    identityPackageReady: !1
}
  , l$6 = function() {
    function e(e, t) {
        switch (this.page = "",
        this.identity = "",
        t) {
        case "web":
            this.page_type = 2;
            break;
        case "native":
            this.page_type = 1;
            break;
        case "mina":
            this.page_type = 3;
            break;
        default:
            this.page_type = 0
        }
        this.update(e.page, e.params)
    }
    return e.prototype.update = function(e, t) {
        void 0 === e && (e = ""),
        e && e !== this.page && (this.page = e,
        this.identity = this.generatePageId(e)),
        t && (this.params = Object.assign(this.params || {}, t))
    }
    ,
    e.prototype.toJSON = function() {
        return {
            page: this.page,
            identity: this.identity,
            page_type: this.page_type,
            params: JSON.stringify(this.params),
            category: this.category
        }
    }
    ,
    e.prototype.generatePageId = function(e) {
        return e + (new Date).getTime()
    }
    ,
    e
}()
  , d$5 = ["Kwai", "Kwai_Lite", "Kwai_Pro", "livemate", "ksthanos", "ksNebula", "ksnebula", "kwaiying", "pearl", "kinder", "m2u", "LOLita", "XFunCore", "ACVideoCore", "ZIKZAK"].concat(["UVideo", "Vstatus", "Kwaigo", "MvMaster"])
  , g$5 = "undefined" == typeof window ? {
    addEventListener: function() {},
    removeEventListener: function() {},
    setTimeout: function() {},
    setInterval: function() {},
    _WEBLOGGER_MOCKED_WINDOW_: !0,
    document: {
        cookie: "",
        addEventListener: function() {},
        removeEventListener: function() {},
        querySelector: function() {},
        querySelectorAll: function() {}
    },
    navigator: {
        userAgent: "",
        sendBeacon: function() {}
    },
    screen: {},
    history: {},
    location: {
        hostname: "",
        search: "",
        href: "",
        origin: ""
    },
    localStorage: {
        getItem: function() {},
        setItem: function() {}
    }
} : window;
function f$6(e, t, n) {
    var r, o = {};
    if (e.length > 0)
        for (var i = t ? decodeURIComponent : function(e) {
            return e
        }
        , a = e.split(/;\s/g), s = null, c = null, l = null, u = 0, p = a.length; u < p; u++) {
            if ((l = null === (r = a[u]) || void 0 === r ? void 0 : r.match(/([^=]+)=/i)) && null !== l)
                try {
                    s = decodeURIComponent(l[1]),
                    c = i(a[u].substring(l[1].length + 1))
                } catch (d) {}
            else
                s = decodeURIComponent(a[u]),
                c = "";
            null !== s && (o[s] = c)
        }
    return o
}
var h$5, v$6 = {};
function y$8(e, t, n) {
    void 0 === t && (t = {}),
    void 0 === n && (n = !1);
    try {
        if (!n && e in v$6)
            return v$6[e];
        var r = g$5.document.cookie || "";
        return r === h$5 ? v$6[e] : (h$5 = r,
        (v$6 = f$6(r, !t.raw))[e])
    } catch (o) {}
}
function _$5(e, t, n) {
    void 0 === n && (n = {});
    try {
        g$5.document.cookie = function(e, t, n, r) {
            void 0 === r && (r = {});
            var o = "".concat(encodeURIComponent(e), "=").concat(n ? encodeURIComponent(t) : t)
              , i = r.expires
              , a = r.path || "/"
              , s = r.domain || "";
            return i instanceof Date && (o += "; expires=".concat(i.toUTCString())),
            "number" == typeof i && (o += "; max-age==".concat(i)),
            "" !== a && (o += "; path=".concat(a)),
            "" !== s && (o += "; domain=".concat(s)),
            !0 === r.secure && (o += "; secure"),
            o
        }(e, t, !n.raw, n),
        v$6[e] = t
    } catch (r) {}
}
var m$4 = {
    getCookie: y$8,
    setCookie: _$5,
    parseCookieString: f$6
};
function E$5() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    try {
        var n = null === console || void 0 === console ? void 0 : console.warn;
        return n && n.call.apply(n, u$5([console], e, !1))
    } catch (r) {
        return
    }
}
function P$4() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    try {
        var n = null === console || void 0 === console ? void 0 : console.error;
        return n && n.call.apply(n, u$5([console], e, !1))
    } catch (r) {
        return
    }
}
function S$3(e, t, n, r) {
    return "attachEvent"in e ? e.attachEvent("on" + t, n) : e.addEventListener(t, n, r)
}
function k$4(e, t, n, r) {
    return "attachEvent"in e ? e.detachEvent("on" + t, n) : e.removeEventListener(t, n, r)
}
function O$4(e, t, n) {
    if (void 0 === n && (n = " "),
    (t -= e.length) <= 0)
        return e;
    for (var r = ""; t; )
        1 & t && (r += n),
        t >>= 1,
        n += n;
    return r + e
}
var b$5 = function(e) {
    void 0 === e && (e = g$5.navigator.userAgent.toLowerCase());
    try {
        for (var t = 0; t < d$5.length; t++)
            if (e.indexOf(d$5[t].toLowerCase()) > -1)
                return !0
    } catch (n) {
        return !1
    }
};
function U$2(e) {
    for (var t = {}, n = 0, r = e.split("&"); n < r.length; n++) {
        var o = r[n].split("=")
          , i = o[0]
          , a = o[1];
        i in t ? t[i]instanceof Array ? t[i].push(a) : t[i] = [t[i], a] : t[i] = a
    }
    return t
}
function T$3(e) {
    void 0 === e && (e = g$5.location.href);
    var t = e.lastIndexOf("?");
    return -1 === t ? {
        page: e
    } : {
        page: e.slice(0, t),
        params: U$2(e.slice(t + 1))
    }
}
var N$4 = function(e) {
    return e && "object" == typeof e && !Array.isArray(e)
}, A$3, w$5 = (A$3 = "",
function() {
    if (A$3)
        return A$3;
    try {
        var e = g$5.devicePixelRatio || 1
          , t = Math.floor(screen.width * e)
          , n = Math.floor(screen.height * e);
        return A$3 = "".concat(t, "x").concat(n)
    } catch (r) {
        return ""
    }
}
), L$3 = function() {
    return !(!((null == g$5 ? void 0 : g$5.Worker) && (null == g$5 ? void 0 : g$5.Uint8Array) && g$5.URL && g$5.Promise) || (n = (null === (e = null == g$5 ? void 0 : g$5.navigator) || void 0 === e ? void 0 : e.userAgent) || "",
    r = /mobile|tablet|ip(ad|hone|od)|android|(windows phone)/i.test(n),
    o = "MacIntel" === (null == g$5 ? void 0 : g$5.navigator.platform) && (null === (t = null == g$5 ? void 0 : g$5.navigator) || void 0 === t ? void 0 : t.maxTouchPoints) > 1,
    r || o));
    var e, t, n, r, o
}, C$3 = function(e) {
    try {
        return Math.abs(Math.floor(e))
    } catch (t2) {
        return e
    }
};
function I$3(e) {
    return "string" == typeof e ? e : "object" == typeof e ? JSON.stringify(e) : ""
}
var R$4 = ["PV", "CUSTOM", "RADAR", "CUSTOM_EVENT", "VIDEO", "LAUNCH_EVENT", "HEART_BEAT_EVENT", "APP_USAGE_STAT_EVENT", "EXCEPTION_EVENT", "DEVICE_STAT_EVENT"];
function x$4(e, t, n) {
    var r, o = null === (r = null == e ? void 0 : e.toUpperCase) || void 0 === r ? void 0 : r.call(e);
    R$4.includes(o) || (null == t ? void 0 : t.page) && (null == n ? void 0 : n.page) && t.page !== n.page && E$5("埋点警告：".concat(o, " 事件，").concat(t.action, " 元素的所属页面(").concat(t.page, ")和运行时页面(").concat(n.page, ")不匹配，可能导致埋点丢失！！"))
}
var D$2 = function() {
    function e() {
        this.events = {}
    }
    return e.prototype.on = function(e, t) {
        var n;
        t && "function" == typeof t && (this.events[e] = this.events[e] || [],
        null === (n = this.events[e]) || void 0 === n || n.push(t))
    }
    ,
    e.prototype.off = function(e, t) {
        if (this.events[e]) {
            if (t && "function" == typeof t) {
                var n = this.events[e];
                n && (o = t,
                (i = (r = n).indexOf(o)) > -1 && r.splice(i, 1))
            }
            var r, o, i;
            t || (this.events[e] = [])
        }
    }
    ,
    e.prototype.emit = function(e) {
        for (var t, n = [], r = 1; r < arguments.length; r++)
            n[r - 1] = arguments[r];
        this.events[e] && (null === (t = this.events[e]) || void 0 === t || t.forEach((function(e) {
            e.apply(void 0, n)
        }
        )))
    }
    ,
    e
}()
  , G$4 = 0
  , K$4 = function(e) {
    function t(n, r) {
        var o, i = e.call(this) || this;
        return i.version = "3.10.44",
        i.plugins = {},
        i.flush = function() {
            i.logger.flush()
        }
        ,
        i.baseOption = a$6({}, r),
        i.logConfig = (o = n,
        a$6({
            env: "production",
            proto: "v3",
            timeout: 3e4,
            wait: 1e3,
            maxBatchLength: 50,
            sampleRate: 1,
            yoda: "undefined" != typeof window && window.yoda,
            forbidV2HttpUrlPage: !0
        }, o || {})),
        i.initUrlPackage(),
        t.__instance || (t.__instance = i),
        i
    }
    return o$5(t, e),
    Object.defineProperty(t.prototype, "sessionId", {
        get: function() {
            return p$6.sessionId
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.initUrlPackage = function() {
        this.updateCurrentUrlPackage()
    }
    ,
    t.prototype.updateCurrentUrlPackage = function(e, t) {
        if (void 0 === e && (e = {}),
        void 0 === t && (t = "web"),
        "object" == typeof e && e.page && this.currentUrlPackage && e.page === this.currentUrlPackage.page)
            return this.currentUrlPackage.update(e.page, e.params);
        this.currentUrlPackage = new l$6(e,t)
    }
    ,
    t.prototype.updateReferUrlPackage = function(e, t) {
        void 0 === e && (e = this.currentUrlPackage),
        void 0 === t && (t = "web"),
        this.referUrlPackage = e instanceof l$6 ? e : new l$6(e,t)
    }
    ,
    t.prototype.updateBase = function(e) {
        this.updateCommonPackage(e)
    }
    ,
    t.prototype.updateCommonPackage = function(e) {
        "object" == typeof e && this.commonPackage.update(e)
    }
    ,
    t.prototype.addPlugins = function() {
        var e = this;
        this.logConfig.plugins && this.logConfig.plugins.length && this.logConfig.plugins.forEach((function(t) {
            "object" == typeof t && "function" == typeof t.apply && e.addPluginInstance(t)
        }
        ))
    }
    ,
    t.prototype.addPluginInstance = function(e) {
        if (e) {
            var t = e.key || e.constructor && e.constructor.key || "plugin_auto_key_".concat(G$4++);
            "function" != typeof e.apply || e.weblog && e.weblog === this || e.apply(this),
            this.plugins[t] = e
        }
    }
    ,
    t.prototype.plug = function(e, t) {
        if (this.plugins[e.key])
            return P$4("[code 301]", "".concat(e.key, " 插件重复加载！"));
        this.addPluginInstance(new e(this,t))
    }
    ,
    t.prototype.unplug = function(e) {
        var t = this.plugins[e];
        t && (t.destroy(),
        delete this.plugins[e])
    }
    ,
    t.prototype.unplugAll = function() {
        for (var e in this.plugins)
            this.plugins[e] && this.unplug(e)
    }
    ,
    t.prototype.generateLog = function(e, t) {
        return {}
    }
    ,
    t.prototype.send = function(e, t, n) {
        x$4(e, t, this.currentUrlPackage);
        var r = this.generateLog(e.toUpperCase(), t);
        return "function" == typeof this.beforeSend && this.beforeSend(e, t, r),
        this.logger.send(r, !!n, t.callback)
    }
    ,
    t.prototype.collect = function(e, t) {
        this.send(e, t)
    }
    ,
    t.prototype.sendImmediately = function(e, t) {
        this.send(e, t, !0)
    }
    ,
    t.prototype.sendPackage = function(e, t) {
        this.logger.sendPackage(e, t)
    }
    ,
    t.prototype.destroy = function() {
        this.unplugAll()
    }
    ,
    t
}(D$2);
function W$3() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
        var t = 16 * Math.random() | 0;
        return ("x" == e ? t : 3 & t | 8).toString(16)
    }
    ))
}
function V$4(e) {
    if (void 0 === e && (e = "undefined" != typeof location ? location.hostname : ""),
    !e)
        return "";
    var t = e.split(".")
      , n = t.length;
    return n <= 2 ? "" : ".".concat(t[n - 2], ".").concat(t[n - 1])
}
function M$4() {
    try {
        var e = y$8("did") || y$8("_did") || y$8("weblogger_did");
        if (!e) {
            e = "web_".concat(function() {
                for (var e = 1e9 * Math.random() >>> 0, t = [], n = 0; n < 7; n++)
                    t.push("0123456789ABCDEF".charAt(16 * Math.random()));
                return e + t.join("")
            }());
            var t = new Date;
            t.setFullYear(t.getFullYear() + 1),
            _$5("weblogger_did", e, {
                expires: t,
                domain: V$4(),
                path: "/"
            })
        }
        return e
    } catch (n) {
        return ""
    }
}
var j$3 = function(e) {
    function t(t, n, r) {
        var o = e.call(this, {}, n) || this;
        if ("string" == typeof t) {
            var i = T$3(t);
            o.page = i.page,
            o.params = i.params
        } else
            o.page = (t || {}).page || "",
            o.params = (t || {}).params || void 0;
        return o.identity = o.generatePageId(),
        r && "string" == typeof t && o.init(t, r),
        o
    }
    return o$5(t, e),
    t.prototype.init = function(e, t) {
        void 0 === t && (t = {});
        var n = function(e, t) {
            var n = e.url
              , r = e.page
              , o = e.params
              , i = e.pageId
              , a = !1;
            if (!r && "string" == typeof n) {
                var s = T$3(n);
                r = s.page,
                o = s.params
            }
            if ("function" == typeof t)
                try {
                    var c = t({
                        url: n,
                        page: r,
                        params: o
                    });
                    "string" == typeof c ? r = c : "object" == typeof c && (c.page && (r = c.page),
                    c.params && (o = c.params),
                    c.pageId && (i = c.pageId),
                    c.coPage && (a = !0))
                } catch (p) {}
            else if ("object" == typeof t) {
                var l = "";
                for (var u in t)
                    if ((n || r || "").indexOf(u) > -1) {
                        l = t[u];
                        break
                    }
                l && (r = l)
            }
            return {
                page: r,
                params: o,
                pageId: i,
                coPage: a
            }
        }({
            url: e,
            page: this.page,
            params: this.params
        }, t)
          , r = n.page
          , o = n.params;
        this.update(r, o)
    }
    ,
    t.prototype.attachUrl = function() {
        var e;
        if (this.params || (this.params = {}),
        null === location || void 0 === location ? void 0 : location.href) {
            this.params.origin_url = this.params.origin_url || (null === (e = g$5.location) || void 0 === e ? void 0 : e.href);
            var t = T$3(g$5.location.href).page
              , n = void 0 === t ? "" : t;
            this.params.origin_pathname = n
        }
    }
    ,
    t.prototype.getRealUrlPackage = function() {
        var e = T$3(g$5.location.href)
          , t = e.page
          , n = e.params;
        return {
            page: t,
            params: a$6({
                page_code: this.page,
                url: g$5.location.href,
                query: n
            }, n),
            page_type: this.page_type,
            identity: this.identity
        }
    }
    ,
    t.prototype.generatePageId = function() {
        return W$3()
    }
    ,
    t
}(l$6)
  , B$2 = "https://data-track.corp.kuaishou.com"
  , H$2 = B$2 + "/"
  , J$3 = "production"
  , Q$2 = "rest/wd/common/log/collect/"
  , Y$4 = [J$3, "test", "development", "logger", "oversea"]
  , F$4 = {
    v2: "rest/kd/log/collect?_json=1&biz=",
    v3: "".concat(Q$2, "misc2"),
    radar: "".concat(Q$2, "radar")
}
  , z$4 = {
    v2: {
        production: ["https://wlog.ksapisrv.com/", "https://wlog.gifshow.com/"][Math.round(Math.random())],
        development: H$2,
        test: H$2,
        oversea: "https://logsdk.kwai-pro.com/"
    },
    v3: {
        production: "https://log-sdk.ksapisrv.com/",
        development: H$2,
        test: H$2,
        oversea: "https://logsdk.kwai-pro.com/"
    }
}
  , q$2 = function(e, t, n) {
    return void 0 === e && (e = J$3),
    void 0 === t && (t = !1),
    void 0 === n && (n = "v3"),
    -1 === Y$4.indexOf(e) ? e + F$4[n] : t && z$4.v3[e] ? z$4.v3[e] + F$4.radar : z$4[n][e] && F$4[n] ? z$4[n][e] + F$4[n] : z$4.v3.production + F$4.v3
}
  , X$2 = function(e, t) {
    if (!t)
        return e;
    try {
        return /\?(.+?)$/.test(e) ? e.replace(/\?(.+?)$/, "?".concat(t, "&$1")) : e + "?".concat(t)
    } catch (n) {
        return e
    }
}
  , $$2 = function() {
    function e(e, t) {
        var n = this;
        this.asyncQueue = [],
        this.throttleQueue = [],
        this.errorQueue = [],
        this.sendingQueue = {},
        this.url = "",
        this.isV2 = !1,
        this.isDebug = !1,
        this.radarUrl = "",
        this.drained = !1,
        this.batchCount = 50,
        this.isSetSamplingResult = !1,
        this.sendingYield = null,
        this.flush = function(e) {
            n.sendLogs(n.throttleQueue.concat(n.asyncQueue), e),
            n.throttleQueue = [],
            n.asyncQueue = []
        }
        ,
        this.drain = function() {
            n.drained = !0,
            n.flush(),
            n.flushErrorLogs(),
            setTimeout((function() {
                n.drained = !1
            }
            ), 1e3)
        }
        ,
        this.config = e,
        this.config.maxBatchLength && this.config.maxBatchLength > 1 && (this.batchCount = Math.min(50, this.config.maxBatchLength)),
        this.commonPackage = t,
        this.isDebug = this.config.logger || "logger" === this.config.env,
        this.isV2 = "v2" === this.config.proto,
        this.updateUrls()
    }
    return e.prototype.sendData = function(e, t) {
        return "function" == typeof this.config.sender ? this.config.sender(e, t) : this.baseSendData(e, t)
    }
    ,
    Object.defineProperty(e.prototype, "responseSamplingStorageKey", {
        get: function() {
            var e = this.commonPackage.app_package
              , t = e.product_name
              , n = e.product
              , r = this.commonPackage.identity_package.device_id;
            return "RESPONSE_SAMPLING_STORAGE_KEY_".concat(t || n, "_").concat(r)
        },
        enumerable: !1,
        configurable: !0
    }),
    e.prototype.updateUrls = function() {
        var e = this.config.env;
        e && /^(https?:)?\/\//.test(e) ? this.url = e : this.url = q$2(e),
        this.formatUrl()
    }
    ,
    e.prototype.formatUrl = function() {
        this.radarUrl || (this.radarUrl = this.url.replace(-1 !== this.url.indexOf(F$4.v2) ? F$4.v2 : F$4.v3, F$4.radar),
        -1 !== this.radarUrl.indexOf(z$4.v2.production || "") && this.radarUrl.replace(z$4.v2.production || "", z$4.v3.production));
        var e = this.commonPackage.app_package
          , t = e.product_name
          , n = e.product
          , r = "v=3.10.44&kpn=".concat(t || n);
        this.url = X$2(this.url, r),
        this.radarUrl = X$2(this.radarUrl, r)
    }
    ,
    e.prototype.getCommonPackageJSON = function() {
        return this.commonPackage.toJSON()
    }
    ,
    e.prototype.send = function(e, t, n) {
        if (void 0 === t && (t = !1),
        n || this.drained)
            return this.sendLogs([e], n);
        t ? this.sendAsync(e, n) : this.sendThrottle(e)
    }
    ,
    e.prototype.sendAsync = function(e, t) {
        return s$4(this, void 0, void 0, (function() {
            return c$5(this, (function(t) {
                switch (t.label) {
                case 0:
                    return this.asyncQueue.push(e),
                    this.asyncQueue.length >= this.batchCount ? (this.flush(),
                    [2]) : this.sendingYield ? [4, this.sendingYield] : [3, 2];
                case 1:
                    t.sent(),
                    this.sendingYield = null,
                    t.label = 2;
                case 2:
                    return t.trys.push([2, 4, , 5]),
                    [4, Promise.resolve()];
                case 3:
                case 4:
                    return t.sent(),
                    [3, 5];
                case 5:
                    return this.asyncQueue.length ? (this.flush(),
                    [2]) : [2]
                }
            }
            ))
        }
        ))
    }
    ,
    e.prototype.sendThrottle = function(e) {
        var t = this;
        this.throttleQueue.push(e),
        this.throttleQueue.length >= this.batchCount ? this.flush() : (clearTimeout(this.batchWaitTimer),
        this.batchWaitTimer = setTimeout((function() {
            t.flush()
        }
        ), this.config.wait))
    }
    ,
    e.prototype.sendLogs = function(e, t) {
        var n = this;
        if (!e || !e.length)
            return "function" == typeof t && t();
        var r = this.buildLogPackage(e, this.url);
        this.sendPackage(r, (function(e) {
            e ? n.errHandler(r) : n.flushErrorLogs(),
            "function" == typeof t && t(e)
        }
        ))
    }
    ,
    e.prototype.sendPackage = function(e, t) {
        var n = this.config.timeout;
        try {
            this.sendData(a$6(a$6({}, e), {
                isDebug: this.isDebug,
                isDrained: this.drained,
                timeout: n
            }), t)
        } catch (r) {
            "function" == typeof t && t(r)
        }
    }
    ,
    e.prototype.buildLogPackage = function(e, t) {
        return this.isV2 ? this.buildV2Package(e, t) : this.buildV3Package(e, t)
    }
    ,
    e.prototype.buildV2Package = function(e, t) {
        return {
            url: t,
            data: {
                log: {
                    event: e
                }
            }
        }
    }
    ,
    e.prototype.buildV3Package = function(e, t, n) {
        var r = this.getCommonPackageJSON();
        return n && Object.assign(r, n),
        {
            url: t,
            data: {
                common: r,
                logs: e
            }
        }
    }
    ,
    e.prototype.errHandler = function(e) {
        var t;
        if (this.isV2)
            this.errorQueue.unshift(e);
        else {
            var n = e.data;
            if (n.logs.length) {
                delete n.common.h5_extra_attr.http_seq_id,
                delete n.common.h5_extra_attr.client_timestamp;
                for (var r = !1, o = 0; o < this.errorQueue.length; o++) {
                    var i = this.errorQueue[o];
                    if (i.url === e.url && i.data.logs.length + n.logs.length <= 100 && JSON.stringify(i.data.common) === JSON.stringify(n.common)) {
                        r = !0,
                        (t = i.data.logs).push.apply(t, n.logs);
                        break
                    }
                }
                r || (this.errorQueue.length >= 5 && this.errorQueue.pop(),
                this.errorQueue.unshift(e))
            }
        }
    }
    ,
    e.prototype.flushErrorLogs = function() {
        var e = this;
        this.errorQueue.forEach((function(t) {
            e.sendPackage(t)
        }
        )),
        this.errorQueue = []
    }
    ,
    e.prototype.destory = function() {
        this.batchWaitTimer && clearTimeout(this.batchWaitTimer),
        this.compensateTimer && clearTimeout(this.compensateTimer)
    }
    ,
    e.prototype.sendRadar = function(e, t) {
        var n = t ? {
            service_name: t
        } : void 0
          , r = this.buildV3Package([e], this.radarUrl || this.url, n);
        this.sendPackage(r)
    }
    ,
    e
}()
  , Z$3 = function(e, t, n) {
    return P$4("[error 400]", "埋点上报接口请求报错", "\nurl:", t, "\ndata", n, "\nerror:", e || "server decode log failed")
};
function ee$2(e, t) {
    var n = e.url
      , r = e.data
      , o = e.timeout;
    return new Promise((function(e) {
        if ("undefined" != typeof XMLHttpRequest) {
            var i = new XMLHttpRequest;
            return i.open("POST", n),
            i.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
            "object" != typeof r || r instanceof Uint8Array || (r = JSON.stringify(r)),
            o && (i.timeout = o),
            i.onload = function() {
                var o = function(e, t, n, r) {
                    var o;
                    if (e < 200 || e >= 300 && 304 !== e)
                        ;
                    else
                        try {
                            var i = JSON.parse(t)
                              , a = i.exception
                              , s = i.result
                              , c = i.error_msg;
                            a && (o = a),
                            1 !== s && (o = c || "result is ".concat(s))
                        } catch (l) {
                            o = l.message
                        }
                    return o && Z$3(o, n, r),
                    o
                }(i.status, i.response, n, r);
                t && t(o),
                e({
                    error: o,
                    response: o ? void 0 : i.response
                })
            }
            ,
            i.ontimeout = i.onerror = function(o) {
                o && Z$3(o, n, r),
                t && t(o ? "networkTimeout" : ""),
                e({
                    error: "networkTimeout"
                })
            }
            ,
            i.send(r),
            i
        }
    }
    ))
}
var te$3 = function(e) {
    if ("undefined" != typeof XMLHttpRequest) {
        var t = function(t) {
            return P$4("[error 401]", "GET 请求出错 url: ".concat(e), t)
        };
        try {
            var n = new XMLHttpRequest;
            n.open("GET", e),
            n.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
            n.send(),
            n.onerror = t
        } catch (r) {
            t(r)
        }
    }
}
  , ne$3 = null == g$5 ? void 0 : g$5.navigator
  , re$3 = ne$3 && -1 !== ne$3.userAgent.indexOf("Chrome")
  , oe$3 = "function" == typeof ne$3.sendBeacon;
function ae$3(e, t) {
    var n = e.url
      , r = e.data
      , o = e.timeout;
    e.isDebug;
    var i = e.isDrained
      , a = e.forceSendBeacon;
    return s$4(this, void 0, void 0, (function() {
        var e;
        return c$5(this, (function(s) {
            switch (s.label) {
            case 0:
                return r = JSON.stringify(r),
                i && function(e) {
                    var t, n = e.url, r = e.data;
                    if (!re$3 && !e.forceSendBeacon || !oe$3)
                        return !1;
                    "object" == typeof r && r.fd && (r = r.fd);
                    try {
                        return null === (t = g$5.navigator) || void 0 === t ? void 0 : t.sendBeacon(n, r)
                    } catch (o) {
                        return P$4("[error 403]", "navigator.sendBeacon 报错", o),
                        !1
                    }
                }({
                    url: n,
                    data: r,
                    forceSendBeacon: a
                }) ? (t && t(),
                [2]) : [4, ee$2({
                    url: n,
                    data: r,
                    timeout: o
                }, t)];
            case 1:
                return [2, (e = s.sent()).error ? void 0 : e.response]
            }
        }
        ))
    }
    ))
}
var ie$1, se$1 = function(e, t, n) {
    void 0 === e && (e = B$2);
    var r = "".concat(e, "/#/logger/index?sessionId=").concat(n);
    return function() {
        for (var e = [], t = 0; t < arguments.length; t++)
            e[t] = arguments[t];
        try {
            var n = null === console || void 0 === console ? void 0 : console.log;
            n && n.call.apply(n, u$5([console], e, !1))
        } catch (r) {
            return
        }
    }("%c埋点抓包校验: %c".concat(r), "color:#1abf89;font-size:1.2em;line-height:2.4em;", "font-size:1.2em;"),
    "".concat(t, "/").concat(n, "/")
}, e2;
e2 = ie$1 || (ie$1 = {}),
e2.loading = "loading",
e2.loaded = "loaded";
var ce$3, ue$3, pe$2, le$3 = Object.create(null), de$2 = "weblogger_switch", ge$3 = function(e) {
    var t = function() {
        try {
            var e = y$8(de$2) || "undefined" != typeof sessionStorage && sessionStorage.getItem(de$2);
            if (!e)
                return;
            var t = JSON.parse(e)
              , n = t.loggerSessionId
              , r = t.reportHost
              , o = t.loggerHost
              , i = t.handshakeApi;
            return n ? (te$3(i || "".concat(r, "/").concat(n)),
            se$1(o, r, n)) : ""
        } catch (a) {
            return ""
        }
    }() || function(e) {
        void 0 === e && (e = g$5.location.href);
        var t = e.lastIndexOf("?");
        if (-1 === t)
            return "";
        var n = U$2(e.slice(t + 1)).webloggerSwitch;
        if (!n)
            return "";
        try {
            var r = decodeURIComponent(n)
              , o = JSON.parse(r)
              , i = o.loggerSessionId
              , a = o.reportHost
              , s = o.loggerHost
              , c = o.handshakeApi;
            return i ? ("undefined" != typeof sessionStorage && g$5.sessionStorage.setItem(de$2, r),
            te$3(c || "".concat(a, "/").concat(i)),
            se$1(s, a, i)) : ""
        } catch (l) {
            return ""
        }
    }();
    if (t)
        return q$2(t, !1, e)
}, fe$3 = function(e) {
    function t(t, n) {
        var r = e.call(this, t, n) || this;
        return r.baseSendData = r.sendLog,
        r.getResponseSamplingStorage(),
        r
    }
    return o$5(t, e),
    t.prototype.getResponseSamplingStorage = function() {
        return s$4(this, void 0, void 0, (function() {
            var e;
            return c$5(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Promise.resolve()];
                case 1:
                    return t.sent(),
                    (e = Number(g$5.localStorage.getItem(this.responseSamplingStorageKey))) && Date.now() < e ? this.sendEffectiveTime = e : e && g$5.localStorage.removeItem(this.responseSamplingStorageKey),
                    [3, 3];
                case 2:
                    return t.sent(),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    ,
    t.prototype.isResponseSampling = function() {
        return !!(this.sendEffectiveTime && Date.now() < this.sendEffectiveTime)
    }
    ,
    t.prototype.setResponseSamplingConfig = function(e) {
        var t = this;
        this.isSetSamplingResult || (this.isSetSamplingResult = !0,
        null == e || e.then((function(e) {
            var n;
            try {
                n = e && JSON.parse(e)
            } catch (i) {
                n = {
                    result: 1,
                    hostName: ""
                }
            }
            var r = null == n ? void 0 : n.expireSeconds;
            if (r) {
                var o = Date.now() + 1e3 * r;
                t.sendEffectiveTime = o,
                g$5.localStorage.setItem(t.responseSamplingStorageKey, String(o))
            }
        }
        )))
    }
    ,
    t.prototype.updateUrls = function() {
        var e = this.config
          , t = e.env
          , n = void 0 === t ? J$3 : t
          , r = e.logger
          , o = e.proto
          , i = e.isBridge
          , a = e.disableCompress
          , s = ge$3(o);
        if (s)
            this.url = s,
            this.isDebug = !0;
        else if (r || "logger" === n || "logger-oversea" === n) {
            var c = function(e, t) {
                void 0 === e && (e = M$4()),
                void 0 === t && (t = !1);
                var n = t ? "https://data-track-sgp.corp.kuaishou.com" : B$2;
                return te$3("".concat(n, "/rest/").concat(e)),
                se$1(n, "".concat(n, "/rest"), e)
            }(this.commonPackage.identity_package.device_id, "logger-oversea" === n);
            this.url = q$2(c, !1, o),
            this.isDebug = !0
        } else
            n && /^(https?:)?\/\//.test(n) ? this.url = n : (this.isDebug = n !== J$3,
            this.url = q$2(n, !1, o),
            this.radarUrl = q$2(n, !0, o));
        this.enableAsyncGzip = !a && "v3" === o && !i && L$3() && n === J$3 && !s && !r,
        this.enableAsyncGzip && function(e, t, n) {
            if (void 0 === t && (t = !0),
            !le$3[e]) {
                var r = le$3[e] = {
                    state: ie$1.loading
                }
                  , o = document.createElement("script");
                o.crossOrigin = "anonymous",
                o.src = e,
                t && (o.async = !0);
                var i = document.getElementsByTagName("script")[0];
                i && i.parentNode ? i.parentNode.insertBefore(o, i) : document.head.appendChild(o),
                o.onload = function() {
                    r.state = ie$1.loaded
                }
                ,
                o.onerror = function(e) {
                    r.state = ie$1.loaded
                }
            }
        }("https://static.yximgs.com/udata/pkg/ks-track-platform-new/weblogger/3.10.44/async/gzipper.min.js"),
        this.formatUrl()
    }
    ,
    t.prototype.sendLog = function(e, t) {
        var n = this.config.forceSendBeacon;
        !this.isV2 && this.isResponseSampling() || !this.drained && this.enableAsyncGzip && this.sendGzip(e, t) || this.setResponseSamplingConfig(ae$3(a$6(a$6({}, e), {
            forceSendBeacon: n
        }), t))
    }
    ,
    t.prototype.sendGzip = function(e, n) {
        var r, o = this;
        if (!(null === (r = t.Gzipper) || void 0 === r ? void 0 : r.sendData))
            return !1;
        var i = t.Gzipper.sendData(e, (function(t) {
            t && o.setResponseSamplingConfig(ae$3(e, n))
        }
        ));
        return this.setResponseSamplingConfig(i),
        !!i
    }
    ,
    t.prototype.getCommonPackageJSON = function() {
        return this.commonPackage.toJSON()
    }
    ,
    t.prototype.send = function(t, n, r) {
        void 0 === n && (n = !1),
        this.isV2 && (this.commonPackage.setAdditionalSeqIdPackage(t.getEventType()),
        t.common_package = this.getCommonPackageJSON()),
        e.prototype.send.call(this, t, n, r)
    }
    ,
    t
}($$2);
!function(e) {
    var t, n, r, o, i, a, s, c;
    (t = e.ElementStatus || (e.ElementStatus = {}))[t.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    t[t.CHECKED = 1] = "CHECKED",
    t[t.UNCHECKED = 2] = "UNCHECKED",
    (n = e.PageShowAction || (e.PageShowAction = {}))[n.UNKNOWN_ACTION = 0] = "UNKNOWN_ACTION",
    n[n.ENTER = 1] = "ENTER",
    n[n.LEAVE = 2] = "LEAVE",
    n[n.RESUME = 3] = "RESUME",
    (r = e.ActionStatus || (e.ActionStatus = {}))[r.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    r[r.SUCCESS = 1] = "SUCCESS",
    r[r.FAIL = 2] = "FAIL",
    (o = e.ActionType || (e.ActionType = {}))[o.UNKNOWN_ACTION_TYPE = 0] = "UNKNOWN_ACTION_TYPE",
    o[o.CLICK = 1] = "CLICK",
    o[o.LEFT_PULL = 2] = "LEFT_PULL",
    o[o.RIGHT_PULL = 3] = "RIGHT_PULL",
    o[o.UP_PULL = 4] = "UP_PULL",
    o[o.DOWN_PULL = 5] = "DOWN_PULL",
    (i = e.SubAction || (e.SubAction = {}))[i.UNKNOWN_SUB_ACTION = 0] = "UNKNOWN_SUB_ACTION",
    i[i.PAGE_ENTER = 1] = "PAGE_ENTER",
    i[i.PAGE_LEAVE = 2] = "PAGE_LEAVE",
    i[i.PAGE_RESUME = 3] = "PAGE_RESUME",
    i[i.PAGE_PAUSE = 4] = "PAGE_PAUSE",
    (a = e.Direction || (e.Direction = {}))[a.UNKNOWN2 = 0] = "UNKNOWN2",
    a[a.UP = 1] = "UP",
    a[a.DOWN = 2] = "DOWN",
    a[a.LEFT = 3] = "LEFT",
    a[a.RIGHT = 4] = "RIGHT",
    (s = e.TaskStatus || (e.TaskStatus = {}))[s.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    s[s.START = 1] = "START",
    s[s.RETRY = 2] = "RETRY",
    s[s.PAUSE = 3] = "PAUSE",
    s[s.RESUME = 4] = "RESUME",
    s[s.PENDING = 5] = "PENDING",
    s[s.PROCESSING = 6] = "PROCESSING",
    s[s.SUCCESS = 7] = "SUCCESS",
    s[s.FAIL = 8] = "FAIL",
    s[s.CANCEL = 9] = "CANCEL",
    s[s.FINISH = 10] = "FINISH",
    (c = e.OperationType || (e.OperationType = {}))[c.UNKNOWN_OPERATION = 0] = "UNKNOWN_OPERATION",
    c[c.CLICK = 1] = "CLICK",
    c[c.DOUBLE_CLICK = 2] = "DOUBLE_CLICK",
    c[c.TRIPLE_CLICK = 3] = "TRIPLE_CLICK",
    c[c.LONG_PRESS = 4] = "LONG_PRESS",
    c[c.PULL = 5] = "PULL",
    c[c.DRAG = 6] = "DRAG",
    c[c.SCALE = 7] = "SCALE",
    c[c.PULL_DOWN = 8] = "PULL_DOWN",
    c[c.PULL_UP = 9] = "PULL_UP",
    c[c.RIGHT_CLICK = 10] = "RIGHT_CLICK",
    c[c.AUTO = 11] = "AUTO"
}(ce$3 || (ce$3 = {})),
function(e) {
    var t, n;
    (t = e.ShowType || (e.ShowType = {}))[t.UNKNOWN_TYPE = 0] = "UNKNOWN_TYPE",
    t[t.PAGE_AUTO = 10] = "PAGE_AUTO",
    t[t.PAGE_CUSTOM = 11] = "PAGE_CUSTOM",
    t[t.ELEMENT = 12] = "ELEMENT",
    (n = e.TaskEventType || (e.TaskEventType = {}))[n.UNKNOWN_TYPE = 0] = "UNKNOWN_TYPE",
    n[n.USER_OPERATION = 1] = "USER_OPERATION",
    n[n.STAY_LENGTH_STAT_EVENT = 2] = "STAY_LENGTH_STAT_EVENT",
    n[n.BACKGROUND_TASK_EVENT = 3] = "BACKGROUND_TASK_EVENT"
}(ue$3 || (ue$3 = {})),
function(e) {
    var t;
    (t = e.ShowType || (e.ShowType = {}))[t.UNKNOWN2 = 0] = "UNKNOWN2",
    t[t.PAGE = 1] = "PAGE"
}(pe$2 || (pe$2 = {}));
var he$3 = !0
  , ve$3 = (new Date).valueOf();
function ye$3(e) {
    var t = e || ve$3;
    return t ? C$3((new Date).valueOf() - t) : 0
}
var _e$1, me$3, Ee$3, Pe$2 = function(e, t) {
    var n, r;
    void 0 === t && (t = !1);
    var o = e.type
      , i = e.currentUrlPackage
      , a = e.referUrlPackage
      , s = e.name
      , c = void 0 === s ? "" : s
      , l = e.action
      , u = e.beginTime
      , p = e.params
      , d = e.contentPackage
      , f = e.status
      , h = e.actionType
      , g = e.auto
      , m = ((n = {
        status: f ? ce$3.ActionStatus[f] || ce$3.ActionStatus.UNKNOWN_STATUS : ce$3.ActionStatus.SUCCESS
    })[t ? "show_type" : "action_type"] = h ? ce$3.ActionType[h] || ce$3.ActionType.UNKNOWN_ACTION_TYPE : ce$3.ActionType.CLICK,
    n.url_package = i,
    n.refer_url_package = a,
    n[t ? "content_wrapper" : "content_package"] = d,
    n);
    if ("PV" === o) {
        var y = ce$3.SubAction.PAGE_ENTER
          , v = ce$3.PageShowAction.ENTER
          , b = he$3
          , _ = 0;
        switch (he$3 = !1,
        l) {
        case "leave":
            v = ce$3.PageShowAction.LEAVE,
            y = ce$3.SubAction.PAGE_LEAVE,
            _ = ye$3(u),
            ve$3 = void 0;
            break;
        case "enter":
            v = ce$3.PageShowAction.ENTER,
            y = ce$3.SubAction.PAGE_ENTER,
            ve$3 = (new Date).valueOf();
            break;
        case "visible":
            v = ce$3.PageShowAction.RESUME,
            y = ce$3.SubAction.PAGE_RESUME,
            ve$3 = (new Date).valueOf();
            break;
        case "hidden":
            v = ce$3.PageShowAction.LEAVE,
            y = ce$3.SubAction.PAGE_PAUSE,
            _ = ye$3(u),
            ve$3 = void 0
        }
        var S = g ? ue$3.ShowType.PAGE_AUTO : ue$3.ShowType.PAGE_CUSTOM;
        return t && (b = void 0,
        S = pe$2.ShowType.PAGE),
        {
            show_event: a$6({
                action: v,
                sub_action: y,
                type: S,
                first_load: b,
                time_cost: 0,
                stay_length: _
            }, m)
        }
    }
    return {
        show_event: a$6({
            action: t ? 0 : ce$3.PageShowAction.ENTER,
            type: t ? 0 : ue$3.ShowType.ELEMENT,
            sub_action: t ? 0 : ce$3.SubAction.PAGE_ENTER,
            element_package: (r = {},
            r[t ? "action2" : "action"] = c,
            r.params = JSON.stringify(p),
            r)
        }, m)
    }
}, Se$3 = function(e, t) {
    var n, r;
    void 0 === t && (t = !1);
    var o = e.sessionId
      , i = e.currentUrlPackage
      , a = e.referUrlPackage
      , s = e.name
      , c = e.params
      , l = e.type
      , u = e.contentPackage
      , p = e.status
      , d = e.taskType
      , f = e.operationDirection
      , h = ((n = {
        url_package: i,
        refer_url_package: a,
        element_package: (r = {},
        r[t ? "action2" : "action"] = s,
        r.params = JSON.stringify(c),
        r)
    })[t ? "content_wrapper" : "content_package"] = u,
    n);
    if (t) {
        var g = "USER_OPERATION" === d || "CLICK" === l && !d
          , m = l && ce$3.OperationType[l] || ce$3.OperationType.CLICK;
        return g ? {
            click_event: a$6({
                type: m,
                direction: f && ce$3.Direction[f] || ce$3.Direction.UNKNOWN2
            }, h)
        } : {
            task_event: a$6({
                action2: s,
                status: p && ce$3.TaskStatus[p] || ce$3.TaskStatus.UNKNOWN_STATUS
            }, h)
        }
    }
    return {
        task_event: a$6({
            type: d && ue$3.TaskEventType[d] || ue$3.TaskEventType.USER_OPERATION,
            status: p && ce$3.TaskStatus[p] || ce$3.TaskStatus.UNKNOWN_STATUS,
            operation_type: ce$3.OperationType[l] || ce$3.OperationType.CLICK,
            operation_direction: f && ce$3.Direction[f] || ce$3.Direction.UNKNOWN2,
            session_id: o
        }, h)
    }
}, ke$3 = function(e) {
    var t = e.name
      , n = e.params
      , r = e.currentUrlPackage
      , o = e.referUrlPackage
      , i = i$5(e, ["name", "params", "currentUrlPackage", "referUrlPackage"]);
    return {
        key: t,
        value: JSON.stringify(a$6(a$6({
            url_package: r,
            refer_url_package: o
        }, n), i))
    }
}, Oe$3 = function(e) {
    var t = e.currentUrlPackage
      , n = e.referUrlPackage
      , r = e.options;
    return {
        video_stat_event: a$6(a$6({}, r), {
            url_package: t,
            refer_url_package: n
        })
    }
}, be$3 = {}, Ue$2 = function(e) {
    try {
        if (g$5 && g$5.localStorage && "undefined" != typeof Storage && g$5.localStorage instanceof Storage) {
            var t = Number(function(e) {
                try {
                    if (g$5 && g$5.localStorage) {
                        var t = g$5.localStorage.getItem(e);
                        if (t)
                            try {
                                return JSON.parse(t)
                            } catch (n) {
                                return t
                            }
                    }
                } catch (n) {
                    return null
                }
                return null
            }(e)) || 0;
            return t + 1 > 1e8 && (t = 0),
            function(e, t) {
                try {
                    if (g$5 && g$5.localStorage)
                        return g$5.localStorage.setItem(e, JSON.stringify(t)),
                        !0
                } catch (n) {
                    return !1
                }
            }(e, t + 1),
            t
        }
    } catch (n) {}
    return be$3[e] || (be$3[e] = 0),
    be$3[e]++
}, Te$1 = (_e$1 = (new Date).getTimezoneOffset() / 60) <= 0 ? "GMT+".concat(O$4(-_e$1 + "", 2, "0"), ":00") : "GMT-".concat(O$4(_e$1 + "", 2, "0"), ":00"), Ne$3 = function() {
    function e(e, t) {
        void 0 === t && (t = !1),
        this.client_timestamp = C$3((new Date).valueOf()),
        this.client_increment_id = 0,
        this.session_id = p$6.sessionId,
        this.event_id = "",
        t || (this.time_zone = Te$1),
        Object.assign(this, e),
        this.genIncrementId()
    }
    return e.prototype.genIncrementId = function() {
        this.client_increment_id = this.isCustomStatEvent() ? Ue$2("WEBLOGGER_CUSTOM_INCREAMENT_ID_KEY") : Ue$2("WEBLOGGER_INCREAMENT_ID_KEY")
    }
    ,
    e.prototype.isCustomStatEvent = function() {
        return !(!this.stat_package || !("custom_stat_event"in this.stat_package))
    }
    ,
    e.prototype.getEventType = function() {
        if (this.event_package) {
            var e = this.event_package
              , t = e.task_event
              , n = e.show_event
              , r = e.click_event
              , o = e.custom_event;
            if (n)
                return "showEvent";
            if (r)
                return "clickEvent";
            if (t)
                return "taskEvent";
            if (o)
                return "customEvent"
        }
        return "customEvent"
    }
    ,
    e
}();
function Ae$3(e, t, n) {
    var r;
    void 0 === n && (n = !1);
    var o, i = t.eventId, a = t.currentUrlPackage, s = t.referUrlPackage, c = t.contentPackage, l = t.name, u = t.params;
    switch (n && "RADAR" !== e && "CUSTOM" !== e && (a && (a.page2 = a.page,
    delete a.page),
    s && (s.page2 = s.page,
    delete s.page)),
    e) {
    case "PV":
    case "SHOW":
        return new Ne$3({
            event_package: Pe$2({
                type: e,
                status: t.status,
                currentUrlPackage: a,
                referUrlPackage: s,
                action: t.type,
                beginTime: t.beginTime,
                actionType: t.actionType,
                name: l,
                params: u,
                contentPackage: c,
                operationDirection: t.operationDirection,
                auto: t.auto
            }, n),
            event_id: i
        },n);
    case "CUSTOM":
    case "CUSTOM_STAT_EVENT":
        var p = ke$3({
            name: l,
            params: u,
            currentUrlPackage: a,
            referUrlPackage: s
        });
        return new Ne$3(n ? {
            event_package: {
                custom_event: p
            },
            event_id: i
        } : {
            stat_package: {
                custom_stat_event: p
            },
            event_id: i
        },n);
    case "RADAR":
        return new Ne$3({
            stat_package: {
                custom_stat_event: ke$3({
                    name: l,
                    params: u,
                    currentUrlPackage: a,
                    referUrlPackage: s
                })
            },
            event_id: i
        },n);
    case "HEART_BEAT_EVENT":
    case "LAUNCH_EVENT":
    case "APP_USAGE_STAT_EVENT":
    case "EXCEPTION_EVENT":
    case "DEVICE_STAT_EVENT":
        return new Ne$3({
            stat_package: (r = {},
            r[e.toLowerCase()] = (o = t,
            o.currentUrlPackage,
            o.referUrlPackage,
            o.taskType,
            i$5(o, ["currentUrlPackage", "referUrlPackage", "taskType"])),
            r)
        },n);
    case "VIDEO":
        return new Ne$3(n ? {
            stat_package: Oe$3({
                currentUrlPackage: a,
                referUrlPackage: s,
                options: u.params
            }),
            event_id: i
        } : {
            event_package: Se$3({
                type: e,
                status: t.status,
                taskType: t.taskType,
                sessionId: p$6.sessionId,
                currentUrlPackage: a,
                referUrlPackage: s,
                name: l,
                params: u.params,
                contentPackage: c
            }, n),
            event_id: i
        },n);
    default:
        return new Ne$3({
            event_package: Se$3({
                type: e,
                status: t.status,
                taskType: t.taskType,
                sessionId: p$6.sessionId,
                currentUrlPackage: a,
                referUrlPackage: s,
                name: l,
                params: u,
                contentPackage: c
            }, n),
            event_id: i
        },n)
    }
}
var we$3, Le$3 = (null === (me$3 = null == g$5 ? void 0 : g$5.navigator) || void 0 === me$3 ? void 0 : me$3.userAgent) || "", Ce$3 = function(e) {
    var t, n, r, o;
    if (void 0 === e && (e = null === (t = null == g$5 ? void 0 : g$5.navigator) || void 0 === t ? void 0 : t.userAgent),
    Ee$3 && e === Le$3)
        return Ee$3;
    var i = "unknow"
      , a = /android/i
      , s = "Mac OS"
      , c = "Windows"
      , l = "Android"
      , u = "iPhone"
      , p = "iPad"
      , d = "Windows Phone"
      , f = "Linux";
    Ee$3 = {
        os: {
            name: i,
            version: i
        },
        model: i
    };
    try {
        var h = e.match(/\((.*?)\)/);
        if (!h)
            return a.test(e) && (Ee$3.os.name = l),
            Ee$3;
        var g = h[1] + ")"
          , m = g.split(";").map((function(e) {
            return e.trim()
        }
        ))
          , y = void 0
          , v = void 0
          , b = void 0;
        if (e.indexOf(d) > -1)
            b = y = d,
            (w = g.match(/Windows\sPhone\s(.*?)[;\)\s]/)) && (v = w[1]),
            b = null === (n = m[m.length - 1]) || void 0 === n ? void 0 : n.replace(")", "");
        else if (a.test(e)) {
            y = l;
            var _ = g.match(/android.*?;(.*?)build\//i);
            _ && (b = (b = null === (r = _[1]) || void 0 === r ? void 0 : r.split(";").pop()) && b.trim());
            for (var S = 0; S < m.length; S++)
                if (a.test(m[S])) {
                    v = null === (o = m[S]) || void 0 === o ? void 0 : o.replace(a, ""),
                    b || (b = m[S + 1]);
                    break
                }
        } else if (e.indexOf(u) > -1 || e.indexOf(p) > -1)
            b = e.indexOf(u) > -1 ? u : p,
            y = "iOS",
            (w = g.match(/OS\s(.*?)\slike/)) && (v = w[1]);
        else if (e.indexOf(s) > -1)
            b = y = s,
            (w = g.match(/OS\sX\s(.*?)[;\)\s]/)) && (v = w[1]);
        else if (e.indexOf(c) > -1) {
            var w;
            b = y = c,
            (w = g.match(/Windows\s(.*?)[;\)]/)) && (v = w[1])
        } else if (e.indexOf("Nokia") > -1) {
            y = "Symbian";
            var $ = e.match(/Symbian.*?\/(.*?);/);
            $ && (v = $[1]);
            var k = e.match(/Nokia(.*?)\//);
            k && (b = k[1])
        } else
            g.indexOf(f) > -1 && (y = b = f);
        Ee$3 = {
            os: {
                name: y || i,
                version: v && v.replace(/_/g, ".").trim() || i
            },
            model: b || i
        }
    } catch (E) {}
    return Ee$3
};
function Ie$2() {
    return void 0 === we$3 && (we$3 = b$5() && y$8("kpn") || function() {
        if ("undefined" == typeof window)
            return "";
        for (var e = window.navigator.userAgent, t = [[/ Kwai\//, "KUAISHOU"], [/ ksthanos\//, "THANOS"], [/ ksNebula\//i, "NEBULA"]], n = 0; n < t.length; n++) {
            var r = t[n]
              , o = r[0]
              , i = r[1];
            if (o.exec(e))
                return i
        }
        return ""
    }() || ""),
    we$3
}
var Re$3, xe$3, De$3, Ge$3 = {
    supportsPushState: function() {
        var e = g$5.navigator.userAgent;
        return (-1 === e.indexOf("Android 2.") && -1 === e.indexOf("Android 4.0") || -1 === e.indexOf("Mobile Safari") || -1 !== e.indexOf("Chrome") || -1 !== e.indexOf("Windows Phone")) && g$5.history && "pushState"in g$5.history
    },
    getUAInfo: Ce$3,
    getDefaultKpn: Ie$2
}, Ke$3 = function() {
    var e;
    return "function" == typeof (null === (e = null == g$5 ? void 0 : g$5.__yodaBridge__) || void 0 === e ? void 0 : e.invoke)
}, We$1 = function(e, t) {
    return void 0 === t && (t = "tool"),
    s$4(void 0, void 0, void 0, (function() {
        var n;
        return c$5(this, (function(r) {
            switch (r.label) {
            case 0:
                return void 0 === Re$3 ? [2, !1] : [4, Re$3("tool.canIUse", {
                    namespace: t,
                    name: e
                })];
            case 1:
                return [2, (null == (n = r.sent()) ? void 0 : n.canUse) || !1]
            }
        }
        ))
    }
    ))
}, Ve$2 = {
    setClientLog: function(e, t) {
        return s$4(void 0, void 0, void 0, (function() {
            var n;
            return c$5(this, (function(r) {
                switch (r.label) {
                case 0:
                    return r.trys.push([0, 2, , 3]),
                    [4, Re$3("tool.setClientLog", {
                        type: e,
                        data: t
                    })];
                case 1:
                    return [2, r.sent()];
                case 2:
                    return n = r.sent(),
                    P$4("[error 206]", "yoda.tool.setClientLog() 报错: ".concat(n.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    sendRadarLog: function(e) {
        return s$4(void 0, void 0, void 0, (function() {
            var t;
            return c$5(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Re$3("tool.sendRadarLog", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    P$4("[error 207]", "yoda.tool.sendRadarLog() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    sendWebLog: function(e) {
        return s$4(void 0, void 0, void 0, (function() {
            return c$5(this, (function(t) {
                try {
                    return [2, Re$3("tool.sendWebLog", e)]
                } catch (n) {
                    P$4("[error 214]", "yoda.tool.sendWebLog() 报错: ".concat(n.message))
                }
                return [2]
            }
            ))
        }
        ))
    },
    sendSummarizedLog: function(e) {
        return s$4(void 0, void 0, void 0, (function() {
            var t;
            return c$5(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Re$3("tool.sendSummarizedLog", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    P$4("[error 208]", "yoda.tool.sendSummarizedLog() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    getWebviewLoadPerf: function(e, t) {
        return void 0 === e && (e = {}),
        s$4(void 0, void 0, void 0, (function() {
            var n;
            return c$5(this, (function(r) {
                switch (r.label) {
                case 0:
                    return r.trys.push([0, 2, , 3]),
                    [4, Re$3("webview.getPageLoadData", e, t)];
                case 1:
                    return [2, r.sent()];
                case 2:
                    return n = r.sent(),
                    P$4("[error 209]", "yoda.webview.getPageLoadData() 报错: ".concat(n.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    getKDSWebviewLoadPerf: function(e) {
        return void 0 === e && (e = {}),
        s$4(void 0, void 0, void 0, (function() {
            var t;
            return c$5(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Re$3("system.getPageLoadData", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    P$4("[error 209]", "yoda.system.getPageLoadData() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    isSupportBridgeLog: function() {
        return We$1("setClientLog")
    },
    isSupportBridge: We$1,
    invoke: Re$3
}, Me$3 = {
    unknown: 0,
    none: 1,
    wifi: 2,
    "4g": 3,
    "3g": 4,
    "2g": 5,
    "5g": 7,
    "slow-2g": 5
};
!function(e) {
    e.CLICK = "CLICK",
    e.DOUBLE_CLICK = "DOUBLE_CLICK",
    e.TRIPLE_CLICK = "TRIPLE_CLICK",
    e.LONG_PRESS = "LONG_PRESS",
    e.PULL = "PULL",
    e.DRAG = "DRAG",
    e.SCALE = "SCALE",
    e.PULL_DOWN = "PULL_DOWN",
    e.PULL_UP = "PULL_UP",
    e.AUTO = "AUTO"
}(xe$3 || (xe$3 = {})),
function(e) {
    e.PV = "PV",
    e.SHOW = "SHOW",
    e.VIDEO = "VIDEO",
    e.CUSTOM = "CUSTOM",
    e.CUSTOM_EVENT = "CUSTOM_EVENT",
    e.RADAR = "RADAR"
}(De$3 || (De$3 = {}));
var je$3 = function() {
    function e(e) {
        if (this.identity_package = {
            device_id: void 0,
            global_id: void 0,
            user_id: void 0,
            union_id: void 0,
            open_id: void 0,
            iu_id: void 0
        },
        this.app_package = {
            product: void 0,
            language: void 0,
            platform: void 0,
            container: "H5",
            package_name: void 0,
            product_name: void 0,
            version_name: void 0,
            channel: void 0,
            version_code: void 0
        },
        this.experiment = void 0,
        this.service_name = void 0,
        this.safety_id = void 0,
        this.sub_biz = void 0,
        this.device_package = {
            os_version: void 0,
            model: void 0,
            ua: void 0
        },
        this.need_encrypt = !1,
        this.network_package = {
            type: Me$3.unknown
        },
        this.h5_extra_attr = {
            sdk_name: "webLogger",
            sdk_version: "3.10.44",
            sdk_bundle: "log.browser.js"
        },
        this.global_attr = {
            entry_tag: []
        },
        this.location_package = {
            country: void 0,
            province: void 0,
            city: void 0,
            county: void 0,
            street: void 0,
            latitude: void 0,
            longitude: void 0
        },
        this.update(e),
        this.app_package.version_name) {
            var t = this.app_package.version_name.lastIndexOf(".");
            this.app_package.version_code = +this.app_package.version_name.slice(t + 1) || 0
        }
        this.app_package.version_name || (this.app_package.version_name = void 0),
        this.app_package.version_code || (this.app_package.version_code = void 0)
    }
    return e.prototype.getH5ExtraAttr = function(e) {
        return Object.assign({}, this.h5_extra_attr, e)
    }
    ,
    e.prototype.update = function(e) {
        if ("object" == typeof e) {
            !function(e, t) {
                if (N$4(e) && N$4(t)) {
                    var n = function(e, t, n) {
                        N$4(e[n]) && N$4(t[n]) ? Object.assign(e[n], t[n]) : N$4(e[n]) || N$4(t[n]) || (e[n] = t[n])
                    };
                    for (var r in t)
                        if (e.hasOwnProperty(r))
                            n(e, t, r);
                        else
                            for (var o in e)
                                N$4(e[o]) && e[o].hasOwnProperty(r) && n(e[o], t, r)
                }
            }(this, e);
            var t = e.network_type;
            t && Me$3[t] && (this.network_package.type = Me$3[t])
        }
    }
    ,
    e.prototype.updateGlobalAttr = function(e) {
        Object.assign(this.global_attr || {}, e)
    }
    ,
    e.prototype.toJSON = function() {
        this.identity_package.user_id || (this.identity_package.user_id = void 0);
        var e = a$6(a$6({}, this), {
            toJSON: function() {
                return a$6(a$6({}, e), {
                    h5_extra_attr: JSON.stringify(e.h5_extra_attr),
                    global_attr: JSON.stringify(e.global_attr)
                })
            }
        });
        e.global_attr = a$6({}, this.global_attr),
        this.global_attr.entry_tag && this.global_attr.entry_tag.length ? e.global_attr.entry_tag = this.global_attr.entry_tag.slice() : delete e.global_attr.entry_tag,
        Object.keys(this.global_attr).length || delete e.global_attr;
        var t = this.location_package;
        return t && Object.keys(t).forEach((function(e) {
            void 0 === t[e] && delete t[e]
        }
        )),
        e
    }
    ,
    e
}()
  , Be$3 = [["a7", "640x1136", ["iPhone 5", "iPhone 5s"]], ["a7", "1536x2048", ["iPad Air", "iPad Mini 2", "iPad Mini 3"]], ["a8", "640x1136", ["iPod touch (6th gen)"]], ["a8", "750x1334", ["iPhone 6"]], ["a8", "1242x2208", ["iPhone 6 Plus"]], ["a8", "1536x2048", ["iPad Air 2", "iPad Mini 4"]], ["a9", "640x1136", ["iPhone SE"]], ["a9", "750x1334", ["iPhone 6s"]], ["a9", "1242x2208", ["iPhone 6s Plus"]], ["a9x", "1536x2048", ["iPad Pro (1st gen 9.7-inch)"]], ["a9x", "2048x2732", ["iPad Pro (1st gen 12.9-inch)"]], ["a10", "750x1334", ["iPhone 7"]], ["a10", "1242x2208", ["iPhone 7 Plus"]], ["a10x", "1668x2224", ["iPad Pro (2th gen 10.5-inch)"]], ["a10x", "2048x2732", ["iPad Pro (2th gen 12.9-inch)"]], ["a11", "750x1334", ["iPhone 8"]], ["a11", "1242x2208", ["iPhone 8 Plus"]], ["a11", "1125x2436", ["iPhone X"]], ["a12", "828x1792", ["iPhone Xr"]], ["a12", "1125x2436", ["iPhone Xs"]], ["a12", "1242x2688", ["iPhone Xs Max"]], ["a12x", "1668x2388", ["iPad Pro (3rd gen 11-inch)"]], ["a12x", "2048x2732", ["iPad Pro (3rd gen 12.9-inch)"]]]
  , He$3 = function() {
    try {
        var e = Ce$3()
          , t = b$5()
          , n = e.model || e.os.name || "unknown";
        if ("iOS" !== e.os.name || t)
            return n;
        var r = function() {
            for (var e = w$5(), t = [], n = 0, r = Be$3; n < r.length; n++) {
                var o = r[n];
                e === o[1] && (t = t.concat(o[2]))
            }
            return t.length && t
        }();
        return r ? r.join(" or ") : n
    } catch (o) {
        return "unknown"
    }
}
  , Je$1 = 0;
function Qe$1() {
    try {
        var e = Ce$3().os.name;
        return Je$1 = e ? "Android" === e ? b$5() ? 6 : 8 : "iOS" === e ? b$5() ? 7 : 9 : 10 : 0
    } catch (t) {
        return 0
    }
}
function Ye$3() {
    var e = "unknown"
      , t = null == g$5 ? void 0 : g$5.navigator
      , n = (null == t ? void 0 : t.connection) || (null == t ? void 0 : t.mozConnection) || (null == t ? void 0 : t.webkitConnection);
    return n && (e = n.type || n.effectiveType),
    e
}
var Fe$1, ze$3 = function(e) {
    function t(t) {
        var n = e.call(this, a$6({
            platform: Qe$1(),
            container: 10 === Je$1 ? "WEB" : "H5",
            version_name: b$5() && y$8("appver", void 0, !0) || "",
            network_type: Ye$3(),
            device_id: M$4(),
            user_id: y$8("userId"),
            global_id: b$5() && y$8("egid") || "",
            app_package: {
                language: g$5.navigator.language
            },
            device_package: {
                os_version: Ce$3().os.version,
                model: He$3(),
                ua: g$5.navigator.userAgent
            }
        }, t)) || this;
        return Object.assign(n.h5_extra_attr, {
            host_product: Ie$2(),
            resolution: w$5(),
            screen_width: C$3(g$5.screen.width),
            screen_height: C$3(g$5.screen.height),
            device_pixel_ratio: g$5.devicePixelRatio || 1,
            domain: g$5.location.origin,
            fromIframe: (null == g$5 ? void 0 : g$5.self) !== (null == g$5 ? void 0 : g$5.top)
        }, t.h5_extra_attr),
        delete n.location_package,
        n
    }
    return o$5(t, e),
    t.prototype.getVersionName = function() {
        return this.app_package.version_name
    }
    ,
    t.prototype.update = function(t) {
        e.prototype.update.call(this, t);
        var n = this.app_package.version_name;
        if ("string" == typeof n) {
            var r = n.lastIndexOf(".");
            this.app_package.version_code = +n.slice(r + 1) || 0,
            this.h5_extra_attr.app_version_name = n
        }
    }
    ,
    t.prototype.setAdditionalSeqIdPackage = function(e) {
        var t, n;
        this.additional_seq_id_package = {
            channel: 3,
            channel_seq_id: (n = "NORMAL",
            void 0 === n && (n = ""),
            Ue$2("".concat("WEBLOGGER_CHANNEL_SEQ_ID", "_").concat(n))),
            custom_type: e,
            custom_seq_id: (t = e,
            Ue$2("".concat("WEBLOGGER_V2_SEQ_ID", "_").concat(t)))
        }
    }
    ,
    t.prototype.increaseH5SeqId = function(e) {
        this.h5_extra_attr.client_timestamp = C$3((new Date).valueOf()),
        this.h5_extra_attr.seq_id = Ue$2(e ? "WEBLOGGER_H5_CUSTOM_SEQ_ID" : "WEBLOGGER_H5_SEQ_ID")
    }
    ,
    t
}(je$3), qe$3 = function(e, t, n, r) {
    var o;
    void 0 === t && (t = {}),
    "string" != typeof e && (o = e.type),
    o = e.toUpperCase();
    var i = {};
    if ("string" == typeof t)
        i.contentPackage = r,
        "CUSTOM" === e ? (i.key = t,
        i.value = n) : (i.params = n,
        "PV" === e ? i.page = t : i.action = t);
    else if (i = t,
    ["CUSTOM", "CUSTOM_EVENT"].includes(o)) {
        var a = t;
        a.action && !a.key && (i.key = a.action),
        a.params && !a.value && (i.value = a.params)
    }
    return [o, i]
};
void 0 !== g$5 && ("object" != typeof g$5._WEBLOGGER && (g$5._WEBLOGGER = {
    _silenced: !1,
    constructors: [],
    instances: [],
    silence: function(e) {
        try {
            e ? sessionStorage.setItem("WEBLOGGER_SILENCED", "1") : sessionStorage.removeItem("WEBLOGGER_SILENCED"),
            g$5._WEBLOGGER.instances.forEach((function(t) {
                null == t || t.silence(e)
            }
            ))
        } catch (t) {}
    }
}),
Fe$1 = g$5._WEBLOGGER);
var Xe$2, $e$3 = !1, Ze$3 = Math.random(), et$4 = function(e) {
    function t(t, n) {
        void 0 === t && (t = {});
        var r, o, i = e.call(this, t, n) || this;
        return i.beforeUnload = function(e) {
            if (!$e$3) {
                for (var t in i.logger.drain(),
                i.plugins) {
                    var n = i.plugins[t];
                    "function" == typeof n.beforeUnload && n.beforeUnload(e)
                }
                $e$3 = !0,
                setTimeout((function() {
                    $e$3 = !1
                }
                ), 2e3)
            }
        }
        ,
        i.isBridge = t.bridgeMode && t.yoda && Ke$3(),
        i.logConfig.isBridge = i.isBridge,
        "sessionId",
        r = n && n.session_id || y$8("sid") || function() {
            var e = "";
            try {
                if (b$5()) {
                    if (e = y$8("session_id") || y$8("sid"))
                        return e
                } else
                    "undefined" != typeof sessionStorage && ((e = sessionStorage.getItem("WEBLOGGER_SESSIONID") || "") || (e = W$3(),
                    sessionStorage.setItem("WEBLOGGER_SESSIONID", e)))
            } catch (t) {
                e = W$3()
            }
            return e || W$3()
        }(),
        p$6.sessionId = r,
        i.isV2 = "v2" === i.logConfig.proto,
        i.getSampled(i.logConfig),
        i.presetBaseOption(i.baseOption),
        i.commonPackage = new ze$3(i.baseOption),
        i.logger = new fe$3(i.logConfig,i.commonPackage),
        i.initYoda(),
        i.addPlugins(),
        S$3(g$5, "pagehide", i.beforeUnload),
        S$3(g$5, "beforeunload", i.beforeUnload),
        o = i,
        (null == Fe$1 ? void 0 : Fe$1.instances) && o && -1 === Fe$1.instances.indexOf(o) && (Fe$1.instances.push(o),
        Fe$1._silenced && (null == o || o.silence(!0))),
        i
    }
    return o$5(t, e),
    t.prototype.getSampled = function(e) {
        var t = e || {}
          , n = t.sampleRateFn
          , r = t.sampleRate;
        "function" == typeof n ? this.sampled = !!n() : void 0 !== r && (this.sampled = Ze$3 < Number(r))
    }
    ,
    t.prototype.presetBaseOption = function(e) {
        this.isBridge || (this.isV2 ? ("number" != typeof e.product && P$4("[error 101]", "请设置有效的 product 值，值类型为 number!"),
        delete e.product_name) : (e.product_name && "string" == typeof e.product_name || P$4("[error 100]", "请设置有效的 product_name 值，值类型为 string!"),
        delete e.product),
        e.user_id || (e.user_id = y$8("userId") || y$8("userName") || void 0,
        e.user_id || E$5("[warn 102]", "user_id 为空，请确定是否传入，如果是异步通过 updateCommonPackage 接口传入，可以忽略该提示!")),
        e.device_id || (e.device_id = M$4(),
        e.device_id || P$4("[error 103]", "device_id 为空，请设置有效的设备 id!")),
        !e.global_id && b$5() && (e.global_id = y$8("egid") || ""))
    }
    ,
    Object.defineProperty(t.prototype, "yoda", {
        get: function() {
            return this.logConfig.yoda || (null == g$5 ? void 0 : g$5.KSYoda) || (null == g$5 ? void 0 : g$5.yoda)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(t.prototype, "Utils", {
        get: function() {
            return {
                yoda: Ke$3() && this.yoda ? Ve$2 : null,
                cookie: m$4,
                ua: Ge$3,
                io: {
                    sendData: ae$3
                }
            }
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.initYoda = function() {
        var e, t = this;
        Ke$3() && this.yoda && (e = this.yoda,
        Re$3 = "function" == typeof e ? e : e.invoke,
        s$4(void 0, void 0, void 0, (function() {
            var e;
            return c$5(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Re$3("system.getDeviceInfo")];
                case 1:
                    return [2, t.sent()];
                case 2:
                    return e = t.sent(),
                    P$4("[error 209]", "yoda.system.getDeviceInfo() 报错: ".concat(e.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        )).then((function(e) {
            (null == e ? void 0 : e.mod) && (t.commonPackage.device_package.model = e.mod)
        }
        )),
        s$4(void 0, void 0, void 0, (function() {
            var e;
            return c$5(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Re$3("system.getAppInfo")];
                case 1:
                    return [2, t.sent()];
                case 2:
                    return e = t.sent(),
                    P$4("[error 209]", "yoda.system.getAppInfo() 报错: ".concat(e.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        )).then((function(e) {
            if ("object" == typeof e) {
                var n = e.did
                  , r = e.userId
                  , o = e.appver;
                n && (t.commonPackage.identity_package.device_id = n),
                r && !t.commonPackage.identity_package.user_id && (t.commonPackage.identity_package.user_id = r),
                o && (t.commonPackage.app_package.version_name = o)
            }
        }
        )))
    }
    ,
    t.prototype.initUrlPackage = function() {
        e.prototype.initUrlPackage.call(this);
        var t, n = this.logConfig.referer, r = "web";
        n ? (t = n.value,
        r = n.type && n.type || r) : "undefined" != typeof document && document.referrer && (t = document.referrer),
        t && this.updateReferUrlPackage(t, r)
    }
    ,
    t.prototype.updateCurrentUrlPackage = function(e, t) {
        var n;
        if (void 0 === e && (e = (null === (n = g$5.location) || void 0 === n ? void 0 : n.href) || ""),
        void 0 === t && (t = "web"),
        "object" == typeof e && !e.force && this.currentUrlPackage) {
            var r = e.page
              , o = void 0 === r ? this.currentUrlPackage.page : r
              , i = e.params
              , a = void 0 === i ? {} : i;
            if (o === this.currentUrlPackage.page)
                return this.currentUrlPackage.update(o, a)
        }
        this.currentUrlPackage = new j$3(e,t,this.logConfig.urlMap),
        this.logConfig.attachUrl && this.currentUrlPackage.attachUrl()
    }
    ,
    t.prototype.updateReferUrlPackage = function(e, t) {
        void 0 === e && (e = this.currentUrlPackage),
        void 0 === t && (t = "web"),
        this.referUrlPackage = e instanceof j$3 ? e : new j$3(e,t,this.logConfig.urlMap)
    }
    ,
    Object.defineProperty(t.prototype, "isSendSampled", {
        get: function() {
            return void 0 === this.sampled || this.sampled || this.logger.isDebug
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.generateLog = function(e, t, n) {
        void 0 === n && (n = Ae$3);
        var r, o = t, i = o.action, a = o.params, s = o.status, c = o.type, l = o.eventId, u = o.contentPackage, p = o.urlPage;
        u && (u = "string" == typeof u ? u : JSON.stringify(u));
        var d = "PV" === e;
        if (d) {
            var f = t
              , h = f.page
              , g = f.type;
            g || (t.type = g = "enter"),
            "enter" === g && h ? this.updateCurrentUrlPackage({
                page: h,
                params: a
            }) : this.currentUrlPackage.update(h, a)
        } else
            p && p.page && (r = {
                page: p.page,
                identity: p.identity || W$3(),
                params: I$3(p.params),
                page_type: this.currentUrlPackage.page_type
            });
        var m = {
            currentUrlPackage: r || this.currentUrlPackage.toJSON(),
            referUrlPackage: this.referUrlPackage ? this.referUrlPackage.toJSON() : void 0,
            contentPackage: u
        };
        if ("RADAR" !== e && (null == r || r.page.indexOf("http")),
        d) {
            var y = t.type;
            return n(e, a$6(a$6(a$6({}, t), {
                type: y
            }), m), this.isV2)
        }
        if ("SHOW" === e)
            return n(e, a$6(a$6(a$6({}, t), {
                name: i
            }), m), this.isV2);
        if ("VIDEO" === e)
            return n(e, a$6({
                params: t,
                name: "VIDEO"
            }, m), this.isV2);
        if ("RADAR" === e)
            return n(e, t, this.isV2);
        if (-1 !== ["CUSTOM", "RADAR", "CUSTOM_EVENT"].indexOf(e)) {
            var v = t
              , b = v.key
              , _ = v.value;
            return n("CUSTOM", a$6(a$6(a$6({}, t), {
                params: _,
                name: b
            }), m), this.isV2)
        }
        return n(e, a$6(a$6(a$6({}, t), {
            params: a,
            status: s,
            taskType: c,
            eventId: l,
            name: i
        }), m), this.isV2)
    }
    ,
    t.prototype.collect = function(e, t, n, r) {
        var o = qe$3(e, t, n, r)
          , i = o[0]
          , a = o[1];
        return this.send(i, a, !1)
    }
    ,
    t.prototype.sendImmediately = function(e, t, n, r) {
        var o = qe$3(e, t, n, r)
          , i = o[0]
          , a = o[1];
        return this.send(i, a, !0)
    }
    ,
    t.prototype.send = function(e, t, n) {
        if (!this._silenced) {
            x$4(e, t, this.currentUrlPackage);
            var r, o = this.generateLog(e, t);
            if (this.emit("event", {
                type: e,
                action: null == t ? void 0 : t.action,
                log: o
            }),
            "RADAR" === e)
                return this.logger.sendRadar(o, null == t ? void 0 : t.serviceName);
            if (!(this.isV2 && this.logConfig.forbidV2HttpUrlPage && (r = this.currentUrlPackage.page,
            r && /^(https?:)?\/\//.test(r) && (P$4("[error 108]", "请注意当前埋点页面信息为 ".concat(r, "，不符合规范，上报失败！")),
            1))) && this.isSendSampled) {
                var i = "object" == typeof t && t.callback || void 0;
                this.logger.send(o, !!n, i)
            }
        }
    }
    ,
    t.prototype.destroy = function() {
        e.prototype.destroy.call(this),
        k$4(g$5, "pagehide", this.beforeUnload),
        k$4(g$5, "beforeunload", this.beforeUnload),
        function(e) {
            if (null == Fe$1 ? void 0 : Fe$1.instances) {
                var t = Fe$1.instances.indexOf(e);
                -1 !== t && Fe$1.instances.splice(t, 1)
            }
        }(this)
    }
    ,
    t.prototype.silence = function(e) {
        this._silenced = e
    }
    ,
    t.Logger = fe$3,
    t
}(K$4);
Xe$2 = et$4,
void 0 !== g$5._GLOBAL_KS_WEBLOGGER_ ? g$5._GLOBAL_KS_WEBLOGGER_.Factory = Xe$2 : g$5.Weblog = Xe$2,
(null == Fe$1 ? void 0 : Fe$1.constructors) && Xe$2 && -1 === Fe$1.constructors.indexOf(Xe$2) && (Xe$2._classId = Fe$1.constructors.length,
Fe$1.constructors.push(Xe$2)),
function() {
    if (null == Fe$1 ? void 0 : Fe$1.silence)
        try {
            Fe$1._silenced = !!sessionStorage.getItem("WEBLOGGER_SILENCED")
        } catch (e2) {}
}();
let random = e => crypto.getRandomValues(new Uint8Array(e))
  , customRandom = (e, t, n) => {
    let r = (2 << Math.log(e.length - 1) / Math.LN2) - 1
      , o = -~(1.6 * r * t / e.length);
    return (i=t) => {
        let a = "";
        for (; ; ) {
            let t = n(o)
              , s = o;
            for (; s--; )
                if (a += e[t[s] & r] || "",
                a.length === i)
                    return a
        }
    }
}
  , customAlphabet = (e, t=21) => customRandom(e, t, random);
var __awaiter$3 = function(e, t, n, r) {
    return new (n || (n = Promise))((function(o, i) {
        function a(e) {
            try {
                c(r.next(e))
            } catch (e2) {
                i(e2)
            }
        }
        function s(e) {
            try {
                c(r.throw(e))
            } catch (e2) {
                i(e2)
            }
        }
        function c(e) {
            var t;
            e.done ? o(e.value) : (t = e.value,
            t instanceof n ? t : new n((function(e) {
                e(t)
            }
            ))).then(a, s)
        }
        c((r = r.apply(e, t || [])).next())
    }
    ))
};
class LockableQueue {
    constructor() {
        this.data = [],
        this.transformers = [],
        this.listeners = [],
        this.locked = null,
        this.unlockHandler = null,
        this.registerMapper = (e, t) => {
            this.transformers.push([e, t])
        }
        ,
        this.unregisterMapper = (e, t) => {
            this.transformers = this.transformers.filter(( ([n,r]) => n !== e && r !== t))
        }
    }
    add(e) {
        return __awaiter$3(this, void 0, void 0, (function*() {
            this.locked && (yield this.locked),
            this.data.push(e),
            this.emit()
        }
        ))
    }
    emit() {
        this.data.forEach((e => {
            this.transformers.forEach(( ([t,n]) => {
                t(e) && (e = n(e))
            }
            )),
            this.listeners.forEach((t => {
                t(e)
            }
            ))
        }
        )),
        this.data = []
    }
    on(e) {
        this.listeners.push(e)
    }
    off(e) {
        this.listeners = this.listeners.filter((t => t !== e))
    }
    lock() {
        this.locked || (this.locked = new Promise((e => {
            this.unlockHandler = e
        }
        )))
    }
    unlock() {
        var e;
        null === (e = this.unlockHandler) || void 0 === e || e.call(this),
        this.locked = null
    }
}
function initLogger(e) {
    const t = new LockableQueue;
    function n(e, n) {
        t.add({
            logType: "click",
            data: {
                action: e,
                params: n
            }
        })
    }
    function r(e, n) {
        t.add({
            logType: "show",
            data: {
                action: e,
                params: n
            }
        })
    }
    function o(t, n) {
        e.sendImmediately("CLICK", {
            action: t,
            params: n
        })
    }
    function i(t, n) {
        e.sendImmediately("SHOW", {
            action: t,
            params: n
        })
    }
    return t.lock(),
    t.on((t => {
        "show" === t.logType ? e.collect("SHOW", {
            action: t.data.action,
            params: t.data.params
        }) : "click" === t.logType && e.collect("CLICK", {
            action: t.data.action,
            params: t.data.params
        })
    }
    )),
    {
        logger: e,
        queue: t,
        send: function({action: e, params: t, type: o}) {
            o && "both" !== o ? "click" === o ? n(e, t) : "show" === o && r(e, t) : (n(e, t),
            r(e, t))
        },
        sendImmediately: function({action: e, params: t, type: n}) {
            n && "both" !== n ? "click" === n ? o(e, t) : "show" === n && i(e, t) : (o(e, t),
            i(e, t))
        },
        sendClick: n,
        sendShow: r,
        sendClickImmediately: o,
        sendShowImmediately: i,
        registerMapper: t.registerMapper,
        unregisterMapper: t.unregisterMapper,
        registerPV: function(e) {}
    }
}
/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const isBrowser = "undefined" != typeof document;
function isESModule(e) {
    return e.__esModule || "Module" === e[Symbol.toStringTag]
}
const assign$3 = Object.assign;
function applyToParams(e, t) {
    const n = {};
    for (const r in t) {
        const o = t[r];
        n[r] = isArray$c(o) ? o.map(e) : e(o)
    }
    return n
}
const noop$3 = () => {}
  , isArray$c = Array.isArray
  , HASH_RE = /#/g
  , AMPERSAND_RE = /&/g
  , SLASH_RE = /\//g
  , EQUAL_RE = /=/g
  , IM_RE = /\?/g
  , PLUS_RE = /\+/g
  , ENC_BRACKET_OPEN_RE = /%5B/g
  , ENC_BRACKET_CLOSE_RE = /%5D/g
  , ENC_CARET_RE = /%5E/g
  , ENC_BACKTICK_RE = /%60/g
  , ENC_CURLY_OPEN_RE = /%7B/g
  , ENC_PIPE_RE = /%7C/g
  , ENC_CURLY_CLOSE_RE = /%7D/g
  , ENC_SPACE_RE = /%20/g;
function commonEncode(e) {
    return encodeURI("" + e).replace(ENC_PIPE_RE, "|").replace(ENC_BRACKET_OPEN_RE, "[").replace(ENC_BRACKET_CLOSE_RE, "]")
}
function encodeHash(e) {
    return commonEncode(e).replace(ENC_CURLY_OPEN_RE, "{").replace(ENC_CURLY_CLOSE_RE, "}").replace(ENC_CARET_RE, "^")
}
function encodeQueryValue(e) {
    return commonEncode(e).replace(PLUS_RE, "%2B").replace(ENC_SPACE_RE, "+").replace(HASH_RE, "%23").replace(AMPERSAND_RE, "%26").replace(ENC_BACKTICK_RE, "`").replace(ENC_CURLY_OPEN_RE, "{").replace(ENC_CURLY_CLOSE_RE, "}").replace(ENC_CARET_RE, "^")
}
function encodeQueryKey(e) {
    return encodeQueryValue(e).replace(EQUAL_RE, "%3D")
}
function encodePath(e) {
    return commonEncode(e).replace(HASH_RE, "%23").replace(IM_RE, "%3F")
}
function encodeParam(e) {
    return null == e ? "" : encodePath(e).replace(SLASH_RE, "%2F")
}
function decode$1(e) {
    try {
        return decodeURIComponent("" + e)
    } catch (t) {}
    return "" + e
}
const TRAILING_SLASH_RE = /\/$/
  , removeTrailingSlash = e => e.replace(TRAILING_SLASH_RE, "");
function parseURL(e, t, n="/") {
    let r, o = {}, i = "", a = "";
    const s = t.indexOf("#");
    let c = t.indexOf("?");
    return s < c && s >= 0 && (c = -1),
    c > -1 && (r = t.slice(0, c),
    i = t.slice(c + 1, s > -1 ? s : t.length),
    o = e(i)),
    s > -1 && (r = r || t.slice(0, s),
    a = t.slice(s, t.length)),
    r = resolveRelativePath(null != r ? r : t, n),
    {
        fullPath: r + (i && "?") + i + a,
        path: r,
        query: o,
        hash: decode$1(a)
    }
}
function stringifyURL(e, t) {
    const n = t.query ? e(t.query) : "";
    return t.path + (n && "?") + n + (t.hash || "")
}
function stripBase(e, t) {
    return t && e.toLowerCase().startsWith(t.toLowerCase()) ? e.slice(t.length) || "/" : e
}
function isSameRouteLocation(e, t, n) {
    const r = t.matched.length - 1
      , o = n.matched.length - 1;
    return r > -1 && r === o && isSameRouteRecord(t.matched[r], n.matched[o]) && isSameRouteLocationParams(t.params, n.params) && e(t.query) === e(n.query) && t.hash === n.hash
}
function isSameRouteRecord(e, t) {
    return (e.aliasOf || e) === (t.aliasOf || t)
}
function isSameRouteLocationParams(e, t) {
    if (Object.keys(e).length !== Object.keys(t).length)
        return !1;
    for (const n in e)
        if (!isSameRouteLocationParamsValue(e[n], t[n]))
            return !1;
    return !0
}
function isSameRouteLocationParamsValue(e, t) {
    return isArray$c(e) ? isEquivalentArray(e, t) : isArray$c(t) ? isEquivalentArray(t, e) : e === t
}
function isEquivalentArray(e, t) {
    return isArray$c(t) ? e.length === t.length && e.every(( (e, n) => e === t[n])) : 1 === e.length && e[0] === t
}
function resolveRelativePath(e, t) {
    if (e.startsWith("/"))
        return e;
    if (!e)
        return t;
    const n = t.split("/")
      , r = e.split("/")
      , o = r[r.length - 1];
    ".." !== o && "." !== o || r.push("");
    let i, a, s = n.length - 1;
    for (i = 0; i < r.length; i++)
        if (a = r[i],
        "." !== a) {
            if (".." !== a)
                break;
            s > 1 && s--
        }
    return n.slice(0, s).join("/") + "/" + r.slice(i).join("/")
}
var NavigationType, NavigationType2, NavigationDirection, NavigationDirection2;
function normalizeBase(e) {
    if (!e)
        if (isBrowser) {
            const t = document.querySelector("base");
            e = (e = t && t.getAttribute("href") || "/").replace(/^\w+:\/\/[^\/]+/, "")
        } else
            e = "/";
    return "/" !== e[0] && "#" !== e[0] && (e = "/" + e),
    removeTrailingSlash(e)
}
NavigationType2 = NavigationType || (NavigationType = {}),
NavigationType2.pop = "pop",
NavigationType2.push = "push",
NavigationDirection2 = NavigationDirection || (NavigationDirection = {}),
NavigationDirection2.back = "back",
NavigationDirection2.forward = "forward",
NavigationDirection2.unknown = "";
const BEFORE_HASH_RE = /^[^#]+#/;
function createHref(e, t) {
    return e.replace(BEFORE_HASH_RE, "#") + t
}
function getElementPosition(e, t) {
    const n = document.documentElement.getBoundingClientRect()
      , r = e.getBoundingClientRect();
    return {
        behavior: t.behavior,
        left: r.left - n.left - (t.left || 0),
        top: r.top - n.top - (t.top || 0)
    }
}
const computeScrollPosition = () => ({
    left: window.scrollX,
    top: window.scrollY
});
function scrollToPosition(e) {
    let t;
    if ("el"in e) {
        const n = e.el
          , r = "string" == typeof n && n.startsWith("#")
          , o = "string" == typeof n ? r ? document.getElementById(n.slice(1)) : document.querySelector(n) : n;
        if (!o)
            return;
        t = getElementPosition(o, e)
    } else
        t = e;
    "scrollBehavior"in document.documentElement.style ? window.scrollTo(t) : window.scrollTo(null != t.left ? t.left : window.scrollX, null != t.top ? t.top : window.scrollY)
}
function getScrollKey(e, t) {
    return (history.state ? history.state.position - t : -1) + e
}
const scrollPositions = new Map;
function saveScrollPosition(e, t) {
    scrollPositions.set(e, t)
}
function getSavedScrollPosition(e) {
    const t = scrollPositions.get(e);
    return scrollPositions.delete(e),
    t
}
let createBaseLocation = () => location.protocol + "//" + location.host;
function createCurrentLocation(e, t) {
    const {pathname: n, search: r, hash: o} = t
      , i = e.indexOf("#");
    if (i > -1) {
        let t = o.includes(e.slice(i)) ? e.slice(i).length : 1
          , n = o.slice(t);
        return "/" !== n[0] && (n = "/" + n),
        stripBase(n, "")
    }
    return stripBase(n, e) + r + o
}
function useHistoryListeners(e, t, n, r) {
    let o = []
      , i = []
      , a = null;
    const s = ({state: i}) => {
        const s = createCurrentLocation(e, location)
          , c = n.value
          , l = t.value;
        let u = 0;
        if (i) {
            if (n.value = s,
            t.value = i,
            a && a === c)
                return void (a = null);
            u = l ? i.position - l.position : 0
        } else
            r(s);
        o.forEach((e => {
            e(n.value, c, {
                delta: u,
                type: NavigationType.pop,
                direction: u ? u > 0 ? NavigationDirection.forward : NavigationDirection.back : NavigationDirection.unknown
            })
        }
        ))
    }
    ;
    function c() {
        const {history: e} = window;
        e.state && e.replaceState(assign$3({}, e.state, {
            scroll: computeScrollPosition()
        }), "")
    }
    return window.addEventListener("popstate", s),
    window.addEventListener("beforeunload", c, {
        passive: !0
    }),
    {
        pauseListeners: function() {
            a = n.value
        },
        listen: function(e) {
            o.push(e);
            const t = () => {
                const t = o.indexOf(e);
                t > -1 && o.splice(t, 1)
            }
            ;
            return i.push(t),
            t
        },
        destroy: function() {
            for (const e of i)
                e();
            i = [],
            window.removeEventListener("popstate", s),
            window.removeEventListener("beforeunload", c)
        }
    }
}
function buildState(e, t, n, r=!1, o=!1) {
    return {
        back: e,
        current: t,
        forward: n,
        replaced: r,
        position: window.history.length,
        scroll: o ? computeScrollPosition() : null
    }
}
function useHistoryStateNavigation(e) {
    const {history: t, location: n} = window
      , r = {
        value: createCurrentLocation(e, n)
    }
      , o = {
        value: t.state
    };
    function i(r, i, a) {
        const s = e.indexOf("#")
          , c = s > -1 ? (n.host && document.querySelector("base") ? e : e.slice(s)) + r : createBaseLocation() + e + r;
        try {
            t[a ? "replaceState" : "pushState"](i, "", c),
            o.value = i
        } catch (l) {
            console.error(l),
            n[a ? "replace" : "assign"](c)
        }
    }
    return o.value || i(r.value, {
        back: null,
        current: r.value,
        forward: null,
        position: t.length - 1,
        replaced: !0,
        scroll: null
    }, !0),
    {
        location: r,
        state: o,
        push: function(e, n) {
            const a = assign$3({}, o.value, t.state, {
                forward: e,
                scroll: computeScrollPosition()
            });
            i(a.current, a, !0),
            i(e, assign$3({}, buildState(r.value, e, null), {
                position: a.position + 1
            }, n), !1),
            r.value = e
        },
        replace: function(e, n) {
            i(e, assign$3({}, t.state, buildState(o.value.back, e, o.value.forward, !0), n, {
                position: o.value.position
            }), !0),
            r.value = e
        }
    }
}
function createWebHistory(e) {
    const t = useHistoryStateNavigation(e = normalizeBase(e))
      , n = useHistoryListeners(e, t.state, t.location, t.replace);
    const r = assign$3({
        location: "",
        base: e,
        go: function(e, t=!0) {
            t || n.pauseListeners(),
            history.go(e)
        },
        createHref: createHref.bind(null, e)
    }, t, n);
    return Object.defineProperty(r, "location", {
        enumerable: !0,
        get: () => t.location.value
    }),
    Object.defineProperty(r, "state", {
        enumerable: !0,
        get: () => t.state.value
    }),
    r
}
function isRouteLocation(e) {
    return "string" == typeof e || e && "object" == typeof e
}
function isRouteName(e) {
    return "string" == typeof e || "symbol" == typeof e
}
const START_LOCATION_NORMALIZED = {
    path: "/",
    name: void 0,
    params: {},
    query: {},
    hash: "",
    fullPath: "/",
    matched: [],
    meta: {},
    redirectedFrom: void 0
}
  , NavigationFailureSymbol = Symbol("");
var NavigationFailureType, NavigationFailureType2;
function createRouterError(e, t) {
    return assign$3(new Error, {
        type: e,
        [NavigationFailureSymbol]: !0
    }, t)
}
function isNavigationFailure(e, t) {
    return e instanceof Error && NavigationFailureSymbol in e && (null == t || !!(e.type & t))
}
NavigationFailureType2 = NavigationFailureType || (NavigationFailureType = {}),
NavigationFailureType2[NavigationFailureType2.aborted = 4] = "aborted",
NavigationFailureType2[NavigationFailureType2.cancelled = 8] = "cancelled",
NavigationFailureType2[NavigationFailureType2.duplicated = 16] = "duplicated";
const BASE_PARAM_PATTERN = "[^/]+?"
  , BASE_PATH_PARSER_OPTIONS = {
    sensitive: !1,
    strict: !1,
    start: !0,
    end: !0
}
  , REGEX_CHARS_RE = /[.+*?^${}()[\]/\\]/g;
function tokensToParser(e, t) {
    const n = assign$3({}, BASE_PATH_PARSER_OPTIONS, t)
      , r = [];
    let o = n.start ? "^" : "";
    const i = [];
    for (const c of e) {
        const e = c.length ? [] : [90];
        n.strict && !c.length && (o += "/");
        for (let t = 0; t < c.length; t++) {
            const r = c[t];
            let a = 40 + (n.sensitive ? .25 : 0);
            if (0 === r.type)
                t || (o += "/"),
                o += r.value.replace(REGEX_CHARS_RE, "\\$&"),
                a += 40;
            else if (1 === r.type) {
                const {value: e, repeatable: n, optional: l, regexp: u} = r;
                i.push({
                    name: e,
                    repeatable: n,
                    optional: l
                });
                const p = u || BASE_PARAM_PATTERN;
                if (p !== BASE_PARAM_PATTERN) {
                    a += 10;
                    try {
                        new RegExp("(".concat(p, ")"))
                    } catch (s) {
                        throw new Error('Invalid custom RegExp for param "'.concat(e, '" (').concat(p, "): ") + s.message)
                    }
                }
                let d = n ? "((?:".concat(p, ")(?:/(?:").concat(p, "))*)") : "(".concat(p, ")");
                t || (d = l && c.length < 2 ? "(?:/".concat(d, ")") : "/" + d),
                l && (d += "?"),
                o += d,
                a += 20,
                l && (a += -8),
                n && (a += -20),
                ".*" === p && (a += -50)
            }
            e.push(a)
        }
        r.push(e)
    }
    if (n.strict && n.end) {
        const e = r.length - 1;
        r[e][r[e].length - 1] += .7000000000000001
    }
    n.strict || (o += "/?"),
    n.end ? o += "$" : n.strict && (o += "(?:/|$)");
    const a = new RegExp(o,n.sensitive ? "" : "i");
    return {
        re: a,
        score: r,
        keys: i,
        parse: function(e) {
            const t = e.match(a)
              , n = {};
            if (!t)
                return null;
            for (let r = 1; r < t.length; r++) {
                const e = t[r] || ""
                  , o = i[r - 1];
                n[o.name] = e && o.repeatable ? e.split("/") : e
            }
            return n
        },
        stringify: function(t) {
            let n = ""
              , r = !1;
            for (const o of e) {
                r && n.endsWith("/") || (n += "/"),
                r = !1;
                for (const e of o)
                    if (0 === e.type)
                        n += e.value;
                    else if (1 === e.type) {
                        const {value: i, repeatable: a, optional: s} = e
                          , c = i in t ? t[i] : "";
                        if (isArray$c(c) && !a)
                            throw new Error('Provided param "'.concat(i, '" is an array but it is not repeatable (* or + modifiers)'));
                        const l = isArray$c(c) ? c.join("/") : c;
                        if (!l) {
                            if (!s)
                                throw new Error('Missing required param "'.concat(i, '"'));
                            o.length < 2 && (n.endsWith("/") ? n = n.slice(0, -1) : r = !0)
                        }
                        n += l
                    }
            }
            return n || "/"
        }
    }
}
function compareScoreArray(e, t) {
    let n = 0;
    for (; n < e.length && n < t.length; ) {
        const r = t[n] - e[n];
        if (r)
            return r;
        n++
    }
    return e.length < t.length ? 1 === e.length && 80 === e[0] ? -1 : 1 : e.length > t.length ? 1 === t.length && 80 === t[0] ? 1 : -1 : 0
}
function comparePathParserScore(e, t) {
    let n = 0;
    const r = e.score
      , o = t.score;
    for (; n < r.length && n < o.length; ) {
        const e = compareScoreArray(r[n], o[n]);
        if (e)
            return e;
        n++
    }
    if (1 === Math.abs(o.length - r.length)) {
        if (isLastScoreNegative(r))
            return 1;
        if (isLastScoreNegative(o))
            return -1
    }
    return o.length - r.length
}
function isLastScoreNegative(e) {
    const t = e[e.length - 1];
    return e.length > 0 && t[t.length - 1] < 0
}
const ROOT_TOKEN = {
    type: 0,
    value: ""
}
  , VALID_PARAM_RE = /[a-zA-Z0-9_]/;
function tokenizePath(e) {
    if (!e)
        return [[]];
    if ("/" === e)
        return [[ROOT_TOKEN]];
    if (!e.startsWith("/"))
        throw new Error('Invalid path "'.concat(e, '"'));
    function t(e) {
        throw new Error("ERR (".concat(n, ')/"').concat(l, '": ').concat(e))
    }
    let n = 0
      , r = n;
    const o = [];
    let i;
    function a() {
        i && o.push(i),
        i = []
    }
    let s, c = 0, l = "", u = "";
    function p() {
        l && (0 === n ? i.push({
            type: 0,
            value: l
        }) : 1 === n || 2 === n || 3 === n ? (i.length > 1 && ("*" === s || "+" === s) && t("A repeatable param (".concat(l, ") must be alone in its segment. eg: '/:ids+.")),
        i.push({
            type: 1,
            value: l,
            regexp: u,
            repeatable: "*" === s || "+" === s,
            optional: "*" === s || "?" === s
        })) : t("Invalid state to consume buffer"),
        l = "")
    }
    function d() {
        l += s
    }
    for (; c < e.length; )
        if (s = e[c++],
        "\\" !== s || 2 === n)
            switch (n) {
            case 0:
                "/" === s ? (l && p(),
                a()) : ":" === s ? (p(),
                n = 1) : d();
                break;
            case 4:
                d(),
                n = r;
                break;
            case 1:
                "(" === s ? n = 2 : VALID_PARAM_RE.test(s) ? d() : (p(),
                n = 0,
                "*" !== s && "?" !== s && "+" !== s && c--);
                break;
            case 2:
                ")" === s ? "\\" == u[u.length - 1] ? u = u.slice(0, -1) + s : n = 3 : u += s;
                break;
            case 3:
                p(),
                n = 0,
                "*" !== s && "?" !== s && "+" !== s && c--,
                u = "";
                break;
            default:
                t("Unknown state")
            }
        else
            r = n,
            n = 4;
    return 2 === n && t('Unfinished custom RegExp for param "'.concat(l, '"')),
    p(),
    a(),
    o
}
function createRouteRecordMatcher(e, t, n) {
    const r = tokensToParser(tokenizePath(e.path), n)
      , o = assign$3(r, {
        record: e,
        parent: t,
        children: [],
        alias: []
    });
    return t && !o.record.aliasOf == !t.record.aliasOf && t.children.push(o),
    o
}
function createRouterMatcher(e, t) {
    const n = []
      , r = new Map;
    function o(e, n, r) {
        const s = !r
          , c = normalizeRouteRecord(e);
        c.aliasOf = r && r.record;
        const l = mergeOptions(t, e)
          , u = [c];
        if ("alias"in e) {
            const t = "string" == typeof e.alias ? [e.alias] : e.alias;
            for (const e of t)
                u.push(assign$3({}, c, {
                    components: r ? r.record.components : c.components,
                    path: e,
                    aliasOf: r ? r.record : c
                }))
        }
        let p, d;
        for (const t of u) {
            const {path: u} = t;
            if (n && "/" !== u[0]) {
                const e = n.record.path
                  , r = "/" === e[e.length - 1] ? "" : "/";
                t.path = n.record.path + (u && r + u)
            }
            if (p = createRouteRecordMatcher(t, n, l),
            r ? r.alias.push(p) : (d = d || p,
            d !== p && d.alias.push(p),
            s && e.name && !isAliasRecord(p) && i(e.name)),
            c.children) {
                const e = c.children;
                for (let t = 0; t < e.length; t++)
                    o(e[t], p, r && r.children[t])
            }
            r = r || p,
            (p.record.components && Object.keys(p.record.components).length || p.record.name || p.record.redirect) && a(p)
        }
        return d ? () => {
            i(d)
        }
        : noop$3
    }
    function i(e) {
        if (isRouteName(e)) {
            const t = r.get(e);
            t && (r.delete(e),
            n.splice(n.indexOf(t), 1),
            t.children.forEach(i),
            t.alias.forEach(i))
        } else {
            const t = n.indexOf(e);
            t > -1 && (n.splice(t, 1),
            e.record.name && r.delete(e.record.name),
            e.children.forEach(i),
            e.alias.forEach(i))
        }
    }
    function a(e) {
        let t = 0;
        for (; t < n.length && comparePathParserScore(e, n[t]) >= 0 && (e.record.path !== n[t].record.path || !isRecordChildOf(e, n[t])); )
            t++;
        n.splice(t, 0, e),
        e.record.name && !isAliasRecord(e) && r.set(e.record.name, e)
    }
    return t = mergeOptions({
        strict: !1,
        end: !0,
        sensitive: !1
    }, t),
    e.forEach((e => o(e))),
    {
        addRoute: o,
        resolve: function(e, t) {
            let o, i, a, s = {};
            if ("name"in e && e.name) {
                if (o = r.get(e.name),
                !o)
                    throw createRouterError(1, {
                        location: e
                    });
                a = o.record.name,
                s = assign$3(paramsFromLocation(t.params, o.keys.filter((e => !e.optional)).concat(o.parent ? o.parent.keys.filter((e => e.optional)) : []).map((e => e.name))), e.params && paramsFromLocation(e.params, o.keys.map((e => e.name)))),
                i = o.stringify(s)
            } else if (null != e.path)
                i = e.path,
                o = n.find((e => e.re.test(i))),
                o && (s = o.parse(i),
                a = o.record.name);
            else {
                if (o = t.name ? r.get(t.name) : n.find((e => e.re.test(t.path))),
                !o)
                    throw createRouterError(1, {
                        location: e,
                        currentLocation: t
                    });
                a = o.record.name,
                s = assign$3({}, t.params, e.params),
                i = o.stringify(s)
            }
            const c = [];
            let l = o;
            for (; l; )
                c.unshift(l.record),
                l = l.parent;
            return {
                name: a,
                path: i,
                params: s,
                matched: c,
                meta: mergeMetaFields(c)
            }
        },
        removeRoute: i,
        getRoutes: function() {
            return n
        },
        getRecordMatcher: function(e) {
            return r.get(e)
        }
    }
}
function paramsFromLocation(e, t) {
    const n = {};
    for (const r of t)
        r in e && (n[r] = e[r]);
    return n
}
function normalizeRouteRecord(e) {
    return {
        path: e.path,
        redirect: e.redirect,
        name: e.name,
        meta: e.meta || {},
        aliasOf: void 0,
        beforeEnter: e.beforeEnter,
        props: normalizeRecordProps(e),
        children: e.children || [],
        instances: {},
        leaveGuards: new Set,
        updateGuards: new Set,
        enterCallbacks: {},
        components: "components"in e ? e.components || null : e.component && {
            default: e.component
        }
    }
}
function normalizeRecordProps(e) {
    const t = {}
      , n = e.props || !1;
    if ("component"in e)
        t.default = n;
    else
        for (const r in e.components)
            t[r] = "object" == typeof n ? n[r] : n;
    return t
}
function isAliasRecord(e) {
    for (; e; ) {
        if (e.record.aliasOf)
            return !0;
        e = e.parent
    }
    return !1
}
function mergeMetaFields(e) {
    return e.reduce(( (e, t) => assign$3(e, t.meta)), {})
}
function mergeOptions(e, t) {
    const n = {};
    for (const r in e)
        n[r] = r in t ? t[r] : e[r];
    return n
}
function isRecordChildOf(e, t) {
    return t.children.some((t => t === e || isRecordChildOf(e, t)))
}
function parseQuery(e) {
    const t = {};
    if ("" === e || "?" === e)
        return t;
    const n = ("?" === e[0] ? e.slice(1) : e).split("&");
    for (let r = 0; r < n.length; ++r) {
        const e = n[r].replace(PLUS_RE, " ")
          , o = e.indexOf("=")
          , i = decode$1(o < 0 ? e : e.slice(0, o))
          , a = o < 0 ? null : decode$1(e.slice(o + 1));
        if (i in t) {
            let e = t[i];
            isArray$c(e) || (e = t[i] = [e]),
            e.push(a)
        } else
            t[i] = a
    }
    return t
}
function stringifyQuery(e) {
    let t = "";
    for (let n in e) {
        const r = e[n];
        if (n = encodeQueryKey(n),
        null == r) {
            void 0 !== r && (t += (t.length ? "&" : "") + n);
            continue
        }
        (isArray$c(r) ? r.map((e => e && encodeQueryValue(e))) : [r && encodeQueryValue(r)]).forEach((e => {
            void 0 !== e && (t += (t.length ? "&" : "") + n,
            null != e && (t += "=" + e))
        }
        ))
    }
    return t
}
function normalizeQuery(e) {
    const t = {};
    for (const n in e) {
        const r = e[n];
        void 0 !== r && (t[n] = isArray$c(r) ? r.map((e => null == e ? null : "" + e)) : null == r ? r : "" + r)
    }
    return t
}
const matchedRouteKey = Symbol("")
  , viewDepthKey = Symbol("")
  , routerKey = Symbol("")
  , routeLocationKey = Symbol("")
  , routerViewLocationKey = Symbol("");
function useCallbacks() {
    let e = [];
    return {
        add: function(t) {
            return e.push(t),
            () => {
                const n = e.indexOf(t);
                n > -1 && e.splice(n, 1)
            }
        },
        list: () => e.slice(),
        reset: function() {
            e = []
        }
    }
}
function registerGuard(e, t, n) {
    const r = () => {
        e[t].delete(n)
    }
    ;
    onUnmounted(r),
    onDeactivated(r),
    onActivated(( () => {
        e[t].add(n)
    }
    )),
    e[t].add(n)
}
function onBeforeRouteLeave(e) {
    const t = inject(matchedRouteKey, {}).value;
    t && registerGuard(t, "leaveGuards", e)
}
function guardToPromiseFn(e, t, n, r, o, i=(e => e())) {
    const a = r && (r.enterCallbacks[o] = r.enterCallbacks[o] || []);
    return () => new Promise(( (s, c) => {
        const l = e => {
            !1 === e ? c(createRouterError(4, {
                from: n,
                to: t
            })) : e instanceof Error ? c(e) : isRouteLocation(e) ? c(createRouterError(2, {
                from: t,
                to: e
            })) : (a && r.enterCallbacks[o] === a && "function" == typeof e && a.push(e),
            s())
        }
          , u = i(( () => e.call(r && r.instances[o], t, n, l)));
        let p = Promise.resolve(u);
        e.length < 3 && (p = p.then(l)),
        p.catch((e => c(e)))
    }
    ))
}
function extractComponentsGuards(e, t, n, r, o=(e => e())) {
    const i = [];
    for (const a of e)
        for (const e in a.components) {
            let s = a.components[e];
            if ("beforeRouteEnter" === t || a.instances[e])
                if (isRouteComponent(s)) {
                    const c = (s.__vccOpts || s)[t];
                    c && i.push(guardToPromiseFn(c, n, r, a, e, o))
                } else {
                    let c = s();
                    i.push(( () => c.then((i => {
                        if (!i)
                            return Promise.reject(new Error("Couldn't resolve component \"".concat(e, '" at "').concat(a.path, '"')));
                        const s = isESModule(i) ? i.default : i;
                        a.components[e] = s;
                        const c = (s.__vccOpts || s)[t];
                        return c && guardToPromiseFn(c, n, r, a, e, o)()
                    }
                    ))))
                }
        }
    return i
}
function isRouteComponent(e) {
    return "object" == typeof e || "displayName"in e || "props"in e || "__vccOpts"in e
}
function useLink(e) {
    const t = inject(routerKey)
      , n = inject(routeLocationKey)
      , r = computed(( () => {
        const n = unref(e.to);
        return t.resolve(n)
    }
    ))
      , o = computed(( () => {
        const {matched: e} = r.value
          , {length: t} = e
          , o = e[t - 1]
          , i = n.matched;
        if (!o || !i.length)
            return -1;
        const a = i.findIndex(isSameRouteRecord.bind(null, o));
        if (a > -1)
            return a;
        const s = getOriginalPath(e[t - 2]);
        return t > 1 && getOriginalPath(o) === s && i[i.length - 1].path !== s ? i.findIndex(isSameRouteRecord.bind(null, e[t - 2])) : a
    }
    ))
      , i = computed(( () => o.value > -1 && includesParams(n.params, r.value.params)))
      , a = computed(( () => o.value > -1 && o.value === n.matched.length - 1 && isSameRouteLocationParams(n.params, r.value.params)));
    return {
        route: r,
        href: computed(( () => r.value.href)),
        isActive: i,
        isExactActive: a,
        navigate: function(n={}) {
            return guardEvent(n) ? t[unref(e.replace) ? "replace" : "push"](unref(e.to)).catch(noop$3) : Promise.resolve()
        }
    }
}
const RouterLinkImpl = defineComponent({
    name: "RouterLink",
    compatConfig: {
        MODE: 3
    },
    props: {
        to: {
            type: [String, Object],
            required: !0
        },
        replace: Boolean,
        activeClass: String,
        exactActiveClass: String,
        custom: Boolean,
        ariaCurrentValue: {
            type: String,
            default: "page"
        }
    },
    useLink: useLink,
    setup(e, {slots: t}) {
        const n = reactive(useLink(e))
          , {options: r} = inject(routerKey)
          , o = computed(( () => ({
            [getLinkClass(e.activeClass, r.linkActiveClass, "router-link-active")]: n.isActive,
            [getLinkClass(e.exactActiveClass, r.linkExactActiveClass, "router-link-exact-active")]: n.isExactActive
        })));
        return () => {
            const r = t.default && t.default(n);
            return e.custom ? r : h$6("a", {
                "aria-current": n.isExactActive ? e.ariaCurrentValue : null,
                href: n.href,
                onClick: n.navigate,
                class: o.value
            }, r)
        }
    }
})
  , RouterLink = RouterLinkImpl;
function guardEvent(e) {
    if (!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey || e.defaultPrevented || void 0 !== e.button && 0 !== e.button)) {
        if (e.currentTarget && e.currentTarget.getAttribute) {
            const t = e.currentTarget.getAttribute("target");
            if (/\b_blank\b/i.test(t))
                return
        }
        return e.preventDefault && e.preventDefault(),
        !0
    }
}
function includesParams(e, t) {
    for (const n in t) {
        const r = t[n]
          , o = e[n];
        if ("string" == typeof r) {
            if (r !== o)
                return !1
        } else if (!isArray$c(o) || o.length !== r.length || r.some(( (e, t) => e !== o[t])))
            return !1
    }
    return !0
}
function getOriginalPath(e) {
    return e ? e.aliasOf ? e.aliasOf.path : e.path : ""
}
const getLinkClass = (e, t, n) => null != e ? e : null != t ? t : n
  , RouterViewImpl = defineComponent({
    name: "RouterView",
    inheritAttrs: !1,
    props: {
        name: {
            type: String,
            default: "default"
        },
        route: Object
    },
    compatConfig: {
        MODE: 3
    },
    setup(e, {attrs: t, slots: n}) {
        const r = inject(routerViewLocationKey)
          , o = computed(( () => e.route || r.value))
          , i = inject(viewDepthKey, 0)
          , a = computed(( () => {
            let e = unref(i);
            const {matched: t} = o.value;
            let n;
            for (; (n = t[e]) && !n.components; )
                e++;
            return e
        }
        ))
          , s = computed(( () => o.value.matched[a.value]));
        provide(viewDepthKey, computed(( () => a.value + 1))),
        provide(matchedRouteKey, s),
        provide(routerViewLocationKey, o);
        const c = ref$1();
        return watch(( () => [c.value, s.value, e.name]), ( ([e,t,n], [r,o,i]) => {
            t && (t.instances[n] = e,
            o && o !== t && e && e === r && (t.leaveGuards.size || (t.leaveGuards = o.leaveGuards),
            t.updateGuards.size || (t.updateGuards = o.updateGuards))),
            !e || !t || o && isSameRouteRecord(t, o) && r || (t.enterCallbacks[n] || []).forEach((t => t(e)))
        }
        ), {
            flush: "post"
        }),
        () => {
            const r = o.value
              , i = e.name
              , a = s.value
              , l = a && a.components[i];
            if (!l)
                return normalizeSlot(n.default, {
                    Component: l,
                    route: r
                });
            const u = a.props[i]
              , p = u ? !0 === u ? r.params : "function" == typeof u ? u(r) : u : null
              , d = h$6(l, assign$3({}, p, t, {
                onVnodeUnmounted: e => {
                    e.component.isUnmounted && (a.instances[i] = null)
                }
                ,
                ref: c
            }));
            return normalizeSlot(n.default, {
                Component: d,
                route: r
            }) || d
        }
    }
});
function normalizeSlot(e, t) {
    if (!e)
        return null;
    const n = e(t);
    return 1 === n.length ? n[0] : n
}
const RouterView = RouterViewImpl;
function createRouter(e) {
    const t = createRouterMatcher(e.routes, e)
      , n = e.parseQuery || parseQuery
      , r = e.stringifyQuery || stringifyQuery
      , o = e.history
      , i = useCallbacks()
      , a = useCallbacks()
      , s = useCallbacks()
      , c = shallowRef(START_LOCATION_NORMALIZED);
    let l = START_LOCATION_NORMALIZED;
    isBrowser && e.scrollBehavior && "scrollRestoration"in history && (history.scrollRestoration = "manual");
    const u = applyToParams.bind(null, (e => "" + e))
      , p = applyToParams.bind(null, encodeParam)
      , d = applyToParams.bind(null, decode$1);
    function f(e, i) {
        if (i = assign$3({}, i || c.value),
        "string" == typeof e) {
            const r = parseURL(n, e, i.path)
              , a = t.resolve({
                path: r.path
            }, i)
              , s = o.createHref(r.fullPath);
            return assign$3(r, a, {
                params: d(a.params),
                hash: decode$1(r.hash),
                redirectedFrom: void 0,
                href: s
            })
        }
        let a;
        if (null != e.path)
            a = assign$3({}, e, {
                path: parseURL(n, e.path, i.path).path
            });
        else {
            const t = assign$3({}, e.params);
            for (const e in t)
                null == t[e] && delete t[e];
            a = assign$3({}, e, {
                params: p(t)
            }),
            i.params = p(i.params)
        }
        const s = t.resolve(a, i)
          , l = e.hash || "";
        s.params = u(d(s.params));
        const f = stringifyURL(r, assign$3({}, e, {
            hash: encodeHash(l),
            path: s.path
        }))
          , h = o.createHref(f);
        return assign$3({
            fullPath: f,
            hash: l,
            query: r === stringifyQuery ? normalizeQuery(e.query) : e.query || {}
        }, s, {
            redirectedFrom: void 0,
            href: h
        })
    }
    function h(e) {
        return "string" == typeof e ? parseURL(n, e, c.value.path) : assign$3({}, e)
    }
    function g(e, t) {
        if (l !== e)
            return createRouterError(8, {
                from: t,
                to: e
            })
    }
    function m(e) {
        return v(e)
    }
    function y(e) {
        const t = e.matched[e.matched.length - 1];
        if (t && t.redirect) {
            const {redirect: n} = t;
            let r = "function" == typeof n ? n(e) : n;
            return "string" == typeof r && (r = r.includes("?") || r.includes("#") ? r = h(r) : {
                path: r
            },
            r.params = {}),
            assign$3({
                query: e.query,
                hash: e.hash,
                params: null != r.path ? {} : e.params
            }, r)
        }
    }
    function v(e, t) {
        const n = l = f(e)
          , o = c.value
          , i = e.state
          , a = e.force
          , s = !0 === e.replace
          , u = y(n);
        if (u)
            return v(assign$3(h(u), {
                state: "object" == typeof u ? assign$3({}, i, u.state) : i,
                force: a,
                replace: s
            }), t || n);
        const p = n;
        let d;
        return p.redirectedFrom = t,
        !a && isSameRouteLocation(r, o, n) && (d = createRouterError(16, {
            to: p,
            from: o
        }),
        C(o, o, !0, !1)),
        (d ? Promise.resolve(d) : S(p, o)).catch((e => isNavigationFailure(e) ? isNavigationFailure(e, 2) ? e : x(e) : P(e, p, o))).then((e => {
            if (e) {
                if (isNavigationFailure(e, 2))
                    return v(assign$3({
                        replace: s
                    }, h(e.to), {
                        state: "object" == typeof e.to ? assign$3({}, i, e.to.state) : i,
                        force: a
                    }), t || p)
            } else
                e = $(p, o, !0, s, i);
            return w(p, o, e),
            e
        }
        ))
    }
    function b(e, t) {
        const n = g(e, t);
        return n ? Promise.reject(n) : Promise.resolve()
    }
    function _(e) {
        const t = L.values().next().value;
        return t && "function" == typeof t.runWithContext ? t.runWithContext(e) : e()
    }
    function S(e, t) {
        let n;
        const [r,o,s] = extractChangingRecords(e, t);
        n = extractComponentsGuards(r.reverse(), "beforeRouteLeave", e, t);
        for (const i of r)
            i.leaveGuards.forEach((r => {
                n.push(guardToPromiseFn(r, e, t))
            }
            ));
        const c = b.bind(null, e, t);
        return n.push(c),
        N(n).then(( () => {
            n = [];
            for (const r of i.list())
                n.push(guardToPromiseFn(r, e, t));
            return n.push(c),
            N(n)
        }
        )).then(( () => {
            n = extractComponentsGuards(o, "beforeRouteUpdate", e, t);
            for (const r of o)
                r.updateGuards.forEach((r => {
                    n.push(guardToPromiseFn(r, e, t))
                }
                ));
            return n.push(c),
            N(n)
        }
        )).then(( () => {
            n = [];
            for (const r of s)
                if (r.beforeEnter)
                    if (isArray$c(r.beforeEnter))
                        for (const o of r.beforeEnter)
                            n.push(guardToPromiseFn(o, e, t));
                    else
                        n.push(guardToPromiseFn(r.beforeEnter, e, t));
            return n.push(c),
            N(n)
        }
        )).then(( () => (e.matched.forEach((e => e.enterCallbacks = {})),
        n = extractComponentsGuards(s, "beforeRouteEnter", e, t, _),
        n.push(c),
        N(n)))).then(( () => {
            n = [];
            for (const r of a.list())
                n.push(guardToPromiseFn(r, e, t));
            return n.push(c),
            N(n)
        }
        )).catch((e => isNavigationFailure(e, 8) ? e : Promise.reject(e)))
    }
    function w(e, t, n) {
        s.list().forEach((r => _(( () => r(e, t, n)))))
    }
    function $(e, t, n, r, i) {
        const a = g(e, t);
        if (a)
            return a;
        const s = t === START_LOCATION_NORMALIZED
          , l = isBrowser ? history.state : {};
        n && (r || s ? o.replace(e.fullPath, assign$3({
            scroll: s && l && l.scroll
        }, i)) : o.push(e.fullPath, i)),
        c.value = e,
        C(e, t, n, s),
        x()
    }
    let k;
    let E, T = useCallbacks(), O = useCallbacks();
    function P(e, t, n) {
        x(e);
        const r = O.list();
        return r.length ? r.forEach((r => r(e, t, n))) : console.error(e),
        Promise.reject(e)
    }
    function x(e) {
        return E || (E = !e,
        k || (k = o.listen(( (e, t, n) => {
            if (!R.listening)
                return;
            const r = f(e)
              , i = y(r);
            if (i)
                return void v(assign$3(i, {
                    replace: !0
                }), r).catch(noop$3);
            l = r;
            const a = c.value;
            isBrowser && saveScrollPosition(getScrollKey(a.fullPath, n.delta), computeScrollPosition()),
            S(r, a).catch((e => isNavigationFailure(e, 12) ? e : isNavigationFailure(e, 2) ? (v(e.to, r).then((e => {
                isNavigationFailure(e, 20) && !n.delta && n.type === NavigationType.pop && o.go(-1, !1)
            }
            )).catch(noop$3),
            Promise.reject()) : (n.delta && o.go(-n.delta, !1),
            P(e, r, a)))).then((e => {
                (e = e || $(r, a, !1)) && (n.delta && !isNavigationFailure(e, 8) ? o.go(-n.delta, !1) : n.type === NavigationType.pop && isNavigationFailure(e, 20) && o.go(-1, !1)),
                w(r, a, e)
            }
            )).catch(noop$3)
        }
        ))),
        T.list().forEach(( ([t,n]) => e ? n(e) : t())),
        T.reset()),
        e
    }
    function C(t, n, r, o) {
        const {scrollBehavior: i} = e;
        if (!isBrowser || !i)
            return Promise.resolve();
        const a = !r && getSavedScrollPosition(getScrollKey(t.fullPath, 0)) || (o || !r) && history.state && history.state.scroll || null;
        return nextTick().then(( () => i(t, n, a))).then((e => e && scrollToPosition(e))).catch((e => P(e, t, n)))
    }
    const I = e => o.go(e);
    let A;
    const L = new Set
      , R = {
        currentRoute: c,
        listening: !0,
        addRoute: function(e, n) {
            let r, o;
            return isRouteName(e) ? (r = t.getRecordMatcher(e),
            o = n) : o = e,
            t.addRoute(o, r)
        },
        removeRoute: function(e) {
            const n = t.getRecordMatcher(e);
            n && t.removeRoute(n)
        },
        hasRoute: function(e) {
            return !!t.getRecordMatcher(e)
        },
        getRoutes: function() {
            return t.getRoutes().map((e => e.record))
        },
        resolve: f,
        options: e,
        push: m,
        replace: function(e) {
            return m(assign$3(h(e), {
                replace: !0
            }))
        },
        go: I,
        back: () => I(-1),
        forward: () => I(1),
        beforeEach: i.add,
        beforeResolve: a.add,
        afterEach: s.add,
        onError: O.add,
        isReady: function() {
            return E && c.value !== START_LOCATION_NORMALIZED ? Promise.resolve() : new Promise(( (e, t) => {
                T.add([e, t])
            }
            ))
        },
        install(e) {
            e.component("RouterLink", RouterLink),
            e.component("RouterView", RouterView),
            e.config.globalProperties.$router = this,
            Object.defineProperty(e.config.globalProperties, "$route", {
                enumerable: !0,
                get: () => unref(c)
            }),
            isBrowser && !A && c.value === START_LOCATION_NORMALIZED && (A = !0,
            m(o.location).catch((e => {}
            )));
            const t = {};
            for (const r in START_LOCATION_NORMALIZED)
                Object.defineProperty(t, r, {
                    get: () => c.value[r],
                    enumerable: !0
                });
            e.provide(routerKey, this),
            e.provide(routeLocationKey, shallowReactive(t)),
            e.provide(routerViewLocationKey, c);
            const n = e.unmount;
            L.add(e),
            e.unmount = function() {
                L.delete(e),
                L.size < 1 && (l = START_LOCATION_NORMALIZED,
                k && k(),
                k = null,
                c.value = START_LOCATION_NORMALIZED,
                A = !1,
                E = !1),
                n()
            }
        }
    };
    function N(e) {
        return e.reduce(( (e, t) => e.then(( () => _(t)))), Promise.resolve())
    }
    return R
}
function extractChangingRecords(e, t) {
    const n = []
      , r = []
      , o = []
      , i = Math.max(t.matched.length, e.matched.length);
    for (let a = 0; a < i; a++) {
        const i = t.matched[a];
        i && (e.matched.find((e => isSameRouteRecord(e, i))) ? r.push(i) : n.push(i));
        const s = e.matched[a];
        s && (t.matched.find((e => isSameRouteRecord(e, s))) || o.push(s))
    }
    return [n, r, o]
}
function useRouter() {
    return inject(routerKey)
}
function useRoute$1() {
    return inject(routeLocationKey)
}
const isSSR = "undefined" == typeof window
  , getClickDirectiveHook = e => (t, n) => {
    if (!n.value)
        return;
    t.__currentLogClickHandler && (t.removeEventListener("click", t.__currentLogClickHandler, !0),
    t.__currentLogClickHandler = null);
    const r = () => {
        const {action: t, params: r, immediately: o} = n.value;
        o ? e.sendClickImmediately(t, r) : e.sendClick(t, r)
    }
    ;
    t.__currentLogClickHandler = r,
    t.addEventListener("click", r, !0)
}
  , getShowDirectiveHook = e => (t, n) => {
    if (!n.value)
        return;
    const r = new IntersectionObserver((r => {
        if (0 !== r.length && r[r.length - 1].isIntersecting) {
            if (JSON.stringify(n.value) === t.__currentLogInfo && !n.modifiers.every)
                return;
            const {action: r, params: o, immediately: i} = n.value;
            i ? e.sendShowImmediately(r, o) : e.sendShow(r, o),
            t.__currentLogInfo = JSON.stringify(n.value)
        }
    }
    ))
      , o = t.__currentShowObserver || null;
    o && o.unobserve(t),
    r.observe(t),
    t.__currentShowObserver = r
}
  , addUiTrackAttrs = (e, t) => {
    try {
        const n = window.location.search.includes("TRACK_ECHO_URL_PARAMS");
        if (isSSR || !n)
            return;
        const {action: r, params: o, type: i} = t.value;
        if (r && (e.setAttribute("data-weblogger-action", r),
        o)) {
            const t = JSON.stringify(o);
            "click" !== i && "both" !== i || e.setAttribute("data-weblogger-click-attrs", t),
            "show" !== i && "both" !== i || e.setAttribute("data-weblogger-show-attrs", t)
        }
    } catch (e2) {
        console.error("[addUiTrackAttrs] error:", e2)
    }
}
;
var __awaiter$2 = function(e, t, n, r) {
    return new (n || (n = Promise))((function(o, i) {
        function a(e) {
            try {
                c(r.next(e))
            } catch (e2) {
                i(e2)
            }
        }
        function s(e) {
            try {
                c(r.throw(e))
            } catch (e2) {
                i(e2)
            }
        }
        function c(e) {
            var t;
            e.done ? o(e.value) : (t = e.value,
            t instanceof n ? t : new n((function(e) {
                e(t)
            }
            ))).then(a, s)
        }
        c((r = r.apply(e, t || [])).next())
    }
    ))
};
function createUseLogger() {
    return function() {
        const e = inject("logger");
        return Object.assign(Object.assign({}, e), {
            usePV: function(t) {
                let n = e => {
                    isSSR && console.warn("SSR 阶段不应该调用 addParamsToPV")
                }
                ;
                if (!isSSR) {
                    const r = new Promise((e => {
                        n = e
                    }
                    ));
                    if (e.registerPV(( () => r)),
                    t) {
                        let e = !1;
                        watch(t, (t => {
                            t && (e ? console.warn("[@pex/utils] usePV 的参数只能设置一次，之后会被忽略，请检查") : (n(t),
                            e = !0))
                        }
                        ), {
                            immediate: !0
                        })
                    }
                }
                if (!t)
                    return {
                        addParamsToPV: n
                    }
            }
        })
    }
}
function useAutoPv(e, t, n, r) {
    const {nameSensitiveOnlyList: o} = {};
    let i = null
      , a = !0;
    t.registerPV = e => (i && console.error("[useAutoPV] 当前页面存在多个 registerPV 调用，请检查"),
    i = e,
    onBeforeRouteLeave(( (e, t, n) => {
        i = null,
        n()
    }
    )),
    Promise.resolve()),
    e.beforeEach(( (e, n, r) => {
        var i;
        if (!a) {
            if (e.name && (null == o ? void 0 : o.includes(e.name)) && n.name === e.name)
                return void r();
            t.logger.collect("PV", Object.assign({
                type: "leave"
            }, (null === (i = e.meta) || void 0 === i ? void 0 : i.IS_CO_PAGE) && {
                coPage: !0
            }))
        }
        t.queue.lock(),
        r()
    }
    )),
    e.afterEach(( (e, n) => __awaiter$2(this, void 0, void 0, (function*() {
        var r, s, c;
        if (a = !1,
        yield nextTick(),
        e.name && (null == o ? void 0 : o.includes(e.name)) && n.name === e.name)
            return;
        (null === (r = e.meta) || void 0 === r ? void 0 : r.LOG_PAGE) || console.warn("[useAutoPV] 路由 ".concat(e.path, " 没有设置 LOG_PAGE，请检查 router 配置"));
        const [l,u] = yield Promise.all([{}, (null == i ? void 0 : i(e, n)) || {}])
          , p = Object.assign(Object.assign(Object.assign({
            page: (null === (s = e.meta) || void 0 === s ? void 0 : s.LOG_PAGE) || e.fullPath
        }, l), u), {
            params: Object.assign(Object.assign({}, l.params), u.params)
        });
        t.logger.updateCurrentUrlPackage(p),
        t.logger.collect("PV", Object.assign({
            type: "enter"
        }, (null === (c = e.meta) || void 0 === c ? void 0 : c.IS_CO_PAGE) && {
            coPage: !0
        })),
        t.queue.unlock()
    }
    ))))
}
function createLoggerDirective() {
    return {
        beforeMount(e, t) {
            var n, r, o, i, a;
            const s = (null === (n = t.instance.$.appContext.provides) || void 0 === n ? void 0 : n.logger) || (null === (r = t.instance.$.provides) || void 0 === r ? void 0 : r.logger);
            if (!s)
                return void console.error("[createLoggerDirective] 请在组件上通过 `logger` 的 key 注入 LoggerUtils");
            addUiTrackAttrs(e, t);
            const c = getClickDirectiveHook(s)
              , l = getShowDirectiveHook(s);
            t.modifiers.click || "click" === (null === (o = t.value) || void 0 === o ? void 0 : o.type) ? c(e, t) : t.modifiers.show || "show" === (null === (i = t.value) || void 0 === i ? void 0 : i.type) ? l(e, t) : "both" !== (null === (a = t.value) || void 0 === a ? void 0 : a.type) && t.modifiers || (c(e, t),
            l(e, t))
        },
        updated(e, t) {
            var n, r, o, i, a;
            const s = (null === (n = t.instance.$.appContext.provides) || void 0 === n ? void 0 : n.logger) || (null === (r = t.instance.$.provides) || void 0 === r ? void 0 : r.logger)
              , c = getClickDirectiveHook(s)
              , l = getShowDirectiveHook(s);
            if (s)
                if (addUiTrackAttrs(e, t),
                t.modifiers.click || "click" === (null === (o = t.value) || void 0 === o ? void 0 : o.type))
                    c(e, t);
                else {
                    if (t.modifiers.show || "show" === (null === (i = t.value) || void 0 === i ? void 0 : i.type))
                        return void l(e, t);
                    "both" !== (null === (a = t.value) || void 0 === a ? void 0 : a.type) && t.modifiers || (c(e, t),
                    l(e, t))
                }
            else
                console.error("[createLoggerDirective] 请在组件上通过 `logger` 的 key 注入 LoggerUtils")
        },
        unmounted(e) {
            e.__currentLogClickHandler && (e.removeEventListener("click", e.__currentLogClickHandler),
            e.__currentLogClickHandler = null),
            e.__currentShowObserver && (e.__currentShowObserver.unobserve(e),
            e.__currentShowObserver.disconnect(),
            e.__currentShowObserver = null)
        }
    }
}
var c$4 = Object.defineProperty
  , i$4 = (e, t, n) => t in e ? c$4(e, t, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: n
}) : e[t] = n
  , o$4 = (e, t, n) => (i$4(e, "symbol" != typeof t ? t + "" : t, n),
n);
const r$4 = e => new Promise((t => {
    const n = document.createElement("script");
    n.crossOrigin = "anonymous",
    n.src = "https://static.yximgs.com/udata/pkg/ks-track-platform-new/weblogger-plugin/echo/".concat(e, "/index.umd.js"),
    n.async = !0;
    const r = document.getElementsByTagName("script")[0];
    r && r.parentNode ? r.parentNode.insertBefore(n, r) : document.head.appendChild(n),
    a$5(e),
    n.onload = () => {
        t(window._WEBLOGGER_ECHO_PLUGIN_)
    }
}
));
function a$5(e) {
    var t;
    const n = document.createElement("link");
    n.setAttribute("rel", "stylesheet"),
    n.setAttribute("type", "text/css"),
    n.setAttribute("href", "https://static.yximgs.com/udata/pkg/ks-track-platform-new/weblogger-plugin/echo/".concat(e, "/style.css")),
    null == (t = document.getElementsByTagName("head")[0]) || t.appendChild(n)
}
function l$5() {
    return r$4("1.0.10")
}
let p$5 = class {
    constructor(e) {
        o$4(this, "options"),
        o$4(this, "pluginInstance"),
        o$4(this, "weblog"),
        this.options = e
    }
    async apply(e) {
        if (typeof window > "u" || !location.href.includes("TRACK_ECHO_URL_PARAMS"))
            return;
        const t = await l$5();
        this.pluginInstance = new t(this.options,e)
    }
    destroy() {
        var e, t;
        null == (t = null == (e = this.pluginInstance) ? void 0 : e.destroy) || t.call(e)
    }
}
;
/*! js-cookie v3.0.5 | MIT */
function assign$2(e) {
    for (var t = 1; t < arguments.length; t++) {
        var n = arguments[t];
        for (var r in n)
            e[r] = n[r]
    }
    return e
}
var defaultConverter = {
    read: function(e) {
        return '"' === e[0] && (e = e.slice(1, -1)),
        e.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent)
    },
    write: function(e) {
        return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent)
    }
};
function init$2(e, t) {
    function n(n, r, o) {
        if ("undefined" != typeof document) {
            "number" == typeof (o = assign$2({}, t, o)).expires && (o.expires = new Date(Date.now() + 864e5 * o.expires)),
            o.expires && (o.expires = o.expires.toUTCString()),
            n = encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
            var i = "";
            for (var a in o)
                o[a] && (i += "; " + a,
                !0 !== o[a] && (i += "=" + o[a].split(";")[0]));
            return document.cookie = n + "=" + e.write(r, n) + i
        }
    }
    return Object.create({
        set: n,
        get: function(t) {
            if ("undefined" != typeof document && (!arguments.length || t)) {
                for (var n = document.cookie ? document.cookie.split("; ") : [], r = {}, o = 0; o < n.length; o++) {
                    var i = n[o].split("=")
                      , a = i.slice(1).join("=");
                    try {
                        var s = decodeURIComponent(i[0]);
                        if (r[s] = e.read(a, s),
                        t === s)
                            break
                    } catch (e2) {}
                }
                return t ? r[t] : r
            }
        },
        remove: function(e, t) {
            n(e, "", assign$2({}, t, {
                expires: -1
            }))
        },
        withAttributes: function(e) {
            return init$2(this.converter, assign$2({}, this.attributes, e))
        },
        withConverter: function(e) {
            return init$2(assign$2({}, this.converter, e), this.attributes)
        }
    }, {
        attributes: {
            value: Object.freeze(t)
        },
        converter: {
            value: Object.freeze(e)
        }
    })
}
var api = init$2(defaultConverter, {
    path: "/"
})
  , e$3 = function() {
    return (e$3 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function t$2(e, t, n, r) {
    return new (n = n || Promise)((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : ((r = e.value)instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        s((r = r.apply(e, [])).next())
    }
    ))
}
function n$3(e, t) {
    var n, r, o, i = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    }, a = {
        next: s(0),
        throw: s(1),
        return: s(2)
    };
    return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
        return this
    }
    ),
    a;
    function s(a) {
        return function(s) {
            var c = [a, s];
            if (n)
                throw new TypeError("Generator is already executing.");
            for (; i; )
                try {
                    if (n = 1,
                    r && (o = 2 & c[0] ? r.return : c[0] ? r.throw || ((o = r.return) && o.call(r),
                    0) : r.next) && !(o = o.call(r, c[1])).done)
                        return o;
                    switch (r = 0,
                    (c = o ? [2 & c[0], o.value] : c)[0]) {
                    case 0:
                    case 1:
                        o = c;
                        break;
                    case 4:
                        return i.label++,
                        {
                            value: c[1],
                            done: !1
                        };
                    case 5:
                        i.label++,
                        r = c[1],
                        c = [0];
                        continue;
                    case 7:
                        c = i.ops.pop(),
                        i.trys.pop();
                        continue;
                    default:
                        if (!(o = 0 < (o = i.trys).length && o[o.length - 1]) && (6 === c[0] || 2 === c[0])) {
                            i = 0;
                            continue
                        }
                        if (3 === c[0] && (!o || c[1] > o[0] && c[1] < o[3])) {
                            i.label = c[1];
                            break
                        }
                        if (6 === c[0] && i.label < o[1]) {
                            i.label = o[1],
                            o = c;
                            break
                        }
                        if (o && i.label < o[2]) {
                            i.label = o[2],
                            i.ops.push(c);
                            break
                        }
                        o[2] && i.ops.pop(),
                        i.trys.pop();
                        continue
                    }
                    c = t.call(e, i)
                } catch (l) {
                    c = [6, l],
                    r = 0
                } finally {
                    n = o = 0
                }
            if (5 & c[0])
                throw c[1];
            return {
                value: c[0] ? c[1] : void 0,
                done: !0
            }
        }
    }
}
function r$1$1(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function o$1$1(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var f$4$1, l$2$1, i$3 = console, a$3 = "ksurl.cn/csHfgepO, radar:", c$2$1 = i$3.log.bind(i$3, a$3), s$1$1 = i$3.warn.bind(i$3, a$3), u$2$1 = i$3.error.bind(i$3, a$3), p$2$1 = function() {
    function e() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        this.middlewares = [],
        (e = this.middlewares).push.apply(e, o$1$1([], r$1$1(t), !1))
    }
    return e.prototype.use = function() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        var r = this.middlewares.pop();
        (e = this.middlewares).push.apply(e, o$1$1([], r$1$1(t), !1)),
        this.middlewares.push(r)
    }
    ,
    e.prototype.invoke = function(e) {
        return r = this.middlewares,
        t = e,
        n = -1,
        function e(o) {
            if (o <= n)
                return new Error("`next` 被重复调用");
            var i = r[n = o];
            if (i = o === r.length ? undefined : i)
                try {
                    return i(t, e.bind(null, o + 1))
                } catch (a) {
                    return a
                }
        }(0);
        var t, n, r
    }
    ,
    e
}(), d$2$1 = ((l$2$1 = f$4$1 = f$4$1 || {}).LOAD = "load",
l$2$1.RES = "resource",
l$2$1.API = "api",
l$2$1.ERROR = "error",
l$2$1.SDK_ERROR = "sdk_error",
l$2$1.CUSTOM = "custom",
l$2$1.BATCH = "batch",
l$2$1.EVENT = "event",
l$2$1.BLOOD = "blood",
l$2$1.RUNTIME = "runtime",
function() {
    function e(e) {
        void 0 === e && (e = {});
        var t = this;
        this.broadcastSampleFb = function() {
            var e = t.getSample(t.baseOptions.sampling);
            e !== t.sampling && (t.sampling = e,
            t.sampling && (t.isHit = t.samplingControl(t.sampling)))
        }
        ,
        void 0 === e && et$3("100"),
        e.key || et$3("101"),
        !e.core || "object" == typeof e.core.sampleData && "function" == typeof e.core.collect || et$3("121"),
        this.baseOptions = e,
        this.key = e.key,
        this.version = e.version,
        this.name = e.name,
        this.isHit = !1,
        e.core && this.updateCore(e.core)
    }
    return e.prototype.updateCore = function(e) {
        var t;
        "object" == typeof e.sampleData && "function" == typeof e.collect || et$3("121"),
        null != (t = this.core) && t.broadcastSample.off(this.broadcastSampleFb),
        this.core = e,
        this.sampling = this.getSample(this.baseOptions.sampling),
        this.sampling && (this.isHit = this.samplingControl(this.sampling)),
        null != (e = null == (t = this.core) ? void 0 : t.broadcastSample) && e.on(this.broadcastSampleFb)
    }
    ,
    e.prototype.getSample = function(e) {
        var t = null != (t = null == (t = this.core) ? void 0 : t.sampleData.core) ? t : 1;
        if (this.key === f$4$1.LOAD)
            return t;
        if ("number" != typeof (e = void 0 === e ? 1 : e) || e < 0 || 1 < e)
            return s$1$1("102", "".concat(this.key, "，采用Core的采样率").concat(null == (n = this.core) ? void 0 : n.sampleData.core)),
            t;
        var n = null != (n = this.core) && n.isInYoda ? void 0 === (null == (n = this.core) ? void 0 : n.sampleData[this.key]) ? 1 : this.core.sampleData[this.key] : e;
        return t && t < n ? (s$1$1("115", "".concat(this.key)),
        t) : n
    }
    ,
    e.prototype.samplingControl = function(e) {
        var t;
        return !(null == (t = this.core) || !t.sampleData.isHit) && (null == (t = this.core) ? void 0 : t.samplingControl(e / this.core.sampleData.core))
    }
    ,
    e.prototype.baseCollect = function(e) {
        if (this.core) {
            if (this.isHit) {
                var t = e.value || {};
                t = Object.keys(t).filter((function(e) {
                    return null !== t[e] && void 0 !== t[e]
                }
                )).reduce((function(e, n) {
                    return e$3(e$3({}, e), ((e = {})[n] = t[n],
                    e))
                }
                ), {});
                try {
                    this.core.collect(e.key || this.key, e$3(e$3({
                        collect_version: this.version,
                        collect_name: this.name
                    }, e.dimension), {
                        sample_rate: this.sampling
                    }), t, e[V$3])
                } catch (n) {
                    s$1$1("126")
                }
            }
        } else
            s$1$1("110", "".concat(this.key))
    }
    ,
    e
}());
function h$3() {
    var e, t = "undefined" != typeof window ? window.performance : null;
    return t && t.timing ? "function" == typeof t.timing.toJSON ? ((e = t.timing.toJSON()) && !e.redirectStart && (e.redirectStart = e.navigationStart),
    e) : t.timing : null
}
var v$4 = ["//wlog.kuaishou.com/rest/n/log/web/collect", "/rest/wd/common/log/collect/misc2", "/rest/wd/common/log/collect/radar", "/rest/kd/log/collect"]
  , y$6 = window
  , w$1$1 = "__RADAR_PERFORMANCE_TIMING_"
  , _$3$1 = "__radarSeedStore__"
  , x$3 = "isCoreReady"
  , R$3 = "radarSessionId"
  , O$1$1 = "resource"
  , k$1$1 = "error"
  , E$1$1 = "event"
  , A$1$1 = "dimension"
  , N$3 = "projectId"
  , M$3 = "radar_init_time"
  , V$3 = "commonData"
  , J$2 = "queue"
  , F$1$1 = {
    start_time: {
        custom: function(e, t) {
            return Math.round(t.startTime)
        }
    },
    fetch_start: {
        custom: function(e, t) {
            return Math.round(t.fetchStart)
        }
    },
    dns: {
        end: "domainLookupEnd",
        start: "domainLookupStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    tcp: {
        end: "connectEnd",
        start: "connectStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    ssl: {
        custom: function(e, t) {
            return t.connectEnd && t.secureConnectionStart ? t.connectEnd - t.secureConnectionStart : null
        }
    },
    ttfb: {
        end: "responseStart",
        start: "requestStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    trans: {
        end: "responseEnd",
        start: "responseStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    fb: {
        end: "responseStart",
        start: "fetchStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    total: {
        end: "responseEnd",
        start: "fetchStart"
    },
    size: {
        custom: function(e, t) {
            return t.encodedBodySize
        },
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    protocol: {
        custom: function(e, t) {
            return t.nextHopProtocol
        }
    },
    file: {
        custom: function(e, t) {
            return t.name
        }
    },
    res_type: {
        custom: function(e, t) {
            return t.initiatorType
        }
    },
    cached: {
        custom: function(e, t) {
            return 0 === t.transferSize || 0 === t.duration || null == t.transferSize && (0 === t.domainLookupStart || t.responseStart === t.fetchStart)
        },
        crossOriginSkip: !0
    },
    has_timing_allow: {
        custom: function(e, t) {
            return re$2(t)
        }
    }
}
  , z$3 = /^(https?:)?\/\//;
function K$3(e, t) {
    if (!e)
        return !1;
    var n = e.replace(z$3, "");
    return t.some((function(e) {
        return 0 <= n.indexOf(e.replace(z$3, ""))
    }
    ))
}
function Y$3(e) {
    if ("string" != typeof e)
        return "";
    try {
        var t = e.lastIndexOf(".");
        return e.substr(t + 1)
    } catch (n) {
        return ""
    }
}
function G$3(e) {
    return "object" == typeof e && Object.keys(e).every((function(t) {
        return "number" == typeof e[t]
    }
    ))
}
function Z$2(e) {
    return "function" == typeof e
}
function ee$1(e) {
    return e && Z$2(e.then) && Z$2(e.catch)
}
var te$2 = Array.prototype.slice;
function ne$2(e) {
    return te$2.call(e)
}
function re$2(e) {
    return void 0 === e.nextHopProtocol ? null : "" !== e.nextHopProtocol
}
function oe$2(e) {
    return "resource" === e.entryType ? "fetch" !== (null == e ? void 0 : e.initiatorType) && "xmlhttprequest" !== (null == e ? void 0 : e.initiatorType) || "js" === Y$3(e.name) || "css" === Y$3(e.name) ? "resource" : "api" : "other"
}
function ae$2() {
    for (var e = arguments, t = e[0], n = 1; n < e.length; n++) {
        var r = e[n];
        if (r)
            for (var o in r)
                t[o] = r[o]
    }
    return t
}
function ce$2(e, t, n) {
    return void 0 === n && (n = {}),
    (Object.assign || ae$2)({}, e, t, n)
}
function ue$2(e, t) {
    var n = {};
    return Object.keys(e).forEach((function(r) {
        var o = fe$2(r, e, t);
        null != o && (n[r] = o)
    }
    )),
    n
}
function fe$2(e, t, n) {
    var r = t[e];
    if (r || et$3("129，".concat(e)),
    (!r.crossOriginSkip || re$2(n)) && (!r.cachedSkip || !fe$2("cached", t, n)))
        return "function" == typeof r.custom ? r.custom(e, n) : (t = r.end,
        e = r.start,
        !r.notCatchIfUndefined || void 0 !== n[t] && void 0 !== n[e] ? (+n[t] || 0) - (+n[e] || 0) : void 0)
}
function le$2(e, t, n, r) {
    return e.addEventListener(t, n, r)
}
function pe$1(e, t, n, r) {
    return e.removeEventListener(t, n, r)
}
function de$1(e) {
    return e.message || null != e.lineno
}
function he$2(e) {
    return "__radar_".concat(e = void 0 === e ? "" : e).concat(Math.random().toString(36).substring(2, 8))
}
function ve$2(e, t) {
    var n = window.XMLHttpRequest;
    return n ? (window.XMLHttpRequest = function() {
        var r, o, i, a, s = new n, c = (s._radarRequest = {},
        s._radarResponse = {},
        he$2());
        return s._radarRequest.id = c,
        s.addEventListener("readystatechange", (function() {
            if (4 === s.readyState && "function" == typeof t) {
                s._radarResponse.status = s.status,
                s._radarResponse.statusText = s.statusText;
                var e, n, r, o, i = function(e, t) {
                    switch (null == t && (t = {}),
                    typeof e) {
                    case "object":
                        var n, r = [];
                        for (n in e) {
                            var o = e[n]
                              , i = n.toLowerCase();
                            r.push("".concat(i, ":\t").concat(o))
                        }
                        return r.join("\n") + "\n";
                    case "string":
                        for (var a = 0, s = (r = e.split("\n")).length; a < s; a++) {
                            var c = r[a];
                            /([^:]+):\s*(.+)/.test(c) && (c = null != (c = RegExp.$1) ? c.toLowerCase() : void 0,
                            o = RegExp.$2,
                            c && null == t[c] && (t[c] = o))
                        }
                        return t
                    }
                }(s.getAllResponseHeaders());
                for (e in i)
                    r = i[e],
                    s._radarResponse && s._radarResponse.headers && !s._radarResponse.headers[e] && (n = e.toLowerCase(),
                    s._radarResponse.headers[n] = r);
                if (s.responseType && "text" !== s.responseType)
                    "document" === s.responseType ? (s._radarResponse.xml = s.responseXML,
                    s._radarResponse.data = s.responseXML) : s._radarResponse.data = s.response;
                else {
                    s._radarResponse.text = s.responseText,
                    s._radarResponse.data = s.responseText;
                    try {
                        s._radarResponse.xml = s.responseXML
                    } catch (c) {}
                }
                "responseURL"in s && (s._radarResponse.finalUrl = s.responseURL);
                try {
                    var a = s._radarRequest.headers && s._radarRequest.headers["ktrace-str"];
                    a && window.parseWedTraceId && (s._radarRequest.trace_id = window.parseWedTraceId(null != (o = a.split("|")[1]) ? o : ""))
                } catch (c) {
                    s$1$1("traceId 解析异常")
                }
                t(s._radarRequest, s._radarResponse)
            }
        }
        )),
        "function" == typeof s.abort && (r = s.abort,
        s.abort = function() {
            return s._radarResponse.aborted = !0,
            r.apply(this, ne$2(arguments))
        }
        ),
        "function" == typeof s.setRequestHeader && (o = s.setRequestHeader,
        s.setRequestHeader = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            return s._radarRequest.headers[e[0]] = e[1],
            o.apply(this, e)
        }
        ),
        "function" == typeof s.open && (i = s.open,
        s.open = function(e, t, n, r, o) {
            var a = [].slice.call(arguments);
            return this._radarRequest = e$3({
                method: e,
                url: t,
                async: n,
                user: r,
                pass: o,
                headers: {}
            }, this._radarRequest),
            this._radarResponse.headers = {},
            i.apply(this, a)
        }
        ),
        "function" == typeof s.send && (a = s.send,
        s.send = function() {
            var t = [].slice.call(arguments);
            return "function" == typeof e && (this._radarRequest._config = t[0],
            e(this._radarRequest)),
            a.apply(this, t)
        }
        ),
        s
    }
    ,
    ["DONE", "HEADERS_RECEIVED", "LOADING", "OPENED", "UNSENT"].forEach((function(e) {
        window.XMLHttpRequest[e] = n[e]
    }
    )),
    window.XMLHttpRequest.prototype = n.prototype,
    function() {
        n && (window.XMLHttpRequest = n)
    }
    ) : (u$2$1("118"),
    !1)
}
function me$2(e, t) {
    var n = function(e) {
        if ("function" != typeof e.fetch)
            return null;
        var t, n = e.fetch;
        return e.fetch = (t = e.fetch,
        function() {
            for (var e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            return be$2.apply(void 0, o$1$1([t], r$1$1(e), !1))
        }
        ),
        {
            register: function(e) {
                return ye$2.push(e),
                function() {
                    var t = ye$2.indexOf(e);
                    0 <= t && ye$2.splice(t, 1)
                }
            },
            clear: function() {
                ye$2 = []
            },
            unRegister: function() {
                n && (e.fetch = n)
            }
        }
    }("function" == typeof importScripts ? self : window);
    return n && n.register({
        request: function(t, n) {
            "function" == typeof e && e(t)
        },
        response: function(e, n) {
            "function" == typeof t && t(n, e)
        },
        responseError: function(e, n) {
            "function" == typeof t && t(n, {
                status: 0,
                statusText: e
            }, e)
        }
    }),
    null == n ? void 0 : n.unRegister
}
var ye$2 = []
  , ge$2 = ["application/json", "text/html", "text/plain"];
function be$2(e) {
    for (var t = this, n = [], r = 1; r < arguments.length; r++)
        n[r - 1] = arguments[r];
    var o = ye$2.reduce((function(e, t) {
        return [t].concat(e)
    }
    ), [])
      , i = "string" == typeof n[0] ? new Request(n[0],n[1]) : n[0]
      , a = (i.id = he$2(),
    o.forEach((function(e) {
        e = e.request,
        i = e(i) || i
    }
    )),
    i.clone())
      , s = e.apply(void 0, o$1$1([], r$1$1(n), !1))
      , c = null
      , l = null
      , u = !1;
    return s.then((function(e) {
        var t, n = null == (t = e.headers) ? void 0 : t.get("content-type");
        return n && ge$2.some((function(e) {
            return -1 < n.indexOf(e)
        }
        )) ? (u = !0,
        t = e.clone(),
        c = t.clone(),
        t.clone().text()) : (c = e,
        "[object Object]")
    }
    )).then((function(e) {
        return t$2(t, void 0, void 0, (function() {
            return n$3(this, (function(t) {
                switch (t.label) {
                case 0:
                    l = e,
                    t.label = 1;
                case 1:
                    return t.trys.push([1, 3, , 4]),
                    [4, a.text()];
                case 2:
                    return [2, t.sent()];
                case 3:
                    return t.sent(),
                    [2, "Radar: Request.text()失败"];
                case 4:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    )).then((function(e) {
        i._config = e;
        var t = null;
        return u ? (t = c.clone()).data = l : t = c,
        o.forEach((function(e) {
            (e = e.response) && (t = e(t, i) || t)
        }
        )),
        c
    }
    ), (function(e) {
        throw o.forEach((function(t) {
            (t = t.responseError) && (e = t(e, i) || e)
        }
        )),
        e
    }
    ))
}
function we$2() {
    var e = [];
    function t(t) {
        -1 !== (t = e.indexOf(t)) && e.splice(t, 1)
    }
    function n(n) {
        return e.push(n),
        t.bind(void 0, n)
    }
    return {
        on: n,
        off: t,
        once: function(e) {
            var t = n((function(n) {
                e(n),
                t()
            }
            ));
            return t
        },
        emit: function(t) {
            e.forEach((function(e) {
                return e(t)
            }
            ))
        }
    }
}
function xe$2(e) {
    return (e = new RegExp("(?:^|; ?)".concat(e, "=(1|0)(;|$)")).exec(document.cookie)) && e[1]
}
var Se$2 = ["radar_init", "h5_load", "fmp", "main_api", "h5_custom_metric"];
function Re$2(e) {
    var t = e.dimension
      , n = e.value;
    if (e = t.event_name,
    Se$2.indexOf(e) < 0)
        return !1;
    if (!G$3(n))
        return !1;
    switch (e) {
    case "fmp":
        var r = n.fmp_time;
        return !(!n.fmp || !r);
    case "h5_load":
        return r = n.total,
        !(!n.load_event_time || !r);
    case "h5_custom_metric":
        return r = n.custom_metric_timestamp,
        !(!t.custom_metric_name || !r)
    }
    return !0
}
function Oe$2(e) {
    var t = e.dimension
      , n = (e = e.value,
    t.custom_failed)
      , r = t.api
      , o = t.status
      , i = t.res_type
      , a = t.protocol
      , s = (t = t.cached,
    e.duration)
      , c = e.size;
    return "boolean" == typeof (void 0 !== n && n) && "string" == typeof (void 0 === r ? "" : r) && "number" == typeof (void 0 === o ? 0 : o) && "string" == typeof (void 0 === i ? "" : i) && "string" == typeof (void 0 === a ? "" : a) && "boolean" == typeof (void 0 !== t && t) && "number" == typeof (void 0 === s ? 0 : s) && "number" == typeof (void 0 === c ? 0 : c) && G$3(e)
}
function ke$2(e) {
    if ([(e = e.dimension).error_cons_type, e.msg].some((function(e) {
        return null == e
    }
    )))
        return !1;
    var t, n = e.col, r = e.line;
    return e.sample_rate,
    e.event_client_timestamp,
    e = function(e, t) {
        var n = {};
        for (o in e)
            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols)
            for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
        return n
    }(e, ["col", "line", "sample_rate", "event_client_timestamp"]),
    !(n && "number" != typeof n || r && "number" != typeof r) && "object" == typeof (t = e) && Object.keys(t).every((function(e) {
        return void 0 === t[e] || "string" == typeof t[e]
    }
    ))
}
function Ee$2(e) {
    var t = e.dimension
      , n = (e = e.value,
    t.failed);
    if ("boolean" != typeof n)
        return !1;
    if (n) {
        var r = t.res_path;
        if ("string" != typeof t.file || "string" != typeof r)
            return !1
    }
    return !!n || "string" == typeof t.file && G$3(e)
}
function je$2(e) {
    var t = e.value;
    return e = e.dimension.name,
    !(void 0 !== t && !G$3(t) || !e)
}
function qe$2(e) {
    var t = !0;
    if ((e = e.dimension.data)instanceof Array) {
        if (0 === e.length)
            return !1;
        e.forEach((function(e) {
            "string" != typeof e.com && (t = !1)
        }
        ))
    }
    return t
}
var Le$2 = {
    load: Re$2,
    api: Oe$2,
    resource: Ee$2,
    error: ke$2,
    event: je$2,
    blood: qe$2
};
function He$2(e) {
    return e ? Object.keys(f$4$1).map((function(e) {
        return f$4$1[e]
    }
    )).indexOf(e.key) < 0 ? (u$2$1("117"),
    !1) : Le$2[e.key](e) : (u$2$1("116"),
    !1)
}
function Ie$1(e) {
    function t() {
        e = e.replace(/^\s*/, "")
    }
    function n(n) {
        return t(),
        e[0] === n && (e = e.slice(1),
        1)
    }
    function r() {
        t();
        var n = /^([^\s,;=\\]+)(.*)/.exec(e);
        if (n)
            return e = n[2],
            n[1]
    }
    if (e && "string" == typeof e) {
        for (var o, i = []; o = r(); ) {
            for (var a = {
                name: o
            }, s = {}; n(";"); ) {
                var c, l, u = void 0;
                (u = r()) && (c = void 0,
                n("=") && (c = function() {
                    if (t(),
                    '"' !== e[0])
                        return r();
                    e = e.slice(1);
                    for (var n = ""; e.length; ) {
                        var o = /^([^"\\]*)(.*)/.exec(e);
                        if (o) {
                            if (n += o[1],
                            '"' === o[2][0])
                                return e = o[2].slice(1),
                                n;
                            n += o[2][1],
                            e = o[2].slice(2)
                        }
                    }
                }(),
                l = void 0,
                (l = /([,;].*)/.exec(e)) && (e = l[1])),
                s[l = u.toLowerCase()] || (s[l] = 1,
                "dur" === l ? a.duration = parseFloat(c) || 0 : "desc" === l ? a.description = c || "" : a[u] = c))
            }
            if ("sec" === a.unit && a.duration && (a.duration *= 1e3),
            delete a.unit,
            i.push(a),
            !n(","))
                break
        }
        return i.length ? i : void 0
    }
}
function Ce$2() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
        var t = 16 * Math.random() | 0;
        return ("x" === e ? t : 3 & t | 8).toString(16)
    }
    ))
}
function De$2(e, t) {
    y$6[e = void 0 === e ? w$1$1 : e] = ce$2(y$6[e] || {}, t)
}
function Ae$2() {
    var e = Ne$2(R$3, null, w$1$1);
    return e || (e = Ce$2(),
    Me$2(R$3, e, w$1$1)),
    e
}
function Ne$2(e, t, n) {
    return y$6[n = void 0 === n ? w$1$1 : n] && void 0 !== y$6[n][e] ? y$6[n][e] : void 0 === t ? null : t
}
function Me$2(e, t, n) {
    y$6[n = void 0 === n ? w$1$1 : n] || De$2(n, {}),
    y$6[n][e] = t
}
function Pe$1() {
    y$6[_$3$1] && (y$6[_$3$1][x$3] = !0)
}
function Ve$1(e, t) {
    return Ne$2(e, t = void 0 === t ? null : t, _$3$1)
}
function Ue$1(e, t) {
    Me$2(e, t, _$3$1)
}
function Xe$1() {
    Ue$1(J$2, [])
}
function ze$2(e) {
    return JSON.parse(JSON.stringify(e))
}
function Ke$2(e) {
    try {
        if (window && window.localStorage) {
            var t = window.localStorage.getItem(e);
            if (t)
                try {
                    return JSON.parse(t)
                } catch (n) {
                    return t
                }
        }
    } catch (n) {
        return null
    }
    return null
}
function Ye$2(e, t) {
    try {
        if (window && window.localStorage)
            return window.localStorage.setItem(e, JSON.stringify(t)),
            !0
    } catch (n) {
        return !1
    }
    return !1
}
function Be$2(e) {
    try {
        var t;
        if (window && window.localStorage && "undefined" != typeof Storage && window.localStorage instanceof Storage)
            return Ye$2(e, (t = 1e8 < (t = Number(Ke$2(e)) || 0) + 1 ? 0 : t) + 1),
            t
    } catch (n) {}
}
function Ge$2(e) {
    for (var t = [], n = 1; n < arguments.length; n++)
        t[n - 1] = arguments[n];
    1 == +$e$2(location.search.slice(1)).debug && s$1$1.apply(void 0, o$1$1(["[radar] ".concat(e, ": ")], r$1$1(t), !1))
}
function $e$2(e) {
    var t, n, r = {};
    e = e.split("&");
    try {
        for (var o = function(e) {
            var t = "function" == typeof Symbol && Symbol.iterator
              , n = t && e[t]
              , r = 0;
            if (n)
                return n.call(e);
            if (e && "number" == typeof e.length)
                return {
                    next: function() {
                        return {
                            value: (e = e && r >= e.length ? void 0 : e) && e[r++],
                            done: !e
                        }
                    }
                };
            throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }(e), i = o.next(); !i.done; i = o.next()) {
            var a = r$1$1(i.value.split("="), 2)
              , s = a[0]
              , c = a[1];
            s in r ? r[s]instanceof Array ? r[s].push(c) : r[s] = [r[s], c] : r[s] = c
        }
    } catch (l) {
        t = {
            error: l
        }
    } finally {
        try {
            i && !i.done && (n = o.return) && n.call(o)
        } finally {
            if (t)
                throw t.error
        }
    }
    return r
}
function Ze$2(e) {
    if (-1 === (n = (e = void 0 === e ? location.href : e).lastIndexOf("?")))
        return {
            page: e
        };
    var t = e.slice(0, n)
      , n = e.slice(n + 1);
    return {
        url: e,
        page: t,
        params: $e$2(n)
    }
}
function et$3(e) {
    throw new Error("radar error " + e)
}
var f$3$1 = function() {
    return (f$3$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function v$3$1(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function _$2$1(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var y$5 = ["c_dimension1", "c_dimension2", "c_dimension3", "release_tag", "product_version", "sub_app"]
  , b$2$1 = function() {
    function e(e) {
        var t, n = this, r = (this.queueConfig = {
            wait: 1e3,
            maxBatchLength: 200
        },
        this.logQueue = [],
        this.preStoredLogQueue = [],
        this.batchTimer = 0,
        this.eventName = "onpagehide"in window ? "pagehide" : "beforeunload",
        this.customDimension = {},
        this.runtimeIdMap = {},
        this.randomSampling = Math.random(),
        this.commonDimension = {},
        this.isInYoda = !1,
        this.sampleData = {
            isHit: !0,
            core: 1
        },
        this.ignoreList = ["https://web-trace.ksapisrv.com/ktrace/collect"],
        this.broadcastSample = we$2(),
        this.didRate = void 0,
        this.collect = function(e, t, r, o) {
            var i = ze$2({
                key: e,
                dimension: t = void 0 === t ? {} : t,
                value: r = void 0 === r ? {} : r
            });
            if (!n.sampleData || !1 !== n.sampleData.isHit) {
                if (!He$2(i))
                    return u$2$1("107", "key: ".concat(i.key)),
                    void n.collect(f$4$1.EVENT, {
                        sample_rate: t.sample_rate,
                        message: "radar上报日志类型错误",
                        name: "radar_log_error",
                        extra_info: JSON.stringify(i)
                    }, {});
                Object.keys(i.value).forEach((function(e) {
                    i.value[e] = i.value[e].toString()
                }
                )),
                n.decorateLog(i);
                var a = ce$2(n.getCommonData(), o || {})
                  , s = a.app_version_name;
                if (delete a.app_version_name,
                (e = new p$2$1((function(e, t) {
                    e.dimension.app_version_name = s,
                    e.dimension.did_rate = n.didRate;
                    var r = (null == (r = null == e ? void 0 : e.dimension) ? void 0 : r.event_client_timestamp) || Date.now()
                      , o = (null == (o = null == e ? void 0 : e.dimension) ? void 0 : o.radar_session_id) || n.radarSessionId;
                    return ce$2(e, a, {
                        event_client_timestamp: r,
                        radar_session_id: o
                    })
                }
                ))).use((function(e, t) {
                    return e.key && "load" === e.key && (e.dimension = f$3$1(f$3$1({}, e.dimension), {
                        load_device_increase_id: Be$2("LOAD_DEVICE_INCREASE_ID"),
                        load_session_increase_id: n.genSessionIncreaseId("LOAD_SESSION_INCREASE_ID")
                    })),
                    e.key && "load" !== e.key && (e.dimension = f$3$1(f$3$1({}, e.dimension), {
                        other_device_increase_id: Be$2("OTHER_DEVICE_INCREASE_ID"),
                        other_session_increase_id: n.genSessionIncreaseId("OTHER_SESSION_INCREASE_ID")
                    })),
                    t()
                }
                )),
                (i = e.invoke(i))instanceof Error)
                    throw i;
                try {
                    window.dispatchEvent(new CustomEvent("get-radar-next-data",{
                        detail: {
                            kv: ze$2(i)
                        }
                    }))
                } catch (c) {}
                if (delete i.dimension.broadcast_info,
                n.weblog ? n.logQueue.push(i) : (i.base_href = location.href,
                n.preStoredLogQueue.push(i)),
                Ge$2("radarLogNext", JSON.parse(JSON.stringify(i))),
                n.logQueue.length > n.queueConfig.maxBatchLength - 1)
                    return n.flush(),
                    clearTimeout(n.batchTimer),
                    void (n.batchTimer = 0);
                n.batchTimer || (n.batchTimer = window.setTimeout((function() {
                    n.flush(),
                    clearTimeout(n.batchTimer),
                    n.batchTimer = 0
                }
                ), n.queueConfig.wait))
            }
        }
        ,
        this.flush = function() {
            var e;
            n.logQueue.length <= 0 || (e = null,
            (e = n.config.httpReportFirst ? e : n.reportByBridge()) && !n.config.httpReportFirst || n.reportByHttp(),
            n.logQueue = [])
        }
        ,
        "object" == typeof e && null !== e || et$3("108"),
        "string" != typeof e.projectId && et$3("109"),
        Ae$2());
        this.radarSessionId = r,
        this.config = e,
        this.sampling = "number" == typeof (t = null != (r = this.config.sampling) ? r : 1) && 0 <= t && t <= 1 ? t : (u$2$1("110"),
        1),
        void 0 !== e.weblogger && this.bindWeblogger(e.weblogger),
        null != (r = this.config) && r.ignoreList && Array.isArray(null == (e = this.config) ? void 0 : e.ignoreList) && (this.ignoreList = this.ignoreList.concat(this.config.ignoreList.map((function(e) {
            return e.replace(/^(https?:)?\/\//, "")
        }
        )))),
        this.queueConfig = f$3$1(f$3$1({}, this.queueConfig), null != (r = this.config) && r.queueConfig ? this.config.queueConfig : {}),
        null != (e = this.config) && e.customDimensions && this.setDimensions(null == (r = this.config) ? void 0 : r.customDimensions),
        le$2(window, this.eventName, this.flush),
        "undefined" != typeof window && window.yodaCollectErrorDataDestroy && window.yodaCollectErrorDataDestroy()
    }
    return e.prototype.genSessionIncreaseId = function(e) {
        return this.runtimeIdMap[e] || (this.runtimeIdMap[e] = 0),
        this.runtimeIdMap[e]++
    }
    ,
    e.prototype.bindWeblogger = function(e) {
        var t, n = this;
        if (e && "object" == typeof e) {
            if (this.weblog)
                return void s$1$1("122");
            this.weblog = e,
            this.updateUrlPackage(),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url),
            this.isInYoda = !(null == (t = null == (e = this.weblog) ? void 0 : e.Utils) || !t.yoda),
            this.getSampleData()
        } else
            et$3("106");
        0 < this.preStoredLogQueue.length && (this.preStoredLogQueue.forEach((function(e) {
            if (void 0 !== (t = n.sampleData["load" === e.key ? "core" : e.key]) && (e.dimension.sample_rate = t),
            "load" === e.key ? n.sampleData.core : e.dimension.sample_rate * n.sampleData.core >= n.randomSampling) {
                var t = n.getCommonData()
                  , r = (e.dimension.app_version_name = t.app_version_name,
                e.h5_extra_attr = JSON.stringify(f$3$1(f$3$1({}, null == (t = n.weblog.commonPackage) ? void 0 : t.getH5ExtraAttr()), JSON.parse(e.h5_extra_attr))),
                Ze$2(e.base_href))
                  , o = null == (t = n.weblog.logConfig) ? void 0 : t.urlMap;
                t = {};
                if ("function" == typeof o)
                    try {
                        var i = o(r);
                        "string" == typeof i ? t = {
                            page: i
                        } : "object" == typeof i && (t = {
                            page: i.page,
                            params: i.params
                        })
                    } catch (c) {}
                else if ("object" == typeof o) {
                    var a, s = "";
                    for (a in o)
                        if (-1 < (r.page || r.url || "").indexOf(a)) {
                            s = o[a];
                            break
                        }
                    s && (t = {
                        page: s
                    })
                }
                e.url_package = {
                    page: t && t.page || r.page
                },
                i = n.referUrlPackage && n.referUrlPackage.toJSON(),
                e.refer_url_package = i,
                delete e.base_href,
                n.logQueue.push(e)
            }
        }
        )),
        this.preStoredLogQueue = [],
        this.flush())
    }
    ,
    e.prototype.getSampleData = function() {
        var e, t, n = this;
        this.isInYoda ? (this.sampleData = {
            isHit: !0,
            core: this.sampling,
            api: 1,
            resource: .1,
            error: 1,
            event: 1
        },
        t = window.updateYodaSampleRateWithParams,
        window.updateYodaSampleRateWithParams = function(e) {
            c$2$1("104", e),
            n.updateYodaSampleRate(e),
            t && t(e)
        }
        ,
        window.__yodaCommonDataObject__ && window.__yodaCommonDataObject__.sampleData ? (this.updateYodaSampleRate(window.__yodaCommonDataObject__.sampleData),
        this.collect(f$4$1.EVENT, {
            name: "客户端采样率注入成功",
            event_type: "radar_sample_inject_success",
            extra_info: this.sampleData
        }, {})) : "function" == typeof (null == (e = null == (e = null == (e = this.weblog) ? void 0 : e.Utils) ? void 0 : e.yoda) ? void 0 : e.getWebviewLoadPerf) && null != (e = this.weblog) && e.Utils.yoda.getWebviewLoadPerf().then((function(e) {
            null != e && e.sampleData && n.updateYodaSampleRate(e.sampleData)
        }
        ))) : (this.sampleData = {
            isHit: this.samplingControl(this.sampling),
            core: this.sampling
        },
        this.broadcastSample.emit(this.sampleData))
    }
    ,
    e.prototype.updateYodaSampleRate = function(e) {
        var t = this
          , n = null;
        try {
            var r = e;
            n = "string" == typeof r ? JSON.parse(r) : r
        } catch (o) {
            return void c$2$1("error: ", o)
        }
        try {
            n.extra && (n = f$3$1(f$3$1({}, n), n.extra))
        } catch (o) {
            c$2$1("error: ", o)
        }
        n && (Object.keys(n).forEach((function(e) {
            "load" === e ? t.sampleData.core = n[e] : "did_rate" === e ? t.didRate = n[e] : t.sampleData[e] = n[e]
        }
        )),
        this.broadcastSample.emit(this.sampleData))
    }
    ,
    e.prototype.updateUrlPackage = function() {
        var e;
        null != (e = this.weblog) && e.currentUrlPackage && (this.currentUrlPackage = this.weblog.currentUrlPackage,
        this.referUrlPackage = this.weblog.referUrlPackage)
    }
    ,
    e.prototype.setDimensions = function(e) {
        var t = this
          , n = Object.keys(e);
        n.some((function(e) {
            return -1 === y$5.indexOf(e)
        }
        )) && u$2$1("113", "".concat(n.join("、"))),
        n.forEach((function(n) {
            null == e[n] ? delete t.customDimension[n] : t.customDimension[n] = e[n]
        }
        ))
    }
    ,
    e.prototype.setCommonDimension = function(e, t, n) {
        this.commonDimension[e] = (n = void 0 === n || n) || null == (n = this.commonDimension[e]) ? t : n
    }
    ,
    e.prototype.decorateLog = function(e) {
        this.currentUrlPackage || this.updateUrlPackage(),
        0 < Object.keys(this.customDimension).length && Object.assign(e.dimension, this.customDimension),
        0 < Object.keys(this.commonDimension).length && Object.assign(e.dimension, this.commonDimension),
        this.currentUrlPackage && this.currentUrlPackage.page !== (null == (e = null == (e = this.weblog) ? void 0 : e.currentUrlPackage) ? void 0 : e.page) && (this.flush(),
        this.updateUrlPackage())
    }
    ,
    e.prototype.samplingControl = function(e) {
        return null !== e && "number" == typeof e && this.randomSampling < e
    }
    ,
    e.prototype.getCommonData = function() {
        var e, t = null == (t = null == (t = null == (t = this.weblog) ? void 0 : t.commonPackage) ? void 0 : t.app_package) ? void 0 : t.version_name;
        t = {
            h5_extra_attr: JSON.stringify(f$3$1(f$3$1({}, null == (e = null == (e = this.weblog) ? void 0 : e.commonPackage) ? void 0 : e.getH5ExtraAttr()), {
                app_version_name: t,
                url: location.href,
                hash: location.hash,
                online: null === navigator || void 0 === navigator ? void 0 : navigator.onLine,
                downlink: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.downlink,
                rtt: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.rtt
            })),
            url_package: this.currentUrlPackage && this.currentUrlPackage.toJSON(),
            refer_url_package: this.referUrlPackage && this.referUrlPackage.toJSON(),
            app_version_name: t,
            project_id: null == (e = this.config) ? void 0 : e.projectId,
            event_trigger_source: "H5"
        };
        return "1" === xe$2("radar_report_test") && (t.is_report_test = !0),
        t
    }
    ,
    e.prototype.reportByHttp = function() {
        var e = this.getCommonData()
          , t = (e = {
            project_id: this.config.projectId,
            radar_session_id: this.radarSessionId,
            h5_extra_attr: e.h5_extra_attr
        },
        this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )))
          , n = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        Array.isArray(t) && t.length && this.collectLog(e, t, "radarSDK"),
        Array.isArray(n) && n.length && this.collectLog(e, n, "radarSDKSupplement")
    }
    ,
    e.prototype.collectLog = function(e, t, n) {
        var r;
        "function" != typeof (null == (r = this.weblog) ? void 0 : r.collect) && "function" != typeof (null == (r = this.weblog) ? void 0 : r.sendByHttp) ? u$2$1("114") : (this.weblog.sendByHttp || this.weblog.collect).call(this.weblog, "RADAR", {
            name: "radar_log",
            params: f$3$1(f$3$1({}, e), {
                data: _$2$1([], v$3$1(t), !1)
            }),
            serviceName: n
        })
    }
    ,
    e.prototype.reportByBridge = function() {
        var e = null == (n = null == (n = this.weblog) ? void 0 : n.Utils) ? void 0 : n.yoda;
        if (!e)
            return !1;
        var t, n = this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )), r = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        try {
            return n.forEach((function(t) {
                "function" == typeof (null == (t = e.sendSummarizedLog({
                    key: "h5_load",
                    data: t
                })) ? void 0 : t.catch) && t.catch((function(e) {
                    u$2$1("123", e)
                }
                ))
            }
            )),
            r.length && "function" == typeof (null == (t = e.sendRadarLog({
                data: r
            })) ? void 0 : t.catch) && t.catch((function(e) {
                u$2$1("124", e)
            }
            )),
            !0
        } catch (o) {
            return !1
        }
    }
    ,
    e
}()
  , f$2$1 = function(e, t) {
    return (f$2$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , _$1$1 = function() {
    return (_$1$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function h$2$1(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
var g$3 = {
    redirect: {
        end: "redirectEnd",
        start: "redirectStart"
    },
    dns: {
        end: "domainLookupEnd",
        start: "domainLookupStart"
    },
    dns_start: {
        end: "domainLookupEnd",
        start: "navigationStart"
    },
    tcp: {
        end: "connectEnd",
        start: "connectStart"
    },
    tcp_start: {
        end: "connectEnd",
        start: "navigationStart"
    },
    redirect_count: {
        custom: function(e, t) {
            return t.redirectCount
        }
    },
    ssl: {
        custom: function(e, t) {
            return t.connectEnd && t.secureConnectionStart ? t.connectEnd - t.secureConnectionStart : null
        }
    },
    ssl_start: {
        custom: function(e, t) {
            return t.secureConnectionStart && t.navigationStart ? t.secureConnectionStart - t.navigationStart : null
        }
    },
    ttfb: {
        end: "responseStart",
        start: "requestStart"
    },
    request_start: {
        end: "requestStart",
        start: "navigationStart"
    },
    trans: {
        end: "responseEnd",
        start: "responseStart"
    },
    dom_parse: {
        end: "domInteractive",
        start: "responseEnd"
    },
    dom_parse_start: {
        end: "domInteractive",
        start: "navigationStart"
    },
    blank: {
        end: "domLoading",
        start: "navigationStart"
    },
    fb: {
        end: "responseStart",
        start: "navigationStart"
    },
    dom_ready: {
        end: "domContentLoadedEventEnd",
        start: "navigationStart"
    },
    total: {
        end: "loadEventStart",
        start: "navigationStart"
    },
    resource: {
        end: "loadEventStart",
        start: "domInteractive"
    },
    fp: {
        custom: function() {
            if ("function" != typeof performance.getEntries)
                return null;
            var e = performance.getEntries().filter((function(e) {
                return "first-paint" === e.name
            }
            ))[0];
            return e ? Math.ceil(e.startTime + e.duration) : null
        }
    },
    js_cost: {
        custom: function() {
            if ("function" != typeof performance.getEntries)
                return null;
            var e = h$3()
              , t = performance.getEntries()
              , n = performance.getEntries().filter((function(e) {
                return "navigation" === e.initiatorType
            }
            ))[0];
            t = t.filter((function(e) {
                return "script" === e.initiatorType
            }
            ))[0],
            n = n ? n.domComplete : e.domComplete - e.navigationStart;
            return t && n ? n - t.fetchStart : null
        }
    },
    tti: {
        end: "domInteractive",
        start: "navigationStart"
    },
    protocol: {
        custom: function(e, t) {
            return t.nextHopProtocol
        }
    },
    dom_num: {
        custom: function() {
            return "undefined" != typeof document && void 0 !== document.all ? document.all.length : null
        }
    }
}
  , v$2$1 = {
    main_api: {
        end: "apiEnd",
        start: "apiStart",
        notCatchIfUndefined: !0
    },
    main_api_offset: {
        end: "apiStart",
        start: "responseEnd",
        notCatchIfUndefined: !0
    },
    fmp: {
        end: "fmp_time",
        start: "navigationStart",
        notCatchIfUndefined: !0
    }
}
  , S$1$1 = {
    navigation_start_time: "navigationStart",
    fetch_start_time: "fetchStart",
    dns_start_time: "domainLookupStart",
    dns_end_time: "domainLookupEnd",
    connect_start_time: "connectStart",
    ssl_start_time: "secureConnectionStart",
    request_start_time: "requestStart",
    response_start_time: "responseStart",
    response_end_time: "responseEnd",
    dom_interactive_time: "domInteractive",
    dom_loading_time: "domLoading",
    dom_ready_time: "domContentLoadedEventEnd",
    load_event_time: "loadEventStart",
    connect_end_time: "connectEnd",
    load_event_end: "loadEventEnd",
    dom_complete: "domComplete",
    dom_content_loaded_event_start: "domContentLoadedEventStart",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    radar_init_time: "radar_init_time",
    fmp_time: "fmp_time"
};
function y$4$1(e, t) {
    if (!Array.isArray(t))
        return -1;
    var n = -1;
    return t.forEach((function(t, r) {
        new RegExp(t).test(e) && (n = r)
    }
    )),
    n
}
var L$1$1 = function(e) {
    function t(t) {
        var n = this;
        return (n = e.call(this, {
            core: t.core,
            key: f$4$1.LOAD,
            version: "1.2.9",
            name: "RadarNavigationCollect"
        }) || this).hasFMP = !1,
        n.syncMetricNum = 0,
        n.customKeys = [],
        n.custom_metric = {},
        n.optionsMainAPI = [],
        n.mainAPIList = [],
        n.radarMainApiList = [],
        n.mainJSList = [],
        n.radarMainJSList = [],
        n.radarTiming = {
            radar_init_time: void 0,
            fmp_time: void 0,
            fmp: void 0,
            apiStart: void 0,
            apiEnd: void 0
        },
        n.h5Load = function() {
            var e = n.getPerformanceData();
            n.collect(_$1$1({
                event_name: "h5_load"
            }, e))
        }
        ,
        n.dealAPI = function(e) {
            return n.cacheAndCalculateMainAPI(e),
            n.addMainApiResult(e),
            n.mainAPIList.filter((function(e) {
                return !!e.url
            }
            )).length !== n.mainAPIList.length || void 0 === n.radarTiming.fmp
        }
        ,
        n.addMainJSResult = function(e) {
            if (!n.mainJSList || 0 === n.mainJSList.length)
                return !1;
            var t, r, o, i, a, s, c, l, u, p, d, f, h, g, m, y = y$4$1((e.file || "").replace(/\?.+$/, ""), n.mainJSList);
            return -1 < y && !n.radarMainJSList[y].file && (t = e.file,
            r = e.cached,
            o = e.size,
            i = e.failed,
            a = e.res_type,
            s = e.protocol,
            c = e.fb,
            l = e.dns,
            u = e.tcp,
            p = e.ssl,
            d = e.ttfb,
            f = e.trans,
            h = e.total,
            g = e.fetch_start,
            m = e.duration,
            e = e.start_time,
            n.radarMainJSList[y] = {
                file: t,
                cached: r,
                size: o,
                failed: i,
                res_type: a,
                protocol: s,
                fb: c,
                dns: l,
                tcp: u,
                ssl: p,
                ttfb: d,
                trans: f,
                total: h,
                fetch_start: g,
                duration: m,
                start_time: e,
                reg: n.mainJSList[y]
            }),
            n.radarMainJSList.filter((function(e) {
                return !!e.file
            }
            )).length !== n.mainJSList.length
        }
        ,
        t.core || et$3("212"),
        "string" == typeof t.mainApi ? (n.optionsMainAPI.push(t.mainApi),
        n.mainAPIList.push({}),
        n.radarMainApiList.push({})) : Array.isArray(t.mainApi) && (3 < t.mainApi.length && s$1$1("207"),
        n.optionsMainAPI = t.mainApi.slice(0, 3),
        n.optionsMainAPI.forEach((function() {
            n.mainAPIList.push({}),
            n.radarMainApiList.push({})
        }
        ))),
        "string" == typeof t.mainJs ? (n.mainJSList.push(t.mainJs),
        n.radarMainJSList.push({})) : Array.isArray(t.mainJs) && (3 < t.mainJs.length && s$1$1("211"),
        n.mainJSList = t.mainJs.slice(0, 3),
        n.mainJSList.forEach((function() {
            return n.radarMainJSList.push({})
        }
        ))),
        performance.timing ? n.init() : (null != (t = n.core) && t.collect("event", {
            name: "radar_error",
            message: "performance.timing 不存在无法收集数据",
            category: f$4$1.LOAD
        }),
        u$2$1("208")),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return f$2$1(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t = Ve$1(N$3);
        t = this.core.config.projectId === t ? Ve$1(M$3) : null;
        this.radarTiming.radar_init_time = t || Date.now(),
        t || (t = this.getPerformanceData(),
        this.collect(_$1$1({
            event_name: "radar_init"
        }, t))),
        null != (e = (t = this.core).setCommonDimension) && e.call(t, "happen_stage", "during_fmp"),
        0 < performance.timing.loadEventStart ? this.h5Load() : le$2(window, "load", this.h5Load)
    }
    ,
    t.prototype.customStage = function(e, t) {
        var n, r;
        void 0 === t && (t = {
            sendTimeline: !0
        }),
        this.isHit ? (void 0 !== e && "string" == typeof e && "" !== e || et$3("206"),
        this.isValidTimestamp(t.timestamp, "custom_stage " + e) && (n = t.timestamp || Date.now(),
        r = this.customKeys.length - this.syncMetricNum,
        this.customKeys.includes(e) ? u$2$1("204", e) : t.sendTimeline && 2 < this.syncMetricNum || !t.sendTimeline && 5 < r ? u$2$1("205", e) : n && (this.custom_metric[e + "_time"] = n,
        this.customKeys.push(e),
        !t || !0 !== t.sendTimeline && null != t.sendTimeline || (r = this.getPerformanceData(),
        this.collect(_$1$1(_$1$1({}, r), {
            stack: (new Error).stack,
            event_name: "h5_custom_metric",
            custom_metric_name: e,
            custom_metric_timestamp: n
        })),
        this.syncMetricNum++)))) : u$2$1("200")
    }
    ,
    t.prototype.isValidTimestamp = function(e, t) {
        var n;
        if (void 0 === t && (t = "fmp"),
        void 0 !== e && "number" != typeof e)
            et$3("201");
        else if (void 0 !== e && e < performance.timing.navigationStart)
            return s$1$1("210", "".concat(t)),
            null != (n = this.core) && n.collect("event", {
                name: "radar_error",
                message: "【210】".concat(t),
                extra_info: {
                    timestamp: e,
                    navigationStart: performance.timing.navigationStart
                }
            }),
            !1;
        return !0
    }
    ,
    t.prototype.fmp = function(e) {
        var t, n;
        this.isHit ? this.isValidTimestamp(e) && (e = e || Date.now(),
        this.hasFMP ? s$1$1("202") : e && performance.timing && (null != (n = null == (t = this.core) ? void 0 : t.setCommonDimension) && n.call(t, "happen_stage", "after_fmp"),
        this.hasFMP = !0,
        this.radarTiming.fmp_time = e,
        performance.timing.radarFmp = e,
        n = this.getPerformanceData(),
        performance.timing.fmp = this.radarTiming.fmp = n.fmp,
        this.collect(_$1$1({
            event_name: "fmp",
            stack: (new Error).stack
        }, n)))) : s$1$1("200")
    }
    ,
    t.prototype.getPerformanceData = function() {
        var e = _$1$1(_$1$1({}, ze$2(performance.timing)), this.radarTiming)
          , t = ue$2(_$1$1(_$1$1({}, g$3), v$2$1), e);
        return Object.keys(S$1$1).forEach((function(n) {
            0 <= e[S$1$1[n]] && (t[n] = e[S$1$1[n]])
        }
        )),
        ["radar_main_js_start", "lcp", "cls", "fid", "fcp"].forEach((function(e) {
            var n = Ne$2(e);
            !n && 0 !== n || (t[e] = n)
        }
        )),
        t
    }
    ,
    t.prototype.cacheAndCalculateMainAPI = function(e) {
        var t;
        void 0 === this.radarTiming.fmp && (e.before_hook_time && (t = this.radarTiming.apiStart,
        this.radarTiming.apiStart = t ? Math.min(t, e.before_hook_time) : e.before_hook_time),
        e.after_hook_time && (t = this.radarTiming.apiEnd,
        this.radarTiming.apiEnd = t ? Math.max(t, e.after_hook_time) : e.after_hook_time))
    }
    ,
    t.prototype.addMainApiResult = function(e) {
        var t, n, r, o, i, a, s, c, l, u, p, d, f, h, g, m, y, v, b = y$4$1((e.api || "").replace(/\?.+$/, ""), this.optionsMainAPI);
        -1 < b && (null == (v = this.mainAPIList[b]) || !v.url) && (v = e.api,
        t = e.status,
        n = e.size,
        r = e.cached,
        o = e.method,
        c = e.perfTime,
        i = e.protocol,
        a = e.custom_failed,
        s = e.res_type,
        y = h$2$1(e, ["api", "status", "size", "cached", "method", "perfTime", "protocol", "custom_failed", "res_type"]),
        this.mainAPIList[b] = _$1$1({
            url: v,
            status: t,
            size_radar: n,
            cached: r,
            method: o,
            perfTime: c,
            protocol: i,
            res_type: s,
            custom_failed: a
        }, y),
        c = y.fb,
        l = y.dns,
        u = y.tcp,
        p = y.ssl,
        d = y.ttfb,
        f = y.trans,
        h = y.total,
        g = y.fetch_start,
        m = y.duration,
        y = y.start_time,
        this.radarMainApiList[b] = {
            api: v,
            status: t,
            size: n,
            cached: r,
            method: o,
            protocol: i,
            fb: c,
            dns: l,
            tcp: u,
            ssl: p,
            ttfb: d,
            trans: f,
            total: h,
            fetch_start: g,
            duration: m,
            custom_failed: a,
            res_type: s,
            reg: this.optionsMainAPI[b],
            start_time: y
        },
        this.radarTiming.fmp_time && e.after_hook_time && e.after_hook_time < this.radarTiming.fmp_time && (v = this.getPerformanceData(),
        this.collect(_$1$1({
            event_name: "main_api"
        }, v))))
    }
    ,
    t.prototype.destroy = function() {
        pe$1(window, "load", this.h5Load),
        this.customStage = this.fmp = function() {
            s$1$1("213")
        }
    }
    ,
    t.prototype.collect = function(e) {
        var t = e.protocol
          , n = e.event_name
          , r = (e.custom_metric,
        e.custom_metric_name)
          , o = e.stack;
        e.main_api_list,
        e = h$2$1(e, ["protocol", "event_name", "custom_metric", "custom_metric_name", "stack", "main_api_list"]),
        this.baseCollect({
            value: e,
            dimension: {
                protocol: t,
                event_name: n,
                custom_metric_name: r,
                custom_metric: JSON.stringify(this.custom_metric),
                main_api_list: this.mainAPIList,
                radar_main_api_list: this.radarMainApiList,
                radar_main_js_list: this.radarMainJSList,
                is_official: 1,
                stack: o
            }
        }),
        null != (e = this.core) && e.flush()
    }
    ,
    t
}(d$2$1)
  , y$3$1 = function(e, t) {
    return (y$3$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , b$1$1 = function() {
    return (b$1$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function k$3(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
var L$2 = F$1$1
  , O$3 = {
    navigation_start: "startTime",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    dns_start: "domainLookupStart",
    dns_end: "domainLookupEnd",
    connect_start: "connectStart",
    connect_end: "connectEnd",
    ssl_start: "secureConnectionStart",
    request_start: "requestStart",
    response_start: "responseStart",
    response_end: "responseEnd"
};
function P$3(e) {
    return S$2(e, "Content-Type")
}
function S$2(e, t) {
    if (e)
        return "function" == typeof e.get ? e.get(t) : e[t.toLowerCase()]
}
function I$2(e) {
    var t = "";
    if ("string" == typeof e)
        t = e;
    else
        try {
            t = JSON.stringify(e)
        } catch (i) {
            t = String(e)
        }
    for (var n = 0, r = 0; r < t.length; r++) {
        var o = t.charCodeAt(r);
        n += o < 128 ? 1 : o < 2048 ? 2 : o < 65536 ? 3 : o < 1 << 21 ? 4 : o < 1 << 26 ? 5 : o < 1 << 31 ? 6 : Number.NaN
    }
    return n
}
function A$2(e) {
    var t = (n = document.location).protocol
      , n = n.host;
    return 0 === e.indexOf("//") ? t + e : 0 === e.indexOf("/") ? "".concat(t, "//").concat(n).concat(e) : e
}
var w$4 = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: null == (t = void 0 === t ? {} : t) ? void 0 : t.core,
            sampling: null == t ? void 0 : t.sampling,
            key: f$4$1.API,
            version: "1.2.9",
            name: "RadarAPICollect"
        }) || this;
        return n.ignoreList = v$4,
        n.queue = [],
        n.logList = [],
        n.perfList = [],
        n.broadcastApi = we$2(),
        n.initiatorTypeList = [],
        n.beforeHook = function(e) {
            var t;
            0 === (null == (t = e.url) ? void 0 : t.indexOf("data:")) || K$3(e.url, n.ignoreList) || K$3(e.url, (null == (t = n.core) ? void 0 : t.ignoreList) || []) || "js" === Y$3(e.url) || "css" === Y$3(e.url) || (t = {
                api: A$2(e.url),
                method: e.method,
                request: e,
                startTime: Date.now()
            },
            n.queue.push(t))
        }
        ,
        n.afterHook = function(e, t, r, o) {
            var i = n.queue.find((function(e) {
                return e.request === t
            }
            ));
            if (i) {
                delete i.request;
                var a = i.startTime
                  , s = (i = k$3(i, ["startTime"]),
                Date.now())
                  , c = s - a
                  , l = r.status;
                if ("function" == typeof n.customizeRadarStatus)
                    try {
                        l = n.customizeRadarStatus(r)
                    } catch (d) {
                        console.error(d)
                    }
                e = n.customHook({
                    type: e,
                    duration: c,
                    request: t,
                    response: r,
                    error: o
                });
                var u = +S$2(r.headers, "Content-Length") || 0
                  , p = Ie$1(S$2(r.headers, "Server-Timing"));
                c = b$1$1(b$1$1(b$1$1({
                    duration: c,
                    logTime: Date.now(),
                    status: l,
                    size: +u,
                    content_type: P$3(r.headers),
                    aborted: r.aborted || void 0,
                    custom_failed: !(200 <= l && l < 300)
                }, i), e), {
                    before_hook_time: a,
                    after_hook_time: s,
                    trace_id: t.trace_id,
                    server_timing: p
                });
                2 === (null == (l = null == (u = S$2(r.headers, "Intercept-Result")) ? void 0 : u.split(";")) ? void 0 : l.length) && null != (i = n.core) && i.setCommonDimension && (n.core.setCommonDimension("intercept_result", l[0], !1),
                n.core.setCommonDimension("intercept_result_code", l[1], !1),
                c.api_intercept_result = l[0],
                c.api_intercept_result_code = l[1]),
                r.finalUrl && (c.api = r.finalUrl),
                "string" == typeof r.text && (c.responseData = r.text),
                0 !== b$1$1(b$1$1({}, r), {
                    status: c.status
                }).status || e.intercept_report ? n.mergeAPIPerf(void 0, c) || n.logList.push(c) : (c.size && 0 != c.size || !c.responseData || (c.size = I$2(c.responseData)),
                delete c.responseData,
                delete c.server_timing,
                n.collect(c)),
                n.queue = n.queue.filter((function(e) {
                    return e.request && e.request !== t
                }
                ))
            }
        }
        ,
        void 0 !== (n.option = t) && null != t && t.core || et$3("310"),
        void 0 !== t.ignoreList && (Array.isArray(t.ignoreList) || et$3("309"),
        t.ignoreList.forEach((function(e) {
            "string" != typeof e && et$3("309")
        }
        )),
        n.ignoreList = n.ignoreList.concat(t.ignoreList)),
        n.APIHook = t.APIHook,
        n.customizeRadarStatus = t.customizeRadarStatus,
        n.init(),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return y$3$1(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t = this;
        try {
            this.observer = new PerformanceObserver((function(e) {
                return t.observeAPI(e)
            }
            )),
            this.observer.observe({
                entryTypes: ["resource"]
            }),
            this.initiatorTypeList = [],
            !0 !== this.option.ignoreXHR && (this.initiatorTypeList.push("xmlhttprequest"),
            this.unhookXML = ve$2((function(e) {
                return t.beforeHook(e)
            }
            ), (function(e, n) {
                return t.afterHook("xmlhttprequest", e, n)
            }
            ))),
            !0 !== this.option.ignoreFetch && (this.initiatorTypeList.push("fetch"),
            this.unhookFetch = me$2((function(e) {
                return t.beforeHook(e)
            }
            ), (function(e, n, r) {
                return t.afterHook("fetch", e, n, r)
            }
            )))
        } catch (n) {
            u$2$1("308"),
            null != (e = this.core) && e.collect("event", {
                name: "radar_error",
                message: "PerformanceObserver 不存在无法收集数据",
                category: f$4$1.API
            })
        }
    }
    ,
    t.prototype.customHook = function(e) {
        var t = {};
        if (void 0 === this.APIHook)
            return t;
        if ("function" != typeof this.APIHook)
            return s$1$1("300"),
            t;
        var n = {};
        try {
            n = this.APIHook(e)
        } catch (c) {
            return s$1$1("301", c),
            {}
        }
        if (!n)
            return s$1$1("302"),
            t;
        e = n.response_msg;
        var r = n.response_code
          , o = n.status
          , i = n.custom_failed
          , a = n.intercept_report;
        n = n.broadcast_info;
        if (!0 === Boolean(a) && (t.intercept_report = !0),
        void 0 !== e)
            try {
                var s = JSON.stringify(e);
                100 < s.length && s$1$1("307"),
                t.response_msg = s.slice(0, 100)
            } catch (c) {
                t.response_msg = "response_msg返回结果异常",
                s$1$1("303")
            }
        return void 0 !== r && (a = Number(r),
        isNaN(a) ? s$1$1("304") : t.response_code = a),
        void 0 !== o && (e = Number(o),
        isNaN(e) ? s$1$1("305") : t.status = e),
        void 0 !== i && (!0 === i || !1 === i ? t.custom_failed = i : s$1$1("306")),
        t.broadcast_info = n,
        t
    }
    ,
    t.prototype.observeAPI = function(e) {
        var t = this;
        e.getEntriesByType("resource").forEach((function(e) {
            var n, r, o;
            if (0 === (null == (o = e.name) ? void 0 : o.indexOf("data:")) || K$3(e.name, t.ignoreList) || K$3(e.name, (null == (o = t.core) ? void 0 : o.ignoreList) || []))
                return !1;
            "api" === oe$2(e) && ((o = ue$2(L$2, e)).perfTime = Date.now(),
            null != (n = null == (n = e.serverTiming) ? void 0 : n.map((function(e) {
                return {
                    name: e.name,
                    duration: e.duration,
                    description: e.description || void 0
                }
            }
            ))) && n.length || (n = void 0),
            r = {
                encoded_body_size: e.encodedBodySize,
                decoded_body_size: e.decodedBodySize
            },
            Object.keys(O$3).forEach((function(t) {
                r[t] = Number(e[O$3[t]] + performance.timing.navigationStart)
            }
            )),
            o = b$1$1(b$1$1(b$1$1(b$1$1({}, o), {
                api: o.file
            }), r), {
                server_timing: n
            }),
            t.mergeAPIPerf(o) || t.perfList.push(o))
        }
        ))
    }
    ,
    t.prototype.destroy = function() {
        this.unhookXML && this.unhookXML(),
        this.unhookFetch && this.unhookFetch(),
        this.observer && this.observer.disconnect()
    }
    ,
    t.prototype.mergeAPIPerf = function(e, t) {
        if (e ? t = this.takeItem(e, this.logList) : t && (e = this.takeItem(t, this.perfList)),
        !e || !t)
            return !1;
        if (!0 === t.intercept_report)
            return !0;
        var n, r = Object.assign({}, t, e, {
            size: e.size || t.size
        });
        return delete r.file,
        r.size && 0 != r.size || !r.responseData || (r.size = I$2(r.responseData)),
        delete r.responseData,
        (t = t.server_timing || e.server_timing) && (n = null,
        t.map((function(e) {
            "total-timing" === e.name && (n = null != (e = e.duration) ? e : null)
        }
        )),
        r.total_server_timing = n,
        r.server_data_list = JSON.stringify(t)),
        delete r.server_timing,
        this.collect(r),
        !0
    }
    ,
    t.prototype.takeItem = function(e, t) {
        var n, r = (e.api || "").replace(/\?.+$/, "");
        if (-1 !== (e = t.findIndex((function(e) {
            return e = (e.api || "").replace(/\?.+$/, ""),
            r === e
        }
        ))))
            return n = t[e],
            t.splice(e, 1),
            n
    }
    ,
    t.prototype.collect = function(e) {
        var t, n = this, r = e.res_type, o = e.protocol, i = e.api, a = e.custom_failed, s = e.status, c = e.cached, l = e.method, u = e.response_code, p = e.response_msg, d = (e.has_fmp,
        e.server_data_list), f = e.content_type, h = e.broadcast_info, g = e.before_hook_time, m = e.after_hook_time, y = e.api_intercept_result, v = e.api_intercept_result_code, b = e.trace_id, _ = e.has_timing_allow, S = e.aborted, w = {
            dimension: {
                before_hook_time: g,
                after_hook_time: m,
                res_type: r,
                protocol: o,
                api: i,
                custom_failed: a,
                status: s,
                cached: c,
                method: l,
                response_code: u,
                response_msg: p,
                content_type: f,
                broadcast_info: h,
                is_official: 1,
                server_data_list: d,
                trace_id: b,
                api_intercept_result: y,
                api_intercept_result_code: v,
                has_timing_allow: _,
                aborted: S
            },
            value: k$3(e, ["res_type", "protocol", "api", "custom_failed", "status", "cached", "method", "response_code", "response_msg", "has_fmp", "server_data_list", "content_type", "broadcast_info", "before_hook_time", "after_hook_time", "api_intercept_result", "api_intercept_result_code", "trace_id", "has_timing_allow", "aborted"])
        };
        this.broadcastApi.emit(ze$2(e)),
        0 !== s ? this.baseCollect(w) : (m = (g = this.option).ignoreAborted,
        t = g.isIgnoreInvalidStatusCode,
        S && m ? c$2$1("311") : Z$2(t) ? new Promise((function(n, r) {
            var o, i = t(e);
            ee$1(i) ? (o = setTimeout((function() {
                return n(!1)
            }
            ), 2e3),
            i.then((function(e) {
                clearTimeout(o),
                n(!0 === e)
            }
            ), r)) : n(!0 === i)
        }
        )).then((function(e) {
            e ? s$1$1("异步拦截日志") : n.baseCollect(w)
        }
        ), (function(e) {
            n.baseCollect(w),
            u$2$1(e)
        }
        )) : this.baseCollect(w))
    }
    ,
    t
}(d$2$1)
  , h$1$1 = function(e, t) {
    return (h$1$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , g$2$1 = function() {
    return (g$2$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
}
  , _$4 = Object.assign({}, F$1$1, {
    duration: {
        end: "responseEnd",
        start: "fetchStart"
    },
    cached_type: {
        custom: function(e, t) {
            var n = "hit_browser";
            if (0 === t.transferSize || 0 === t.duration)
                return n;
            if (null == t.transferSize && (0 === t.domainLookupStart || t.responseStart === t.fetchStart))
                return n;
            if (t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            ))) {
                if (t.serverTiming.some((function(e) {
                    return "miss" === e.name
                }
                )))
                    return "miss_cdn";
                if (t.serverTiming.some((function(e) {
                    return "hit" === e.name
                }
                )))
                    return "hit_cdn"
            }
            return "miss_browser"
        },
        crossOriginSkip: !0
    },
    cdn_duration: {
        custom: function(e, t) {
            return t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            )) ? null == (t = null == (t = t.serverTiming) ? void 0 : t.find((function(e) {
                return "total-timing" === e.name
            }
            ))) ? void 0 : t.duration : null
        },
        crossOriginSkip: !0,
        cachedSkip: !0
    },
    cdn_ip: {
        custom: function(e, t) {
            if (t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            )))
                return null == (t = t.serverTiming.find((function(e) {
                    return "miss" === e.name || "hit" === e.name
                }
                ))) ? void 0 : t.description
        },
        crossOriginSkip: !0,
        cachedSkip: !0
    }
})
  , y$2$1 = {
    fetch_start_time: "fetchStart",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    dns_start: "domainLookupStart",
    dns_end: "domainLookupEnd",
    connect_start: "connectStart",
    connect_end: "connectEnd",
    ssl_start: "secureConnectionStart",
    request_start: "requestStart",
    response_start: "responseStart",
    response_end: "responseEnd"
};
function v$1$1(e) {
    return Array.isArray(e) ? e.map((function(e) {
        var t = e.id
          , n = e.getAttribute ? e.getAttribute("class") : e.className || "";
        return e = e.tagName || "",
        t && (e += "#" + t),
        n && (e += n.split(/\s+/g).map((function(e) {
            return "." + e
        }
        )).join("")),
        e
    }
    )).filter((function(e) {
        return e
    }
    )).join(",") : ""
}
var r$3, o$3, l$4, p$4, b$4 = function(e) {
    function t(t) {
        var n, r = this;
        return (r = e.call(this, {
            core: null == t ? void 0 : t.core,
            sampling: null != (n = null == t ? void 0 : t.sampling) ? n : .1,
            version: "1.2.9",
            key: f$4$1.RES,
            name: "RadarResourceCollect"
        }) || this).ignoreList = v$4,
        r.broadcastJs = we$2(),
        r.resErrorListener = function(e) {
            r.onResError(e)
        }
        ,
        r.onResError = function(e, t) {
            var n;
            de$1(e) || (n = (e.target.src || e.target.href || "").toString(),
            n = {
                failed: !0,
                file: n = "function" != typeof e.target.getAttribute || "" !== e.target.getAttribute("src") && "" !== e.target.getAttribute("href") ? n : "",
                res_path: v$1$1(e && e.path || e && e.composedPath && e.composedPath())
            },
            r.collect(n, t),
            r.broadcastJs.emit(n))
        }
        ,
        r.observeResource = function(e) {
            e.getEntriesByType("resource").forEach((function(e) {
                var t, n, o;
                if (0 === e.name.indexOf("data:") || K$3(e.name, r.ignoreList) || K$3(e.name, (null == (t = r.core) ? void 0 : t.ignoreList) || []))
                    return !1;
                "resource" === oe$2(e) && (t = ue$2(_$4, e),
                n = {
                    encoded_body_size: e.encodedBodySize,
                    decoded_body_size: e.decodedBodySize
                },
                Object.keys(y$2$1).forEach((function(t) {
                    n[t] = Number(e[y$2$1[t]] + performance.timing.navigationStart)
                }
                )),
                o = g$2$1(g$2$1({
                    failed: !1
                }, t), n),
                r.collect(o),
                setTimeout((function() {
                    r.broadcastJs.emit(o)
                }
                )))
            }
            ))
        }
        ,
        r.resourceHook = t.resourceHook,
        void 0 !== t.ignoreList && (Array.isArray(t.ignoreList) || et$3("802"),
        t.ignoreList.forEach((function(e) {
            "string" != typeof e && et$3("802")
        }
        )),
        r.ignoreList = r.ignoreList.concat(t.ignoreList)),
        r.init(),
        t.seedLogs && r.parseSeedLog(t.seedLogs),
        r
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return h$1$1(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t = this;
        try {
            this.observeResource(performance),
            this.observer = new PerformanceObserver((function(e) {
                return t.observeResource(e)
            }
            )),
            this.observer.observe({
                entryTypes: ["resource"]
            })
        } catch (n) {
            u$2$1("801"),
            null != (e = this.core) && e.collect("event", {
                name: "radar_error",
                message: "PerformanceObserver 不存在无法收集数据",
                category: f$4$1.RES
            })
        }
        le$2(window, "error", this.resErrorListener, !0)
    }
    ,
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        e.map((function(e) {
            var n, r = e.data;
            (n = {})[A$1$1] = e[A$1$1],
            n[V$3] = e[V$3],
            t.onResError(r, n)
        }
        ))
    }
    ,
    t.prototype.collect = function(e, t) {
        var n = e.cached
          , r = e.failed
          , o = e.file
          , i = e.protocol
          , a = e.res_type
          , s = e.res_path
          , c = e.cached_type
          , l = e.cdn_ip
          , u = e.has_timing_allow;
        e = function(e, t) {
            var n = {};
            for (o in e)
                Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
            if (null != e && "function" == typeof Object.getOwnPropertySymbols)
                for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                    t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
            return n
        }(e, ["cached", "failed", "file", "protocol", "res_type", "res_path", "cached_type", "cdn_ip", "has_timing_allow"]);
        try {
            var p = this.resourceHook && this.resourceHook({
                file: o,
                cached: n,
                protocol: i,
                res_type: a,
                failed: r
            });
            if (null != p && p.intercept_report)
                return
        } catch (d) {
            u$2$1("803", d)
        }
        this.baseCollect(((p = {
            value: e,
            dimension: g$2$1({
                cached: n,
                failed: r,
                file: o,
                protocol: i,
                res_type: a,
                res_path: s,
                sample_rate: this.sampling,
                is_official: 1,
                cached_type: c,
                cdn_ip: l,
                has_timing_allow: u
            }, t && t[A$1$1] || {})
        })[V$3] = t ? t[V$3] : void 0,
        p))
    }
    ,
    t.prototype.destroy = function() {
        this.isHit && (pe$1(window, "error", this.resErrorListener, !0),
        this.observer && this.observer.disconnect())
    }
    ,
    t
}(d$2$1), a$2$1 = function(e, t) {
    return (a$2$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, c$1$1 = function() {
    return "".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12)
}, s$3 = function(e) {
    return {
        name: e,
        value: 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : -1,
        delta: 0,
        entries: [],
        id: c$1$1(),
        isFinal: !1
    }
}, u$1$1 = function(e, t) {
    try {
        var n;
        if (PerformanceObserver.supportedEntryTypes.includes(e))
            return (n = new PerformanceObserver((function(e) {
                return e.getEntries().map(t)
            }
            ))).observe({
                type: e,
                buffered: !0
            }),
            n
    } catch (r) {}
}, l$1$1 = !1, p$1$1 = !1, f$1$1 = function(e) {
    l$1$1 = !e.persisted
}, m$1$1 = function() {
    addEventListener("pagehide", f$1$1),
    addEventListener("beforeunload", (function() {}
    ))
}, d$1$1 = function(e) {
    var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
    p$1$1 || (m$1$1(),
    p$1$1 = !0),
    addEventListener("visibilitychange", (function(t) {
        t = t.timeStamp,
        "hidden" === document.visibilityState && e({
            timeStamp: t,
            isUnloading: l$1$1
        })
    }
    ), {
        capture: !0,
        once: t
    })
}, v$5 = function(e, t, n, r) {
    var o;
    return function() {
        n && t.isFinal && n.disconnect(),
        0 <= t.value && (r || t.isFinal || "hidden" === document.visibilityState) && (t.delta = t.value - (o || 0),
        (t.delta || t.isFinal || void 0 === o) && (e(t),
        o = t.value))
    }
}, h$4 = function() {
    return void 0 === r$3 && (r$3 = "hidden" === document.visibilityState ? 0 : 1 / 0,
    d$1$1((function(e) {
        return e = e.timeStamp,
        r$3 = e
    }
    ), !0)),
    {
        get timeStamp() {
            return r$3
        }
    }
}, y$1$1 = function() {
    return o$3 = o$3 || new Promise((function(e) {
        return ["scroll", "keydown", "pointerdown"].map((function(t) {
            addEventListener(t, e, {
                once: !0,
                passive: !0,
                capture: !0
            })
        }
        ))
    }
    ))
}, F$3 = [{
    name: "fid",
    collectFn: function(e) {
        function t(e) {
            e.startTime < r.timeStamp && (n.value = e.processingStart - e.startTime,
            n.entries.push(e),
            n.isFinal = !0,
            i())
        }
        var n = s$3("FID")
          , r = h$4()
          , o = u$1$1("first-input", t)
          , i = v$5(e, n, o);
        o ? d$1$1((function() {
            o.takeRecords().map(t),
            o.disconnect()
        }
        ), !0) : window.perfMetrics && window.perfMetrics.onFirstInputDelay && window.perfMetrics.onFirstInputDelay((function(e, t) {
            t.timeStamp < r.timeStamp && (n.value = e,
            n.isFinal = !0,
            n.entries = [{
                entryType: "first-input",
                name: t.type,
                target: t.target,
                cancelable: t.cancelable,
                startTime: t.timeStamp,
                processingStart: t.timeStamp + e
            }],
            i())
        }
        ))
    }
}, {
    name: "lcp",
    collectFn: function(e) {
        function t(e) {
            var t = e.startTime;
            t < i.timeStamp ? (o.value = t,
            o.entries.push(e)) : o.isFinal = !0,
            n()
        }
        var n, r = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = s$3("LCP"), i = h$4(), a = u$1$1("largest-contentful-paint", t);
        a && (n = v$5(e, o, a, r),
        r = function() {
            o.isFinal || (a.takeRecords().map(t),
            o.isFinal = !0,
            n())
        }
        ,
        y$1$1().then(r),
        d$1$1(r, !0))
    }
}, {
    name: "cls",
    collectFn: function(e) {
        function t(e) {
            e.hadRecentInput || (o.value += e.value,
            o.entries.push(e),
            n())
        }
        var n, r = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = s$3("CLS", 0), i = u$1$1("layout-shift", t);
        i && (n = v$5(e, o, i, r),
        d$1$1((function(e) {
            e = e.isUnloading,
            i.takeRecords().map(t),
            e && (o.isFinal = !0),
            n()
        }
        )))
    }
}, {
    name: "fcp",
    collectFn: function(e) {
        var t, n = s$3("FCP"), r = h$4(), o = u$1$1("paint", (function(e) {
            "first-contentful-paint" === e.name && e.startTime < r.timeStamp && (n.value = e.startTime,
            n.isFinal = !0,
            n.entries.push(e),
            t())
        }
        ));
        o && (t = v$5(e, n, o))
    }
}], g$1$1 = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            version: "1.2.9",
            key: f$4$1.EVENT,
            name: "RadarChromeMetricsCollect"
        }) || this;
        return n.options = {
            lcp: !1,
            cls: !1,
            fid: !1,
            fcp: !1
        },
        n.init = function() {
            var e = n.options;
            F$3.forEach((function(t) {
                var r = t.name;
                e && !e[r] || t.collectFn((function(e) {
                    var t = e.name;
                    e = e.value,
                    Me$2(t.toLocaleLowerCase(), Number(e)),
                    n.baseCollect({
                        dimension: {
                            name: t.toLocaleLowerCase(),
                            is_official: 1
                        },
                        value: {
                            duration: Number(e)
                        }
                    })
                }
                ))
            }
            ))
        }
        ,
        Object.assign(n.options, t.options),
        F$3.forEach((function(e) {
            var t = xe$2("radar_" + e.name);
            t && (n.options[e.name] = "1" === t)
        }
        )),
        n.init(),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return a$2$1(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t
}(d$2$1), a$1$1 = function(e, t) {
    return (a$1$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, c$3 = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            key: f$4$1.EVENT,
            version: "1.2.9",
            name: "RadarEventCollect"
        }) || this;
        return n.action = {
            start: function(e) {
                n._checkActionDimension(e),
                n.event({
                    name: e.name,
                    extra_info: e.extra_info,
                    event_type: "radar_action_start"
                })
            },
            end: function(e) {
                n._checkActionDimension(e),
                n.event({
                    name: e.name,
                    extra_info: e.extra_info,
                    result_type: e.result_type,
                    event_type: "radar_action_end"
                })
            }
        },
        t.seedLogs && n.parseSeedLog(t.seedLogs),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return a$1$1(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        e.map((function(e) {
            var n = e.dimension
              , r = e.value;
            t.event(n, r, e[V$3])
        }
        ))
    }
    ,
    t.prototype.event = function(e, t, n) {
        this.isHit ? (e || et$3("402"),
        void 0 !== e.name && "string" == typeof e.name || et$3("402"),
        127 < e.name.length && (u$2$1("403"),
        e.name = e.name.slice(0, 127)),
        e.is_official = 1,
        t && void 0 !== t.duration && ("number" != typeof t.duration || t.duration < 0) && et$3("404"),
        t && void 0 !== t.event_count && ("number" != typeof t.event_count || t.event_count < 0) && et$3("405，".concat(t.event_count)),
        (t = {
            dimension: e,
            value: t
        })[V$3] = n,
        n = t,
        e && e.extra_info && "object" == typeof e.extra_info && (n.dimension.extra_info = JSON.stringify(e.extra_info)),
        this.baseCollect(n)) : s$1$1("401")
    }
    ,
    t.prototype.destroy = function() {
        this.event = function() {
            s$1$1("407")
        }
        ,
        this.action = {
            start: function() {
                s$1$1("407")
            },
            end: function() {
                s$1$1("407")
            }
        }
    }
    ,
    t.prototype._checkActionDimension = function(e) {
        if (!e)
            throw Error("408");
        void 0 === e.extra_info || e.extra_info instanceof Object || et$3("406")
    }
    ,
    t
}(d$2$1), a$4 = function(e, t) {
    return (a$4 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, u$4 = function() {
    return (u$4 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function f$5(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
(p$4 = l$4 = l$4 || {}).SCRIPT = "script",
p$4.RES = "res",
p$4.API = "api",
p$4.VIDEO = "video";
var y$7 = [];
function m$3(e, t, n) {
    var r, o;
    if (t && (t instanceof Error || "object" == typeof t && "string" == typeof t.message))
        if ("BridgeError" === (r = t.name || "ErrorLikeObject") && "function" == typeof t.toJSON)
            try {
                var i = t.toJSON();
                delete i.name,
                delete i.message,
                o = "".concat(t.message, " (").concat(JSON.stringify(i), ")")
            } catch (a) {
                o = t.message || ""
            }
        else
            o = t.message || "";
    else
        o = null == t && "Script error." === (null == n ? void 0 : n.message) ? (r = "CrossOriginError",
        "".concat(e, " - message: ").concat((null == n ? void 0 : n.message) || "<UNKNOWN>")) : null === t && null != n && n.message && "Uncaught null" !== n.message ? (r = "Error",
        "".concat(e, " - message: ").concat(n.message)) : (r = null == t ? "".concat(t) : typeof t,
        i = function(e) {
            var t;
            try {
                t = e.toString(),
                e && "object" == typeof e && (t = JSON.stringify(e))
            } catch (n) {}
            return "string" != typeof t || "" === t ? t = null === e ? "<NULL>" : void 0 === e ? "<UNDEFINED>" : "" === t ? "<EMPTY>" : "<UNKNOWN>" : 2e3 < t.length && (t = t.substring(0, 2e3) + "<<< ……"),
            t
        }(t),
        "".concat(e, " - value: ").concat(i));
    return {
        error_type: l$4.SCRIPT,
        error_cons_type: r,
        msg: o,
        stack: t && t.stack || n && n.stack || void 0
    }
}
function g$4(e) {
    for (var t = 0; t < y$7.length; t++)
        if (d$4(y$7[t], e))
            return t;
    return -1
}
function d$4(e, t) {
    return e.msg === t.msg && e.stack === t.stack && e.file === t.file && e.line === t.line && e.col === t.col
}
var E$4 = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            key: f$4$1.ERROR,
            version: "1.2.9",
            name: "RadarErrorCollect"
        }) || this;
        return n.errorListener = function(e) {
            n.onError(e)
        }
        ,
        n.promiseErrorListener = function(e) {
            n.onPromiseError(e)
        }
        ,
        n.onError = function(e, t) {
            var r;
            !(r = e).message && null == r.lineno || (e = u$4(u$4({}, m$3("Global Uncaught Exception", e.error, e)), {
                file: e.filename,
                line: e.lineno,
                col: e.colno
            }),
            n.isSameErrorAndReport(e, t))
        }
        ,
        n.onPromiseError = function(e, t) {
            e = m$3("Unhandled Promise Rejection", e.reason),
            n.isSameErrorAndReport(e, t)
        }
        ,
        n.core = t.core,
        n.init(),
        t.seedLogs && n.parseSeedLog(t.seedLogs),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return a$4(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        y$7.splice(0),
        le$2(window, "error", this.errorListener, !0),
        le$2(window, "unhandledrejection", this.promiseErrorListener)
    }
    ,
    t.prototype.destroy = function() {
        pe$1(window, "error", this.errorListener, !0),
        pe$1(window, "unhandledrejection", this.promiseErrorListener),
        this.captureException = function() {
            s$1$1("600")
        }
    }
    ,
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        (e || []).map((function(e) {
            var n, r = e.data;
            (n = {})[A$1$1] = e[A$1$1],
            n[V$3] = e[V$3],
            e = n,
            r && r.type ? "unhandledrejection" === r.type ? t.onPromiseError(r, e) : t.onError(r, e) : t.captureException(r)
        }
        ))
    }
    ,
    t.prototype.isSameErrorAndReport = function(e, t) {
        0 <= g$4(e) || (y$7.push(e),
        setTimeout((function() {
            y$7.splice(g$4(e), 1)
        }
        ), 2e3),
        this.collect(e, t))
    }
    ,
    t.prototype.collect = function(e, t) {
        n = (l = e).error_cons_type,
        r = l.file,
        o = l.error_type,
        i = l.msg,
        a = l.col,
        s = l.line,
        c = l.stack;
        var n, r, o, i, a, s, c, l = ce$2((e = {
            key: "error",
            value: f$5(l, ["error_cons_type", "file", "error_type", "msg", "col", "line", "stack"]),
            dimension: {
                error_cons_type: n,
                file: r,
                error_type: o,
                msg: i,
                col: a,
                line: s,
                stack: c
            }
        })[A$1$1], t && t[A$1$1] || {});
        this.baseCollect(((l = {
            dimension: l,
            value: e.value
        })[V$3] = t ? t[V$3] : void 0,
        l))
    }
    ,
    t.prototype.captureException = function(e) {
        this.isSameErrorAndReport(m$3("Captured Exception", e))
    }
    ,
    t
}(d$2$1);
function parseSeedLog(e) {
    var t = Ve$1(N$3);
    if (!t || e !== t)
        return {};
    if (!(e = Ve$1(J$2, [])).length)
        return {};
    var n = []
      , r = []
      , o = [];
    return e.map((function(e) {
        e.key === k$1$1 ? n.push(e) : e.key === O$1$1 ? r.push(e) : e.key === E$1$1 && o.push(e)
    }
    )),
    Xe$1(),
    {
        errorQueue: n,
        resourceQueue: r,
        eventQueue: o
    }
}
var Radar = function() {
    function e(e) {
        var t = this
          , n = (o = (this.core = new b$2$1({
            weblogger: e.weblog,
            projectId: e.projectId,
            sampling: null != (o = e.sampling) ? o : 1,
            httpReportFirst: e.httpReportFirst,
            customDimensions: e.customDimensions
        }),
        this.navigationCollect = new L$1$1({
            core: this.core,
            mainApi: e.mainApi,
            mainJs: e.mainJs
        }),
        e.unuseAPIPlugin || (this.apiCollect = new w$4({
            core: this.core,
            sampling: e.apiSampling,
            APIHook: e.APIHook,
            customizeRadarStatus: e.customizeRadarStatus,
            ignoreList: e.ignoreList,
            ignoreXHR: e.ignoreXHR,
            ignoreFetch: e.ignoreFetch,
            ignoreAborted: e.ignoreAborted,
            isIgnoreInvalidStatusCode: e.isIgnoreInvalidStatusCode
        }),
        this.apiCollect.broadcastApi.on((function(e) {
            return t.navigationCollect.dealAPI(e)
        }
        ))),
        parseSeedLog(this.core.config.projectId))).errorQueue
          , r = o.resourceQueue
          , o = o.eventQueue;
        e.unuseResourcePlugin || (this.resourceCollect = new b$4({
            sampling: e.resourceSampling,
            core: this.core,
            ignoreList: e.ignoreList,
            resourceHook: e.resourceHook,
            seedLogs: r
        }),
        this.resourceCollect.broadcastJs.on((function(e) {
            return t.navigationCollect.addMainJSResult(e)
        }
        ))),
        this.chromeMetricsCollect = new g$1$1({
            core: this.core,
            options: {
                lcp: e.lcp,
                cls: e.cls,
                fid: e.fid,
                fcp: e.fcp
            }
        }),
        this.eventCollect = new c$3({
            core: this.core,
            seedLogs: o
        }),
        this.action = this.eventCollect.action,
        e.unuseErrorPlugin || (this.errorCollect = new E$4({
            core: this.core,
            seedLogs: n
        })),
        Pe$1()
    }
    return e.prototype.apply = function(e) {
        e && this.bindWeblogger(e)
    }
    ,
    e.prototype.bindWeblogger = function(e) {
        this.weblogger = e,
        this.core.bindWeblogger(this.weblogger)
    }
    ,
    e.prototype.event = function(e, t) {
        this.eventCollect.event(e, t)
    }
    ,
    e.prototype.customStage = function(e, t) {
        this.navigationCollect.customStage(e, t)
    }
    ,
    e.prototype.setDimensions = function(e) {
        this.core.setDimensions(e)
    }
    ,
    e.prototype.fmp = function(e) {
        "number" == typeof e ? this.navigationCollect.fmp(e) : "object" == typeof e && e.timestamp ? this.navigationCollect.fmp(e.timestamp) : this.navigationCollect.fmp()
    }
    ,
    e.prototype.captureException = function(e) {
        var t;
        this.errorCollect ? null != (t = this.errorCollect) && t.captureException(e) : console.warn("902")
    }
    ,
    e.prototype.destroy = function() {
        var e;
        null != (e = this.navigationCollect) && e.destroy(),
        null != (e = this.apiCollect) && e.destroy(),
        null != (e = this.resourceCollect) && e.destroy(),
        null != (e = this.eventCollect) && e.destroy(),
        null != (e = this.errorCollect) && e.destroy()
    }
    ,
    e.key = "radar",
    e.version = "1.2.9",
    e
}();
function _classCallCheck$1(e, t) {
    if (!(e instanceof t))
        throw new TypeError("Cannot call a class as a function")
}
function _defineProperties(e, t) {
    for (var n = 0; n < t.length; n++) {
        var r = t[n];
        r.enumerable = r.enumerable || !1,
        r.configurable = !0,
        "value"in r && (r.writable = !0),
        Object.defineProperty(e, r.key, r)
    }
}
function _createClass$1(e, t, n) {
    return t && _defineProperties(e.prototype, t),
    n && _defineProperties(e, n),
    e
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)
        throw new TypeError("Super expression must either be null or a function");
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            writable: !0,
            configurable: !0
        }
    }),
    t && _setPrototypeOf(e, t)
}
function _getPrototypeOf(e) {
    return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
        return e.__proto__ || Object.getPrototypeOf(e)
    }
    )(e)
}
function _setPrototypeOf(e, t) {
    return (_setPrototypeOf = Object.setPrototypeOf || function(e, t) {
        return e.__proto__ = t,
        e
    }
    )(e, t)
}
function _isNativeReflectConstruct() {
    if ("undefined" == typeof Reflect || !Reflect.construct)
        return !1;
    if (Reflect.construct.sham)
        return !1;
    if ("function" == typeof Proxy)
        return !0;
    try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
        ))),
        !0
    } catch (t2) {
        return !1
    }
}
function _construct(e, t, n) {
    return (_construct = _isNativeReflectConstruct() ? Reflect.construct : function(e, t, n) {
        var r = [null];
        r.push.apply(r, t);
        var o = new (Function.bind.apply(e, r));
        return n && _setPrototypeOf(o, n.prototype),
        o
    }
    ).apply(null, arguments)
}
function _assertThisInitialized(e) {
    if (void 0 === e)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e
}
function _possibleConstructorReturn(e, t) {
    return !t || "object" != typeof t && "function" != typeof t ? _assertThisInitialized(e) : t
}
function _createSuper(e) {
    var t = _isNativeReflectConstruct();
    return function() {
        var n, r = _getPrototypeOf(e);
        if (t) {
            var o = _getPrototypeOf(this).constructor;
            n = Reflect.construct(r, arguments, o)
        } else
            n = r.apply(this, arguments);
        return _possibleConstructorReturn(this, n)
    }
}
function _superPropBase(e, t) {
    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _getPrototypeOf(e)); )
        ;
    return e
}
function _get(e, t, n) {
    return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
        var r = _superPropBase(e, t);
        if (r) {
            var o = Object.getOwnPropertyDescriptor(r, t);
            return o.get ? o.get.call(n) : o.value
        }
    }
    )(e, t, n || e)
}
"undefined" != typeof window && "function" != typeof window.Radar && (window.Radar = Radar);
var _extendStatics = function(e, t) {
    return (_extendStatics = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
};
function __extends$1(e, t) {
    if ("function" != typeof t && null !== t)
        throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function n() {
        this.constructor = e
    }
    _extendStatics(e, t),
    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
    new n)
}
var _assign = function() {
    return (_assign = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function __rest(e, t) {
    var n = {};
    for (var r in e)
        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var o = 0;
        for (r = Object.getOwnPropertySymbols(e); o < r.length; o++)
            t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]])
    }
    return n
}
function __awaiter$1(e, t, n, r) {
    return new (n || (n = Promise))((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : (r = e.value,
            r instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        s((r = r.apply(e, [])).next())
    }
    ))
}
function __generator$1(e, t) {
    var n, r, o, i, a = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    };
    return i = {
        next: s(0),
        throw: s(1),
        return: s(2)
    },
    "function" == typeof Symbol && (i[Symbol.iterator] = function() {
        return this
    }
    ),
    i;
    function s(i) {
        return function(s) {
            return function(i) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; a; )
                    try {
                        if (n = 1,
                        r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r),
                        0) : r.next) && !(o = o.call(r, i[1])).done)
                            return o;
                        switch (r = 0,
                        o && (i = [2 & i[0], o.value]),
                        i[0]) {
                        case 0:
                        case 1:
                            o = i;
                            break;
                        case 4:
                            return a.label++,
                            {
                                value: i[1],
                                done: !1
                            };
                        case 5:
                            a.label++,
                            r = i[1],
                            i = [0];
                            continue;
                        case 7:
                            i = a.ops.pop(),
                            a.trys.pop();
                            continue;
                        default:
                            if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                a = 0;
                                continue
                            }
                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                a.label = i[1];
                                break
                            }
                            if (6 === i[0] && a.label < o[1]) {
                                a.label = o[1],
                                o = i;
                                break
                            }
                            if (o && a.label < o[2]) {
                                a.label = o[2],
                                a.ops.push(i);
                                break
                            }
                            o[2] && a.ops.pop(),
                            a.trys.pop();
                            continue
                        }
                        i = t.call(e, a)
                    } catch (s) {
                        i = [6, s],
                        r = 0
                    } finally {
                        n = o = 0
                    }
                if (5 & i[0])
                    throw i[1];
                return {
                    value: i[0] ? i[1] : void 0,
                    done: !0
                }
            }([i, s])
        }
    }
}
function __spreadArray$1(e, t, n) {
    if (n || 2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)),
            r[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var ssrGlobal = "undefined" == typeof window ? {
    addEventListener: function() {},
    removeEventListener: function() {},
    setTimeout: function() {},
    setInterval: function() {},
    _WEBLOGGER_MOCKED_WINDOW_: !0,
    document: {
        cookie: "",
        addEventListener: function() {},
        removeEventListener: function() {},
        querySelector: function() {},
        querySelectorAll: function() {}
    },
    navigator: {
        userAgent: "",
        sendBeacon: function() {}
    },
    screen: {},
    history: {},
    location: {
        hostname: "",
        search: "",
        href: "",
        origin: ""
    },
    localStorage: {
        getItem: function() {},
        setItem: function() {}
    }
} : window
  , sdkName = "webLogger";
function error$1() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    try {
        var n = "webLogger_krn" === sdkName ? null === console || void 0 === console ? void 0 : console.log : null === console || void 0 === console ? void 0 : console.error;
        return n && n.call.apply(n, __spreadArray$1([console], e, !1))
    } catch (r) {
        return
    }
}
function addMonitor(e, t, n, r) {
    return "attachEvent"in e ? e.attachEvent("on" + t, n) : e.addEventListener(t, n, r)
}
function removeMonitor(e, t, n, r) {
    return "attachEvent"in e ? e.detachEvent("on" + t, n) : e.removeEventListener(t, n, r)
}
function parseQueryString(e) {
    for (var t = {}, n = 0, r = e.split("&"); n < r.length; n++) {
        var o = r[n].split("=")
          , i = o[0]
          , a = o[1];
        i in t ? t[i]instanceof Array ? t[i].push(a) : t[i] = [t[i], a] : t[i] = a
    }
    return t
}
function getXpathFromNode(e) {
    if (e === document.body)
        return "HTML/" + e.tagName;
    var t = 0;
    if (e && e.parentNode)
        for (var n = e.parentNode.childNodes, r = 0; r < n.length; r++) {
            var o = n[r];
            if (o === e)
                return getXpathFromNode(e.parentNode) + "/" + e.tagName + "[" + (t + 1) + "]";
            1 === o.nodeType && o.tagName === e.tagName && t++
        }
    return ""
}
function getUrlAndQueryFromUrl(e) {
    void 0 === e && (e = ssrGlobal.location.href);
    var t = e.lastIndexOf("?");
    return -1 === t ? {
        page: e
    } : {
        page: e.slice(0, t),
        params: parseQueryString(e.slice(t + 1))
    }
}
var getMappingPage = function(e, t) {
    var n = e.url
      , r = e.page
      , o = e.params
      , i = e.pageId
      , a = !1;
    if (!r && "string" == typeof n) {
        var s = getUrlAndQueryFromUrl(n);
        r = s.page,
        o = s.params
    }
    if ("function" == typeof t)
        try {
            var c = t({
                url: n,
                page: r,
                params: o
            });
            "string" == typeof c ? r = c : "object" == typeof c && (c.page && (r = c.page),
            c.params && (o = c.params),
            c.pageId && (i = c.pageId),
            c.coPage && (a = !0))
        } catch (p) {}
    else if ("object" == typeof t) {
        var l = "";
        for (var u in t)
            if ((n || r || "").indexOf(u) > -1) {
                l = t[u];
                break
            }
        l && (r = l)
    }
    return {
        page: r,
        params: o,
        pageId: i,
        coPage: a
    }
}, getResolution = (resolution = "",
function() {
    if (resolution)
        return resolution;
    try {
        var e = ssrGlobal.devicePixelRatio || 1
          , t = Math.floor(screen.width * e)
          , n = Math.floor(screen.height * e);
        return resolution = "".concat(t, "x").concat(n)
    } catch (r) {
        return ""
    }
}
), resolution, perf = "undefined" != typeof window ? window.performance : null, performanceTiming = perf && perf.timing || null;
perf && perf.getEntriesByType && perf.getEntriesByType("navigation")[0];
var BasePlugin = function() {
    function e() {}
    return e.prototype.apply = function(e) {
        this.weblog = e
    }
    ,
    e
}()
  , autoRegister = function(e, t) {
    var n;
    if ("undefined" != typeof window && void 0 !== window._GLOBAL_KS_WEBLOGGER_ && "function" == typeof e) {
        var r = window._GLOBAL_KS_WEBLOGGER_
          , o = r.weblog
          , i = null === (n = r.config.plugins[t]) || void 0 === n ? void 0 : n.options;
        o.addPluginInstance(new e(i))
    }
}
  , LoggerId = "10001001"
  , CoreDataLoggerId = "10001002"
  , RM_VERSION = "1.6.0"
  , AppKeyAndSecretKey = {
    test: {
        appKey: "26",
        secretKey: "4d987a04c739527acc8439696cd06913"
    },
    production: {
        appKey: "10001001",
        secretKey: "f2fff381c551a8dcdb765e316f3d44ac"
    }
}
  , Hosts = {
    test: "https://infra-gdfp.test.gifshow.com",
    production: "https://gdfp.gifshow.com",
    kwai: "https://g-gdfp.kwai-pro.com",
    snack: "https://g-gdfp.snackvideo.com"
}
  , Urls = {
    report: "/p/z/s",
    strategy: "/s/u/v"
}
  , FLAG = 2
  , Base = function() {
    function e() {
        _classCallCheck$1(this, e)
    }
    return _createClass$1(e, [{
        key: "mixIn",
        value: function(e) {
            return Object.assign(this, e)
        }
    }, {
        key: "clone",
        value: function() {
            var e = new this.constructor;
            return Object.assign(e, this),
            e
        }
    }], [{
        key: "create",
        value: function() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return _construct(this, t)
        }
    }]),
    e
}()
  , WordArray = function(e) {
    _inherits(n, Base);
    var t = _createSuper(n);
    function n() {
        var e, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4 * r.length;
        _classCallCheck$1(this, n),
        e = t.call(this);
        var i = r;
        if (i instanceof ArrayBuffer && (i = new Uint8Array(i)),
        (i instanceof Int8Array || i instanceof Uint8ClampedArray || i instanceof Int16Array || i instanceof Uint16Array || i instanceof Int32Array || i instanceof Uint32Array || i instanceof Float32Array || i instanceof Float64Array) && (i = new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),
        i instanceof Uint8Array) {
            for (var a = i.byteLength, s = [], c = 0; c < a; c += 1)
                s[c >>> 2] |= i[c] << 24 - c % 4 * 8;
            e.words = s,
            e.sigBytes = a
        } else
            e.words = r,
            e.sigBytes = o;
        return e
    }
    return _createClass$1(n, [{
        key: "toString",
        value: function() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Hex).stringify(this)
        }
    }, {
        key: "concat",
        value: function(e) {
            var t = this.words
              , n = e.words
              , r = this.sigBytes
              , o = e.sigBytes;
            if (this.clamp(),
            r % 4)
                for (var i = 0; i < o; i += 1) {
                    var a = n[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                    t[r + i >>> 2] |= a << 24 - (r + i) % 4 * 8
                }
            else
                for (var s = 0; s < o; s += 4)
                    t[r + s >>> 2] = n[s >>> 2];
            return this.sigBytes += o,
            this
        }
    }, {
        key: "clamp",
        value: function() {
            var e = this.words
              , t = this.sigBytes;
            e[t >>> 2] &= 4294967295 << 32 - t % 4 * 8,
            e.length = Math.ceil(t / 4)
        }
    }, {
        key: "clone",
        value: function() {
            var e = _get(_getPrototypeOf(n.prototype), "clone", this).call(this);
            return e.words = this.words.slice(0),
            e
        }
    }], [{
        key: "random",
        value: function(e) {
            for (var t, r = [], o = function(e) {
                var t = e
                  , n = 987654321
                  , r = 4294967295;
                return function() {
                    var e = ((n = 36969 * (65535 & n) + (n >> 16) & r) << 16) + (t = 18e3 * (65535 & t) + (t >> 16) & r) & r;
                    return e /= 4294967296,
                    (e += .5) * (Math.random() > .5 ? 1 : -1)
                }
            }, i = 0; i < e; i += 4) {
                var a = o(4294967296 * (t || Math.random()));
                t = 987654071 * a(),
                r.push(4294967296 * a() | 0)
            }
            return new n(r,e)
        }
    }]),
    n
}()
  , Hex = {
    stringify: function(e) {
        for (var t = e.words, n = e.sigBytes, r = [], o = 0; o < n; o += 1) {
            var i = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
            r.push((i >>> 4).toString(16)),
            r.push((15 & i).toString(16))
        }
        return r.join("")
    },
    parse: function(e) {
        for (var t = e.length, n = [], r = 0; r < t; r += 2)
            n[r >>> 3] |= parseInt(e.substr(r, 2), 16) << 24 - r % 8 * 4;
        return new WordArray(n,t / 2)
    }
}
  , Latin1 = {
    stringify: function(e) {
        for (var t = e.words, n = e.sigBytes, r = [], o = 0; o < n; o += 1) {
            var i = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
            r.push(String.fromCharCode(i))
        }
        return r.join("")
    },
    parse: function(e) {
        for (var t = e.length, n = [], r = 0; r < t; r += 1)
            n[r >>> 2] |= (255 & e.charCodeAt(r)) << 24 - r % 4 * 8;
        return new WordArray(n,t)
    }
}
  , Utf8 = {
    stringify: function(e) {
        try {
            return decodeURIComponent(escape(Latin1.stringify(e)))
        } catch (t) {
            throw new Error("Malformed UTF-8 data")
        }
    },
    parse: function(e) {
        return Latin1.parse(unescape(encodeURIComponent(e)))
    }
}
  , BufferedBlockAlgorithm = function(e) {
    _inherits(n, Base);
    var t = _createSuper(n);
    function n() {
        var e;
        return _classCallCheck$1(this, n),
        (e = t.call(this))._minBufferSize = 0,
        e
    }
    return _createClass$1(n, [{
        key: "reset",
        value: function() {
            this._data = new WordArray,
            this._nDataBytes = 0
        }
    }, {
        key: "_append",
        value: function(e) {
            var t = e;
            "string" == typeof t && (t = Utf8.parse(t)),
            this._data.concat(t),
            this._nDataBytes += t.sigBytes
        }
    }, {
        key: "_process",
        value: function(e) {
            var t, n = this._data, r = this.blockSize, o = n.words, i = n.sigBytes, a = i / (4 * r), s = (a = e ? Math.ceil(a) : Math.max((0 | a) - this._minBufferSize, 0)) * r, c = Math.min(4 * s, i);
            if (s) {
                for (var l = 0; l < s; l += r)
                    this._doProcessBlock(o, l);
                t = o.splice(0, s),
                n.sigBytes -= c
            }
            return new WordArray(t,c)
        }
    }, {
        key: "clone",
        value: function() {
            var e = _get(_getPrototypeOf(n.prototype), "clone", this).call(this);
            return e._data = this._data.clone(),
            e
        }
    }]),
    n
}()
  , Hasher = function(e) {
    _inherits(n, BufferedBlockAlgorithm);
    var t = _createSuper(n);
    function n(e) {
        var r;
        return _classCallCheck$1(this, n),
        (r = t.call(this)).blockSize = 16,
        r.cfg = Object.assign(new Base, e),
        r.reset(),
        r
    }
    return _createClass$1(n, [{
        key: "reset",
        value: function() {
            _get(_getPrototypeOf(n.prototype), "reset", this).call(this),
            this._doReset()
        }
    }, {
        key: "update",
        value: function(e) {
            return this._append(e),
            this._process(),
            this
        }
    }, {
        key: "finalize",
        value: function(e) {
            return e && this._append(e),
            this._doFinalize()
        }
    }], [{
        key: "_createHelper",
        value: function(e) {
            return function(t, n) {
                return new e(n).finalize(t)
            }
        }
    }, {
        key: "_createHmacHelper",
        value: function(e) {
            return function(t, n) {
                return new HMAC(e,n).finalize(t)
            }
        }
    }]),
    n
}()
  , HMAC = function(e) {
    _inherits(n, Base);
    var t = _createSuper(n);
    function n(e, r) {
        var o;
        _classCallCheck$1(this, n),
        o = t.call(this);
        var i = new e;
        o._hasher = i;
        var a = r;
        "string" == typeof a && (a = Utf8.parse(a));
        var s = i.blockSize
          , c = 4 * s;
        a.sigBytes > c && (a = i.finalize(r)),
        a.clamp();
        var l = a.clone();
        o._oKey = l;
        var u = a.clone();
        o._iKey = u;
        for (var p = l.words, d = u.words, f = 0; f < s; f += 1)
            p[f] ^= 1549556828,
            d[f] ^= 909522486;
        return l.sigBytes = c,
        u.sigBytes = c,
        o.reset(),
        o
    }
    return _createClass$1(n, [{
        key: "reset",
        value: function() {
            var e = this._hasher;
            e.reset(),
            e.update(this._iKey)
        }
    }, {
        key: "update",
        value: function(e) {
            return this._hasher.update(e),
            this
        }
    }, {
        key: "finalize",
        value: function(e) {
            var t = this._hasher
              , n = t.finalize(e);
            return t.reset(),
            t.finalize(this._oKey.clone().concat(n))
        }
    }]),
    n
}()
  , W$2 = []
  , SHA1Algo = function(e) {
    _inherits(n, Hasher);
    var t = _createSuper(n);
    function n() {
        return _classCallCheck$1(this, n),
        t.apply(this, arguments)
    }
    return _createClass$1(n, [{
        key: "_doReset",
        value: function() {
            this._hash = new WordArray([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
        }
    }, {
        key: "_doProcessBlock",
        value: function(e, t) {
            for (var n = this._hash.words, r = n[0], o = n[1], i = n[2], a = n[3], s = n[4], c = 0; c < 80; c += 1) {
                if (c < 16)
                    W$2[c] = 0 | e[t + c];
                else {
                    var l = W$2[c - 3] ^ W$2[c - 8] ^ W$2[c - 14] ^ W$2[c - 16];
                    W$2[c] = l << 1 | l >>> 31
                }
                var u = (r << 5 | r >>> 27) + s + W$2[c];
                u += c < 20 ? 1518500249 + (o & i | ~o & a) : c < 40 ? 1859775393 + (o ^ i ^ a) : c < 60 ? (o & i | o & a | i & a) - 1894007588 : (o ^ i ^ a) - 899497514,
                s = a,
                a = i,
                i = o << 30 | o >>> 2,
                o = r,
                r = u
            }
            n[0] = n[0] + r | 0,
            n[1] = n[1] + o | 0,
            n[2] = n[2] + i | 0,
            n[3] = n[3] + a | 0,
            n[4] = n[4] + s | 0
        }
    }, {
        key: "_doFinalize",
        value: function() {
            var e = this._data
              , t = e.words
              , n = 8 * this._nDataBytes
              , r = 8 * e.sigBytes;
            return t[r >>> 5] |= 128 << 24 - r % 32,
            t[14 + (r + 64 >>> 9 << 4)] = Math.floor(n / 4294967296),
            t[15 + (r + 64 >>> 9 << 4)] = n,
            e.sigBytes = 4 * t.length,
            this._process(),
            this._hash
        }
    }, {
        key: "clone",
        value: function() {
            var e = _get(_getPrototypeOf(n.prototype), "clone", this).call(this);
            return e._hash = this._hash.clone(),
            e
        }
    }]),
    n
}()
  , SHA1 = Hasher._createHelper(SHA1Algo);
Hasher._createHmacHelper(SHA1Algo);
var parseLoop = function(e, t, n) {
    for (var r = [], o = 0, i = 0; i < t; i += 1)
        if (i % 4) {
            var a = n[e.charCodeAt(i - 1)] << i % 4 * 2 | n[e.charCodeAt(i)] >>> 6 - i % 4 * 2;
            r[o >>> 2] |= a << 24 - o % 4 * 8,
            o += 1
        }
    return WordArray.create(r, o)
}
  , Base64 = {
    stringify: function(e) {
        var t = e.words
          , n = e.sigBytes
          , r = this._map;
        e.clamp();
        for (var o = [], i = 0; i < n; i += 3)
            for (var a = (t[i >>> 2] >>> 24 - i % 4 * 8 & 255) << 16 | (t[i + 1 >>> 2] >>> 24 - (i + 1) % 4 * 8 & 255) << 8 | t[i + 2 >>> 2] >>> 24 - (i + 2) % 4 * 8 & 255, s = 0; s < 4 && i + .75 * s < n; s += 1)
                o.push(r.charAt(a >>> 6 * (3 - s) & 63));
        var c = r.charAt(64);
        if (c)
            for (; o.length % 4; )
                o.push(c);
        return o.join("")
    },
    parse: function(e) {
        var t = e.length
          , n = this._map
          , r = this._reverseMap;
        if (!r) {
            this._reverseMap = [],
            r = this._reverseMap;
            for (var o = 0; o < n.length; o += 1)
                r[n.charCodeAt(o)] = o
        }
        var i = n.charAt(64);
        if (i) {
            var a = e.indexOf(i);
            -1 !== a && (t = a)
        }
        return parseLoop(e, t, r)
    },
    _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
}
  , commonjsGlobal$2 = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function createCommonjsModule(e, t) {
    return e(t = {
        exports: {}
    }, t.exports),
    t.exports
}
var md5 = createCommonjsModule((function(e) {
    !function(t) {
        function n(e, t) {
            var n = (65535 & e) + (65535 & t);
            return (e >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n
        }
        function r(e, t, r, o, i, a) {
            return n((s = n(n(t, e), n(o, a))) << (c = i) | s >>> 32 - c, r);
            var s, c
        }
        function o(e, t, n, o, i, a, s) {
            return r(t & n | ~t & o, e, t, i, a, s)
        }
        function i(e, t, n, o, i, a, s) {
            return r(t & o | n & ~o, e, t, i, a, s)
        }
        function a(e, t, n, o, i, a, s) {
            return r(t ^ n ^ o, e, t, i, a, s)
        }
        function s(e, t, n, o, i, a, s) {
            return r(n ^ (t | ~o), e, t, i, a, s)
        }
        function c(e, t) {
            var r, c, l, u, p;
            e[t >> 5] |= 128 << t % 32,
            e[14 + (t + 64 >>> 9 << 4)] = t;
            var d = 1732584193
              , f = -271733879
              , h = -1732584194
              , g = 271733878;
            for (r = 0; r < e.length; r += 16)
                c = d,
                l = f,
                u = h,
                p = g,
                d = o(d, f, h, g, e[r], 7, -680876936),
                g = o(g, d, f, h, e[r + 1], 12, -389564586),
                h = o(h, g, d, f, e[r + 2], 17, 606105819),
                f = o(f, h, g, d, e[r + 3], 22, -1044525330),
                d = o(d, f, h, g, e[r + 4], 7, -176418897),
                g = o(g, d, f, h, e[r + 5], 12, 1200080426),
                h = o(h, g, d, f, e[r + 6], 17, -1473231341),
                f = o(f, h, g, d, e[r + 7], 22, -45705983),
                d = o(d, f, h, g, e[r + 8], 7, 1770035416),
                g = o(g, d, f, h, e[r + 9], 12, -1958414417),
                h = o(h, g, d, f, e[r + 10], 17, -42063),
                f = o(f, h, g, d, e[r + 11], 22, -1990404162),
                d = o(d, f, h, g, e[r + 12], 7, 1804603682),
                g = o(g, d, f, h, e[r + 13], 12, -40341101),
                h = o(h, g, d, f, e[r + 14], 17, -1502002290),
                d = i(d, f = o(f, h, g, d, e[r + 15], 22, 1236535329), h, g, e[r + 1], 5, -165796510),
                g = i(g, d, f, h, e[r + 6], 9, -1069501632),
                h = i(h, g, d, f, e[r + 11], 14, 643717713),
                f = i(f, h, g, d, e[r], 20, -373897302),
                d = i(d, f, h, g, e[r + 5], 5, -701558691),
                g = i(g, d, f, h, e[r + 10], 9, 38016083),
                h = i(h, g, d, f, e[r + 15], 14, -660478335),
                f = i(f, h, g, d, e[r + 4], 20, -405537848),
                d = i(d, f, h, g, e[r + 9], 5, 568446438),
                g = i(g, d, f, h, e[r + 14], 9, -1019803690),
                h = i(h, g, d, f, e[r + 3], 14, -187363961),
                f = i(f, h, g, d, e[r + 8], 20, 1163531501),
                d = i(d, f, h, g, e[r + 13], 5, -1444681467),
                g = i(g, d, f, h, e[r + 2], 9, -51403784),
                h = i(h, g, d, f, e[r + 7], 14, 1735328473),
                d = a(d, f = i(f, h, g, d, e[r + 12], 20, -1926607734), h, g, e[r + 5], 4, -378558),
                g = a(g, d, f, h, e[r + 8], 11, -2022574463),
                h = a(h, g, d, f, e[r + 11], 16, 1839030562),
                f = a(f, h, g, d, e[r + 14], 23, -35309556),
                d = a(d, f, h, g, e[r + 1], 4, -1530992060),
                g = a(g, d, f, h, e[r + 4], 11, 1272893353),
                h = a(h, g, d, f, e[r + 7], 16, -155497632),
                f = a(f, h, g, d, e[r + 10], 23, -1094730640),
                d = a(d, f, h, g, e[r + 13], 4, 681279174),
                g = a(g, d, f, h, e[r], 11, -358537222),
                h = a(h, g, d, f, e[r + 3], 16, -722521979),
                f = a(f, h, g, d, e[r + 6], 23, 76029189),
                d = a(d, f, h, g, e[r + 9], 4, -640364487),
                g = a(g, d, f, h, e[r + 12], 11, -421815835),
                h = a(h, g, d, f, e[r + 15], 16, 530742520),
                d = s(d, f = a(f, h, g, d, e[r + 2], 23, -995338651), h, g, e[r], 6, -198630844),
                g = s(g, d, f, h, e[r + 7], 10, 1126891415),
                h = s(h, g, d, f, e[r + 14], 15, -1416354905),
                f = s(f, h, g, d, e[r + 5], 21, -57434055),
                d = s(d, f, h, g, e[r + 12], 6, 1700485571),
                g = s(g, d, f, h, e[r + 3], 10, -1894986606),
                h = s(h, g, d, f, e[r + 10], 15, -1051523),
                f = s(f, h, g, d, e[r + 1], 21, -2054922799),
                d = s(d, f, h, g, e[r + 8], 6, 1873313359),
                g = s(g, d, f, h, e[r + 15], 10, -30611744),
                h = s(h, g, d, f, e[r + 6], 15, -1560198380),
                f = s(f, h, g, d, e[r + 13], 21, 1309151649),
                d = s(d, f, h, g, e[r + 4], 6, -145523070),
                g = s(g, d, f, h, e[r + 11], 10, -1120210379),
                h = s(h, g, d, f, e[r + 2], 15, 718787259),
                f = s(f, h, g, d, e[r + 9], 21, -343485551),
                d = n(d, c),
                f = n(f, l),
                h = n(h, u),
                g = n(g, p);
            return [d, f, h, g]
        }
        function l(e) {
            var t, n = "", r = 32 * e.length;
            for (t = 0; t < r; t += 8)
                n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
            return n
        }
        function u(e) {
            var t, n = [];
            for (n[(e.length >> 2) - 1] = void 0,
            t = 0; t < n.length; t += 1)
                n[t] = 0;
            var r = 8 * e.length;
            for (t = 0; t < r; t += 8)
                n[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
            return n
        }
        function p(e) {
            var t, n, r = "0123456789abcdef", o = "";
            for (n = 0; n < e.length; n += 1)
                t = e.charCodeAt(n),
                o += r.charAt(t >>> 4 & 15) + r.charAt(15 & t);
            return o
        }
        function d(e) {
            return unescape(encodeURIComponent(e))
        }
        function f(e) {
            return l(c(u(t = d(e)), 8 * t.length));
            var t
        }
        function h(e, t) {
            return function(e, t) {
                var n, r, o = u(e), i = [], a = [];
                for (i[15] = a[15] = void 0,
                o.length > 16 && (o = c(o, 8 * e.length)),
                n = 0; n < 16; n += 1)
                    i[n] = 909522486 ^ o[n],
                    a[n] = 1549556828 ^ o[n];
                return r = c(i.concat(u(t)), 512 + 8 * t.length),
                l(c(a.concat(r), 640))
            }(d(e), d(t))
        }
        function g(e, t, n) {
            return t ? n ? h(t, e) : p(h(t, e)) : n ? f(e) : p(f(e))
        }
        e.exports ? e.exports = g : t.md5 = g
    }(commonjsGlobal$2)
}
));
function encrypt(e) {
    return Base64.stringify(Utf8.parse(e))
}
function decrypt(e) {
    return Utf8.stringify(Base64.parse(e))
}
function getAppkeyAndSecretKey(e) {
    return AppKeyAndSecretKey[e = e || "production"]
}
function getReportUrl(e) {
    var t = e.env || "production"
      , n = Hosts[t];
    "production" === t && e.host && Hosts[e.host] && (n = Hosts[e.host]);
    var r = AppKeyAndSecretKey[t]
      , o = r.appKey
      , i = r.secretKey
      , a = ((new Date).valueOf() / 1e3).toFixed()
      , s = md5(o + i + a)
      , c = e.reportUrls ? e.reportUrls[Math.floor(Math.random() * e.reportUrls.length)] : Urls.report;
    return "".concat(n).concat(c, "?appkey=").concat(o, "&seckey=").concat(i, "&bussType=").concat(e.bussType, "&timestamp=").concat(a, "&sign=").concat(s)
}
function getStrategyUrl(e) {
    var t = e.env || "production"
      , n = Hosts[t];
    "production" === t && e.host && Hosts[e.host] && (n = Hosts[e.host]);
    var r = AppKeyAndSecretKey[t]
      , o = r.appKey
      , i = r.secretKey
      , a = ((new Date).valueOf() / 1e3).toFixed()
      , s = md5(o + i + a);
    return "".concat(n).concat(Urls.strategy, "?appkey=").concat(o, "&seckey=").concat(i, "&bussType=").concat(e.bussType, "&timestamp=").concat(a, "&sign=").concat(s, "&type=SDK_INIT")
}
function isMobile() {
    var e = navigator.userAgent
      , t = e.indexOf("Android") > -1 || e.indexOf("Adr") > -1
      , n = !!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
    return t || n
}
function isLowEnd() {
    var e = -1 !== location.href.indexOf("sf2021=1")
      , t = navigator.userAgent
      , n = -1 !== t.indexOf("ISLP/1") || -1 !== t.indexOf("Kwai") && -1 === t.indexOf("ISLP/");
    return e && n
}
function sha1Encode(e) {
    return SHA1(e).toString()
}
function compose(e) {
    return function(t, n) {
        var r = -1;
        return function o(i) {
            if (i <= r)
                return new Error("`next` 被重复调用");
            r = i;
            var a = e[i];
            if (i === e.length && (a = n),
            a)
                try {
                    return a(t, o.bind(null, i + 1))
                } catch (s) {
                    return s
                }
        }(0)
    }
}
var MiddlewareManager = function() {
    function e() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        this.middlewares = [],
        (e = this.middlewares).push.apply(e, t)
    }
    return e.prototype.use = function() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        var r = this.middlewares.pop();
        (e = this.middlewares).push.apply(e, t),
        this.middlewares.push(r)
    }
    ,
    e.prototype.invoke = function(e) {
        return compose(this.middlewares)(e)
    }
    ,
    e
}(), riskRadarObj, riskRadar = function() {
    function e(e) {
        var t = this;
        this.projectId = "4104e6fdd6",
        this.weblog = {},
        this.radarSessionIdNext = "",
        this.getCommonData = function() {
            var e, n, r = t.weblog.commonPackage.app_package, o = JSON.stringify(_assign(_assign({}, t.weblog.commonPackage.getH5ExtraAttr()), {
                app_version_name: r.version_name,
                url: location.href,
                hash: location.hash,
                online: null === navigator || void 0 === navigator ? void 0 : navigator.onLine,
                downlink: null === (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) || void 0 === e ? void 0 : e.downlink,
                rtt: null === (n = null === navigator || void 0 === navigator ? void 0 : navigator.connection) || void 0 === n ? void 0 : n.rtt
            })), i = t.currentUrlPackage && t.currentUrlPackage.toJSON(), a = t.projectId;
            return {
                h5_extra_attr: o,
                url_package: i,
                app_version_name: r.version_name,
                project_id: a
            }
        }
        ,
        this.getWebViewType = function() {
            var e = window.navigator.userAgent;
            if (-1 !== e.indexOf("Android"))
                return "WebView";
            if (-1 !== e.indexOf("iPhone")) {
                var n = t.getUAList();
                return n.Yoda && "WK" === n.WebViewType ? "YodaWKWebView" : n.Yoda || "WKWebView" !== n.WebView ? "UIWebView" : "WKWebView"
            }
            return ""
        }
        ,
        this.weblog = e.weblog,
        this.currentUrlPackage = this.weblog.currentUrlPackage,
        this.radarSessionIdNext = this.uuid(),
        riskRadarObj = this
    }
    return e.prototype.uuid = function() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
            var t = 16 * Math.random() | 0;
            return ("x" === e ? t : 3 & t | 8).toString(16)
        }
        ))
    }
    ,
    e.prototype.getUAList = function() {
        var e = window.navigator.userAgent
          , t = {};
        return e.split(" ").forEach((function(e) {
            var n = e.split("/")
              , r = n[0]
              , o = n[1];
            r && o && (t[r] = o)
        }
        )),
        t
    }
    ,
    e.prototype.reportByHttp = function(e) {
        var t = this.getCommonData()
          , n = {
            project_id: this.projectId,
            radar_session_id: this.radarSessionIdNext,
            h5_extra_attr: t.h5_extra_attr
        }
          , r = []
          , o = e;
        r.push(o),
        Array.isArray(r) && r.length && this.collectLog(n, r, "radarSDKSupplement")
    }
    ,
    e.prototype.collectLog = function(e, t, n) {
        (this.weblog.sendByHttp || this.weblog.collect).call(this.weblog, "RADAR", {
            name: "radar_log",
            params: _assign(_assign({}, e), {
                data: __spreadArray$1([], t, !0)
            }),
            serviceName: n
        })
    }
    ,
    e.prototype.event = function(e, t) {
        var n = this.getUAList();
        e.extra_info && e.extra_info instanceof Object && (e.extra_info = JSON.stringify(e.extra_info)),
        void 0 === e.yoda_version && (e.yoda_version = n.Yoda || ""),
        void 0 === e.webview_type && (e.webview_type = this.getWebViewType());
        var r = {
            key: "event",
            value: t,
            dimension: e
        };
        this.logCollectNext(r)
    }
    ,
    e.prototype.logCollectNext = function(e) {
        var t = this
          , n = deepClone(e)
          , r = this.getCommonData()
          , o = r.app_version_name;
        delete r.app_version_name;
        var i = new MiddlewareManager((function(e, n) {
            return e.dimension.app_version_name = o,
            _assign(_assign(_assign({}, e), r), {
                event_client_timestamp: Date.now(),
                event_trigger_source: "H5",
                radar_session_id: t.radarSessionIdNext
            })
        }
        ));
        if (i.use((function(e, t) {
            return e.key && "load" === e.key && (e.dimension = _assign(_assign({}, e.dimension), {
                load_device_increase_id: genDeviceIncreaseId("LOAD_DEVICE_INCREASE_ID"),
                load_session_increase_id: genSessionIncreaseId("LOAD_SESSION_INCREASE_ID")
            })),
            e.key && "load" !== e.key && (e.dimension = _assign(_assign({}, e.dimension), {
                other_device_increase_id: genDeviceIncreaseId("OTHER_DEVICE_INCREASE_ID"),
                other_session_increase_id: genSessionIncreaseId("OTHER_SESSION_INCREASE_ID")
            })),
            t()
        }
        ), (function(e, t) {
            return e.dimension.sample_rate = {
                load: 1,
                api: 1,
                resource: 1,
                error: 1,
                event: 1,
                custom: 1,
                isHit: !0
            },
            t()
        }
        )),
        (n = i.invoke(n))instanceof Error)
            throw n;
        try {
            window.dispatchEvent(new CustomEvent("get-radar-next-data",{
                detail: {
                    kv: deepClone(n)
                }
            }))
        } catch (a) {}
        delete n.dimension.broadcast_info,
        this.reportByHttp(n)
    }
    ,
    e.prototype.riskEvent = function(e, t, n) {
        this.event({
            name: e,
            src: location.href,
            extra_info: n
        })
    }
    ,
    e.prototype.pushException = function(e) {
        this.riskEvent("exception", "", JSON.stringify({
            er: e.toString(),
            st: e.stack
        }))
    }
    ,
    e
}(), maxId = 1e8, genDeviceIncreaseId = function(e) {
    try {
        if (window && window.localStorage && "undefined" != typeof Storage && window.localStorage instanceof Storage) {
            var t = Number(getLocalStorageItem(e)) || 0;
            return t + 1 > maxId && (t = 0),
            setLocalStorageItem(e, t + 1),
            t
        }
    } catch (n) {}
};
function deepClone(e) {
    return JSON.parse(JSON.stringify(e))
}
function getLocalStorageItem(e) {
    try {
        if (window && window.localStorage) {
            var t = window.localStorage.getItem(e);
            if (t)
                try {
                    return JSON.parse(t)
                } catch (n) {
                    return t
                }
        }
    } catch (n) {
        return null
    }
    return null
}
function setLocalStorageItem(e, t) {
    try {
        if (window && window.localStorage)
            return window.localStorage.setItem(e, JSON.stringify(t)),
            !0
    } catch (n) {
        return !1
    }
    return !1
}
var runtimeIdMap = {}
  , genSessionIncreaseId = function(e) {
    return runtimeIdMap[e] || (runtimeIdMap[e] = 0),
    runtimeIdMap[e]++
};
function pushException(e) {
    try {
        riskRadarObj && e && riskRadarObj.pushException(e)
    } catch (t) {}
}
function getNavigatorPlugins(e) {
    var t = e.plugins || [];
    if (t.length > 0) {
        for (var n = [], r = 0; r < t.length; r++) {
            var o = t[r] || {}
              , i = {
                name: o.name,
                filename: o.filename,
                description: o.description
            };
            n[r] = i
        }
        return JSON.stringify(n)
    }
    return ""
}
function getNavigatorMimeTypes(e) {
    var t = e.mimeTypes || [];
    if (t.length > 0) {
        for (var n = [], r = 0; r < t.length; r++) {
            var o = t[r] || {}
              , i = {
                type: o.type,
                description: o.description
            };
            n[r] = i
        }
        return JSON.stringify(n)
    }
    return ""
}
function getWeglData(e) {
    try {
        var t = e.createElement("canvas").getContext("webgl");
        if (null != t) {
            var n = t.getExtension("WEBGL_debug_renderer_info");
            if (n) {
                var r = t.getParameter(n.UNMASKED_VENDOR_WEBGL)
                  , o = t.getParameter(n.UNMASKED_RENDERER_WEBGL)
                  , i = {};
                i[61] = r,
                i[62] = o;
                var a = t.getParameter(t.VENDOR)
                  , s = t.getParameter(t.VERSION);
                i[64] = a,
                i[65] = s;
                var c = t.getParameter(t.SHADING_LANGUAGE_VERSION)
                  , l = t.getParameter(t.STENCIL_BITS);
                i[66] = c,
                i[67] = l;
                var u = t.getContextAttributes();
                if (null != u) {
                    var p = u.antialias ? "1" : "0";
                    i[63] = p
                }
                return i
            }
        }
    } catch (d) {
        pushException(d)
    }
    return {}
}
var getWebglCanvas = function() {
    var e = document.createElement("canvas")
      , t = null;
    try {
        t = e.getContext("webgl")
    } catch (n) {
        pushException(n)
    }
    return t || (t = null),
    t
};
function getWeglFdData() {
    var e = getWebglCanvas();
    if (!e)
        return null;
    var t = []
      , n = e.createBuffer();
    if (null != n) {
        e.bindBuffer(e.ARRAY_BUFFER, n);
        var r = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
        e.bufferData(e.ARRAY_BUFFER, r, e.STATIC_DRAW);
        var o = e.createProgram()
          , i = e.createShader(e.VERTEX_SHADER);
        if (null != i && null != o) {
            e.shaderSource(i, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),
            e.compileShader(i);
            var a = e.createShader(e.FRAGMENT_SHADER);
            if (null != a) {
                e.shaderSource(a, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),
                e.compileShader(a),
                e.attachShader(o, i),
                e.attachShader(o, a),
                e.linkProgram(o),
                e.useProgram(o);
                var s = e.getAttribLocation(o, "attrVertex")
                  , c = e.getUniformLocation(o, "uniformOffset");
                try {
                    e.enableVertexAttribArray(o.vertexPosArray),
                    e.vertexAttribPointer(s, 3, e.FLOAT, !1, 0, 0),
                    e.uniform2f(c, 1, 1),
                    e.drawArrays(e.TRIANGLE_STRIP, 0, 3);
                    var l = e.canvas;
                    t.push(l.toDataURL())
                } catch (u) {
                    pushException(u)
                }
                return {
                    hash: md5(t[0]),
                    rawData: t[0]
                }
            }
        }
    }
    return null
}
function getCanvasFdData() {
    try {
        var e = document.createElement("canvas");
        e.width = 2e3,
        e.height = 200,
        e.style.display = "inline";
        var t = e.getContext("2d");
        if (null != t) {
            t.textBaseline = "alphabetic",
            t.fillStyle = "#f60",
            t.fillRect(125, 1, 62, 20),
            t.fillStyle = "#069",
            t.font = "11pt Arial",
            t.globalCompositeOperation = "multiply",
            t.fillStyle = "rgb(255,255,0)",
            t.beginPath(),
            t.arc(75, 100, 50, 0, 2 * Math.PI, !0),
            t.closePath(),
            t.fill(),
            t.fillStyle = "rgb(255,0,255)",
            t.arc(75, 75, 75, 0, 2 * Math.PI, !0),
            t.arc(75, 75, 25, 0, 2 * Math.PI, !0),
            t.fill("evenodd");
            var n = e.toDataURL();
            return {
                hash: md5(n),
                rawData: n
            }
        }
    } catch (r) {}
    return null
}
var M$2 = Math
  , fallbackFn = function() {
    return 0
};
function getMathFingerprint() {
    var e, t = M$2.acos || fallbackFn, n = M$2.acosh || fallbackFn, r = M$2.asin || fallbackFn, o = M$2.asinh || fallbackFn, i = M$2.atanh || fallbackFn, a = M$2.atan || fallbackFn, s = M$2.sin || fallbackFn, c = M$2.sinh || fallbackFn, l = M$2.cos || fallbackFn, u = M$2.cosh || fallbackFn, p = M$2.tan || fallbackFn, d = M$2.tanh || fallbackFn, f = M$2.exp || fallbackFn, h = M$2.expm1 || fallbackFn, g = M$2.log1p || fallbackFn, m = {
        acos: t(.12312423423423424),
        acosh: n(1e308),
        acoshPf: (e = 1e154,
        M$2.log(e + M$2.sqrt(e * e - 1))),
        asin: r(.12312423423423424),
        asinh: o(1),
        asinhPf: M$2.log(1 + M$2.sqrt(2)),
        atanh: i(.5),
        atanhPf: M$2.log(3) / 2,
        atan: a(.5),
        sin: s(-1e300),
        sinh: c(1),
        sinhPf: M$2.exp(1) - 1 / M$2.exp(1) / 2,
        cos: l(10.000000000123),
        cosh: u(1),
        coshPf: (M$2.exp(1) + 1 / M$2.exp(1)) / 2,
        tan: p(-1e300),
        tanh: d(1),
        tanhPf: (M$2.exp(2) - 1) / (M$2.exp(2) + 1),
        exp: f(1),
        expm1: h(1),
        expm1Pf: M$2.exp(1) - 1,
        log1p: g(10),
        log1pPf: M$2.log(11),
        powPI: M$2.pow(M$2.PI, -100)
    };
    return {
        h: md5(JSON.stringify(m)),
        d: m
    }
}
function getObjPropertys(e) {
    var t = 0;
    for (var n in e)
        t++;
    return {
        pc: Object.getOwnPropertyNames(e).length,
        kc: Object.keys(e).length,
        lc: t
    }
}
function getStorage() {
    var e = {};
    try {
        e = {
            lsc: window.localStorage.length,
            ssc: window.sessionStorage.length
        }
    } catch (t) {
        pushException(t)
    }
    return e
}
function getHisLen() {
    var e = -1;
    try {
        e = window.history.length
    } catch (t) {
        pushException(t)
    }
    return e
}
function getCookieL() {
    var e = -1;
    try {
        e = document.cookie.split(";").length
    } catch (t) {
        pushException(t)
    }
    return e
}
function getFS() {
    var e = {};
    try {
        var t = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;
        e = {
            en: !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled),
            isF: !!t
        }
    } catch (n) {
        pushException(n)
    }
    return e
}
var permissionsNames = ["geolocation", "notifications", "push", "midi", "camera", "microphone", "speaker", "device-info", "background-fetch", "background-sync", "bluetooth", "persistent-storage", "ambient-light-sensor", "accelerometer", "gyroscope", "magnetometer", "clipboard", "display-capture", "nfc"]
  , getAllPermissions = function(e) {
    return __awaiter$1(void 0, void 0, void 0, (function() {
        var t;
        return __generator$1(this, (function(n) {
            switch (n.label) {
            case 0:
                return t = [],
                [4, Promise.all(permissionsNames.map((function(e) {
                    return __awaiter$1(void 0, void 0, void 0, (function() {
                        var n;
                        return __generator$1(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                return "push" === (r.trys.push([0, 6, , 7]),
                                n = void 0,
                                e) ? [3, 1] : [3, 3];
                            case 1:
                                return [4, navigator.permissions.query({
                                    name: e,
                                    userVisibleOnly: !0
                                })];
                            case 2:
                                return n = r.sent(),
                                [3, 5];
                            case 3:
                                return [4, navigator.permissions.query({
                                    name: e
                                })];
                            case 4:
                                n = r.sent(),
                                r.label = 5;
                            case 5:
                                return t.push({
                                    permissionName: e,
                                    state: n.state
                                }),
                                [3, 7];
                            case 6:
                                return r.sent(),
                                t.push({
                                    permissionName: e,
                                    state: "error"
                                }),
                                [3, 7];
                            case 7:
                                return [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))).then((function(n) {
                    e && e(t)
                }
                ))];
            case 1:
                return n.sent(),
                [2]
            }
        }
        ))
    }
    ))
}
  , getLocation = function(e) {
    try {
        navigator.permissions && navigator.permissions.query && navigator.permissions.query({
            name: "geolocation"
        }).then((function(t) {
            "granted" == t.state && navigator.geolocation.getCurrentPosition((function(t) {
                e && e({
                    lat: t.coords.latitude,
                    lon: t.coords.longitude
                })
            }
            ))
        }
        ))
    } catch (t) {
        pushException(t)
    }
};
function audioFP() {
    return new Promise((function(e, t) {
        if (navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))
            return e("");
        var n = window.OfflineAudioContext;
        if (null == n)
            return e("");
        var r = new n(1,44100,44100)
          , o = r.createOscillator();
        o.type = "triangle",
        o.frequency.setValueAtTime(1e4, r.currentTime);
        var i = r.createDynamicsCompressor();
        [["threshold", -50], ["knee", 40], ["ratio", 12], ["reduction", -20], ["attack", 0], ["release", .25]].forEach((function(e, t, n) {
            var o = e[0]
              , a = i[o];
            void 0 !== a && "function" == typeof a.setValueAtTime && a.setValueAtTime(e[1], r && r.currentTime || 0)
        }
        )),
        o.connect(i),
        i.connect(r.destination),
        o.start(0),
        r.startRendering();
        var a = setTimeout((function() {
            return r = void 0,
            e("audioTimeout")
        }
        ), 1e3);
        r.oncomplete = function(t) {
            var n;
            try {
                clearTimeout(a),
                n = t.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce((function(e, t) {
                    return e + Math.abs(t)
                }
                ), 0).toString(),
                o.disconnect(),
                i.disconnect()
            } catch (r) {
                return void e(r)
            }
            e(n)
        }
    }
    )).then((function(e) {
        return {
            hash: md5(e + ""),
            rawData: e
        }
    }
    ))
}
function gFr(e) {
    var t = new (window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection)({
        iceServers: [{
            urls: ["stun:stun.rapidnet.de:3478", "stun:stun.voipwise.com:3478", "stun:stun.voipzoom.com:3478", "stun:stun.voipstunt.com:3478", "stun:stun.voxgratia.org:3478", "stun:stun.l.google.com:19302"]
        }]
    });
    t.createDataChannel(""),
    t.createOffer().then((function(e) {
        t.setLocalDescription(e)
    }
    ));
    var n = {
        can: "",
        sdp: ""
    };
    t.onicecandidate = function(t) {
        if (t && t.candidate) {
            var r = t.target.localDescription
              , o = r && r.sdp;
            n.can += ";" + t.candidate.candidate,
            t.target && o ? n.sdp += ";" + o : n.sdp += ";",
            e && e(n)
        }
    }
}
function detectjsFiles() {
    return Array.prototype.slice.apply(document.querySelectorAll("script")).filter((function(e) {
        return e.src
    }
    )).map((function(e) {
        return e.src
    }
    ))
}
function printCallStack() {
    var e = (new Error).stack;
    return null == (e = null == e ? void 0 : e.replace("Error\n", "")) ? void 0 : e.replace(/\s*/g, "")
}
function decodeBase64(e, t) {
    return atob(e)
}
function createURL(e, t, n) {
    var r = decodeBase64(e)
      , o = r.indexOf("\n", 10) + 1
      , i = r.substring(o) + ""
      , a = new Blob([i],{
        type: "application/javascript"
    });
    return URL.createObjectURL(a)
}
function createBase64WorkerFactory(e, t, n) {
    var r;
    return function(t) {
        return r = r || createURL(e),
        new Worker(r,t)
    }
}
var WorkerFactory$1 = createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBuKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH1mdW5jdGlvbiByKHQsZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJmkodCxlKX1mdW5jdGlvbiBvKHQpe3JldHVybihvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGEoKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIHUodCxlLG4pe3JldHVybih1PWEoKT9SZWZsZWN0LmNvbnN0cnVjdDpmdW5jdGlvbih0LGUsbil7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZpKG8sbi5wcm90b3R5cGUpLG99KS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlP2Z1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH0odCk6ZX1mdW5jdGlvbiBjKHQpe3ZhciBlPWEoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPW8odCk7aWYoZSl7dmFyIGk9byh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLGkpfWVsc2Ugbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcyh0aGlzLG4pfX1mdW5jdGlvbiBmKHQsZSxuKXtyZXR1cm4oZj0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9byh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwobik6aS52YWx1ZX19KSh0LGUsbnx8dCl9dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dCh0aGlzLGUpfXJldHVybiBuKGUsW3trZXk6Im1peEluIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLHQpfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx0aGlzKSx0fX1dLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHUodGhpcyxlKX19XSksZX0oKSxoPWZ1bmN0aW9uKGUpe3IoYSxlKTt2YXIgaT1jKGEpO2Z1bmN0aW9uIGEoKXt2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo0Km4ubGVuZ3RoO3QodGhpcyxhKSxlPWkuY2FsbCh0aGlzKTt2YXIgbz1uO2lmKG8gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKG89bmV3IFVpbnQ4QXJyYXkobykpLChvIGluc3RhbmNlb2YgSW50OEFycmF5fHxvIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fG8gaW5zdGFuY2VvZiBJbnQxNkFycmF5fHxvIGluc3RhbmNlb2YgVWludDE2QXJyYXl8fG8gaW5zdGFuY2VvZiBJbnQzMkFycmF5fHxvIGluc3RhbmNlb2YgVWludDMyQXJyYXl8fG8gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fG8gaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpJiYobz1uZXcgVWludDhBcnJheShvLmJ1ZmZlcixvLmJ5dGVPZmZzZXQsby5ieXRlTGVuZ3RoKSksbyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2Zvcih2YXIgdT1vLmJ5dGVMZW5ndGgscz1bXSxjPTA7Yzx1O2MrPTEpc1tjPj4+Ml18PW9bY108PDI0LWMlNCo4O2Uud29yZHM9cyxlLnNpZ0J5dGVzPXV9ZWxzZSBlLndvcmRzPW4sZS5zaWdCeXRlcz1yO3JldHVybiBlfXJldHVybiBuKGEsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2O3JldHVybiB0LnN0cmluZ2lmeSh0aGlzKX19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JkcyxuPXQud29yZHMscj10aGlzLnNpZ0J5dGVzLG89dC5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksciU0KWZvcih2YXIgaT0wO2k8bztpKz0xKXt2YXIgYT1uW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtlW3IraT4+PjJdfD1hPDwyNC0ocitpKSU0Kjh9ZWxzZSBmb3IodmFyIHU9MDt1PG87dSs9NCllW3IrdT4+PjJdPW5bdT4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1vLHRoaXN9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndvcmRzLGU9dGhpcy5zaWdCeXRlczt0W2U+Pj4yXSY9NDI5NDk2NzI5NTw8MzItZSU0KjgsdC5sZW5ndGg9TWF0aC5jZWlsKGUvNCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1mKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdC53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHR9fV0sW3trZXk6InJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj1mdW5jdGlvbih0KXt2YXIgZT10LG49OTg3NjU0MzIxLHI9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0oKG49MzY5NjkqKDY1NTM1Jm4pKyhuPj4xNikmcik8PDE2KSsoZT0xOGUzKig2NTUzNSZlKSsoZT4+MTYpJnIpJnI7cmV0dXJuIHQvPTQyOTQ5NjcyOTYsKHQrPS41KSooTWF0aC5yYW5kb20oKT4uNT8xOi0xKX19LG89MDtvPHQ7bys9NCl7dmFyIGk9cig0Mjk0OTY3Mjk2KihlfHxNYXRoLnJhbmRvbSgpKSk7ZT05ODc2NTQwNzEqaSgpLG4ucHVzaCg0Mjk0OTY3Mjk2KmkoKXwwKX1yZXR1cm4gbmV3IGEobix0KX19XSksYX0obCksdj17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLG49dC5zaWdCeXRlcyxyPVtdLG89MDtvPG47bys9MSl7dmFyIGk9ZVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7ci5wdXNoKChpPj4+NCkudG9TdHJpbmcoMTYpKSxyLnB1c2goKDE1JmkpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHIuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPVtdLHI9MDtyPGU7cis9MiluW3I+Pj4zXXw9cGFyc2VJbnQodC5zdWJzdHIociwyKSwxNik8PDI0LXIlOCo0O3JldHVybiBuZXcgaChuLGUvMil9fSx5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPVtdLHI9MDtyPGU7cis9MSluW3I+Pj4yXXw9KDI1NSZ0LmNoYXJDb2RlQXQocikpPDwyNC1yJTQqODtyZXR1cm4gbmV3IGgobixlKX0scD1mdW5jdGlvbih0KXtyZXR1cm4geSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKX0sZD1mdW5jdGlvbihlKXtyKGEsZSk7dmFyIGk9YyhhKTtmdW5jdGlvbiBhKGUpe3ZhciBuO3JldHVybiB0KHRoaXMsYSksKG49aS5jYWxsKHRoaXMpKS5ibG9ja1NpemU9MTYsbi5jZmc9T2JqZWN0LmFzc2lnbihuZXcgbCxlKSxuLnJlc2V0KCksbn1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtmKG8oYS5wcm90b3R5cGUpLCJyZXNldCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBlbmQodCksdGhpcy5fcHJvY2VzcygpLHRoaXN9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2FwcGVuZCh0KSx0aGlzLl9kb0ZpbmFsaXplKCl9fV0sW3trZXk6Il9jcmVhdGVIZWxwZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdChuKS5maW5hbGl6ZShlKX19fSx7a2V5OiJfY3JlYXRlSG1hY0hlbHBlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBnKHQsbikuZmluYWxpemUoZSl9fX1dKSxhfShmdW5jdGlvbihlKXtyKGEsZSk7dmFyIGk9YyhhKTtmdW5jdGlvbiBhKCl7dmFyIGU7cmV0dXJuIHQodGhpcyxhKSwoZT1pLmNhbGwodGhpcykpLl9taW5CdWZmZXJTaXplPTAsZX1yZXR1cm4gbihhLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBoLHRoaXMuX25EYXRhQnl0ZXM9MH19LHtrZXk6Il9hcHBlbmQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQ7InN0cmluZyI9PXR5cGVvZiBlJiYoZT1wKGUpKSx0aGlzLl9kYXRhLmNvbmNhdChlKSx0aGlzLl9uRGF0YUJ5dGVzKz1lLnNpZ0J5dGVzfX0se2tleToiX3Byb2Nlc3MiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fZGF0YSxyPXRoaXMuYmxvY2tTaXplLG89bi53b3JkcyxpPW4uc2lnQnl0ZXMsYT1pLyg0KnIpLHU9KGE9dD9NYXRoLmNlaWwoYSk6TWF0aC5tYXgoKDB8YSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKSkqcixzPU1hdGgubWluKDQqdSxpKTtpZih1KXtmb3IodmFyIGM9MDtjPHU7Yys9cil0aGlzLl9kb1Byb2Nlc3NCbG9jayhvLGMpO2U9by5zcGxpY2UoMCx1KSxuLnNpZ0J5dGVzLT1zfXJldHVybiBuZXcgaChlLHMpfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ZihvKGEucHJvdG90eXBlKSwiY2xvbmUiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLHR9fV0pLGF9KGwpKSxnPWZ1bmN0aW9uKGUpe3IoaSxlKTt2YXIgbz1jKGkpO2Z1bmN0aW9uIGkoZSxuKXt2YXIgcjt0KHRoaXMsaSkscj1vLmNhbGwodGhpcyk7dmFyIGE9bmV3IGU7ci5faGFzaGVyPWE7dmFyIHU9bjsic3RyaW5nIj09dHlwZW9mIHUmJih1PXAodSkpO3ZhciBzPWEuYmxvY2tTaXplLGM9NCpzO3Uuc2lnQnl0ZXM+YyYmKHU9YS5maW5hbGl6ZShuKSksdS5jbGFtcCgpO3ZhciBmPXUuY2xvbmUoKTtyLl9vS2V5PWY7dmFyIGw9dS5jbG9uZSgpO3IuX2lLZXk9bDtmb3IodmFyIGg9Zi53b3Jkcyx2PWwud29yZHMseT0wO3k8czt5Kz0xKWhbeV1ePTE1NDk1NTY4Mjgsdlt5XV49OTA5NTIyNDg2O3JldHVybiBmLnNpZ0J5dGVzPWMsbC5zaWdCeXRlcz1jLHIucmVzZXQoKSxyfXJldHVybiBuKGksW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2hhc2hlcjt0LnJlc2V0KCksdC51cGRhdGUodGhpcy5faUtleSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9oYXNoZXIudXBkYXRlKHQpLHRoaXN9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faGFzaGVyLG49ZS5maW5hbGl6ZSh0KTtyZXR1cm4gZS5yZXNldCgpLGUuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdChuKSl9fV0pLGl9KGwpLF89W10sdz1mdW5jdGlvbihlKXtyKGEsZSk7dmFyIGk9YyhhKTtmdW5jdGlvbiBhKCl7cmV0dXJuIHQodGhpcyxhKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbihhLFt7a2V5OiJfZG9SZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBoKFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfX0se2tleToiX2RvUHJvY2Vzc0Jsb2NrIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9oYXNoLndvcmRzLHI9blswXSxvPW5bMV0saT1uWzJdLGE9blszXSx1PW5bNF0scz0wO3M8ODA7cys9MSl7aWYoczwxNilfW3NdPTB8dFtlK3NdO2Vsc2V7dmFyIGM9X1tzLTNdXl9bcy04XV5fW3MtMTRdXl9bcy0xNl07X1tzXT1jPDwxfGM+Pj4zMX12YXIgZj0ocjw8NXxyPj4+MjcpK3UrX1tzXTtmKz1zPDIwPzE1MTg1MDAyNDkrKG8maXx+byZhKTpzPDQwPzE4NTk3NzUzOTMrKG9eaV5hKTpzPDYwPyhvJml8byZhfGkmYSktMTg5NDAwNzU4ODoob15pXmEpLTg5OTQ5NzUxNCx1PWEsYT1pLGk9bzw8MzB8bz4+PjIsbz1yLHI9Zn1uWzBdPW5bMF0rcnwwLG5bMV09blsxXStvfDAsblsyXT1uWzJdK2l8MCxuWzNdPW5bM10rYXwwLG5bNF09bls0XSt1fDB9fSx7a2V5OiJfZG9GaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dC53b3JkcyxuPTgqdGhpcy5fbkRhdGFCeXRlcyxyPTgqdC5zaWdCeXRlcztyZXR1cm4gZVtyPj4+NV18PTEyODw8MjQtciUzMixlWzE0KyhyKzY0Pj4+OTw8NCldPU1hdGguZmxvb3Iobi80Mjk0OTY3Mjk2KSxlWzE1KyhyKzY0Pj4+OTw8NCldPW4sdC5zaWdCeXRlcz00KmUubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ZihvKGEucHJvdG90eXBlKSwiY2xvbmUiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fV0pLGF9KGQpO2QuX2NyZWF0ZUhlbHBlcih3KSxkLl9jcmVhdGVIbWFjSGVscGVyKHcpO3ZhciBiLGs9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt2YXIgZT10LndvcmRzLG49dC5zaWdCeXRlcyxyPXRoaXMuX21hcDt0LmNsYW1wKCk7Zm9yKHZhciBvPVtdLGk9MDtpPG47aSs9Mylmb3IodmFyIGE9KGVbaT4+PjJdPj4+MjQtaSU0KjgmMjU1KTw8MTZ8KGVbaSsxPj4+Ml0+Pj4yNC0oaSsxKSU0KjgmMjU1KTw8OHxlW2krMj4+PjJdPj4+MjQtKGkrMiklNCo4JjI1NSx1PTA7dTw0JiZpKy43NSp1PG47dSs9MSlvLnB1c2goci5jaGFyQXQoYT4+PjYqKDMtdSkmNjMpKTt2YXIgcz1yLmNoYXJBdCg2NCk7aWYocylmb3IoO28ubGVuZ3RoJTQ7KW8ucHVzaChzKTtyZXR1cm4gby5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj10aGlzLl9tYXAscj10aGlzLl9yZXZlcnNlTWFwO2lmKCFyKXt0aGlzLl9yZXZlcnNlTWFwPVtdLHI9dGhpcy5fcmV2ZXJzZU1hcDtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rPTEpcltuLmNoYXJDb2RlQXQobyldPW99dmFyIGk9bi5jaGFyQXQoNjQpO2lmKGkpe3ZhciBhPXQuaW5kZXhPZihpKTstMSE9PWEmJihlPWEpfXJldHVybiBmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLG89MCxpPTA7aTxlO2krPTEpaWYoaSU0KXt2YXIgYT1uW3QuY2hhckNvZGVBdChpLTEpXTw8aSU0KjJ8blt0LmNoYXJDb2RlQXQoaSldPj4+Ni1pJTQqMjtyW28+Pj4yXXw9YTw8MjQtbyU0Kjgsbys9MX1yZXR1cm4gaC5jcmVhdGUocixvKX0odCxlLHIpfSxfbWFwOiJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSJ9LG09InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTsoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxlKXt2YXIgbj0oNjU1MzUmdCkrKDY1NTM1JmUpO3JldHVybih0Pj4xNikrKGU+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHIodCxlLHIsbyxpLGEpe3JldHVybiBuKCh1PW4obihlLHQpLG4obyxhKSkpPDwocz1pKXx1Pj4+MzItcyxyKTt2YXIgdSxzfWZ1bmN0aW9uIG8odCxlLG4sbyxpLGEsdSl7cmV0dXJuIHIoZSZufH5lJm8sdCxlLGksYSx1KX1mdW5jdGlvbiBpKHQsZSxuLG8saSxhLHUpe3JldHVybiByKGUmb3xuJn5vLHQsZSxpLGEsdSl9ZnVuY3Rpb24gYSh0LGUsbixvLGksYSx1KXtyZXR1cm4gcihlXm5ebyx0LGUsaSxhLHUpfWZ1bmN0aW9uIHUodCxlLG4sbyxpLGEsdSl7cmV0dXJuIHIobl4oZXx+byksdCxlLGksYSx1KX1mdW5jdGlvbiBzKHQsZSl7dmFyIHIscyxjLGYsbDt0W2U+PjVdfD0xMjg8PGUlMzIsdFsxNCsoZSs2ND4+Pjk8PDQpXT1lO3ZhciBoPTE3MzI1ODQxOTMsdj0tMjcxNzMzODc5LHk9LTE3MzI1ODQxOTQscD0yNzE3MzM4Nzg7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrPTE2KXM9aCxjPXYsZj15LGw9cCxoPW8oaCx2LHkscCx0W3JdLDcsLTY4MDg3NjkzNikscD1vKHAsaCx2LHksdFtyKzFdLDEyLC0zODk1NjQ1ODYpLHk9byh5LHAsaCx2LHRbcisyXSwxNyw2MDYxMDU4MTkpLHY9byh2LHkscCxoLHRbciszXSwyMiwtMTA0NDUyNTMzMCksaD1vKGgsdix5LHAsdFtyKzRdLDcsLTE3NjQxODg5NykscD1vKHAsaCx2LHksdFtyKzVdLDEyLDEyMDAwODA0MjYpLHk9byh5LHAsaCx2LHRbcis2XSwxNywtMTQ3MzIzMTM0MSksdj1vKHYseSxwLGgsdFtyKzddLDIyLC00NTcwNTk4MyksaD1vKGgsdix5LHAsdFtyKzhdLDcsMTc3MDAzNTQxNikscD1vKHAsaCx2LHksdFtyKzldLDEyLC0xOTU4NDE0NDE3KSx5PW8oeSxwLGgsdix0W3IrMTBdLDE3LC00MjA2Myksdj1vKHYseSxwLGgsdFtyKzExXSwyMiwtMTk5MDQwNDE2MiksaD1vKGgsdix5LHAsdFtyKzEyXSw3LDE4MDQ2MDM2ODIpLHA9byhwLGgsdix5LHRbcisxM10sMTIsLTQwMzQxMTAxKSx5PW8oeSxwLGgsdix0W3IrMTRdLDE3LC0xNTAyMDAyMjkwKSxoPWkoaCx2PW8odix5LHAsaCx0W3IrMTVdLDIyLDEyMzY1MzUzMjkpLHkscCx0W3IrMV0sNSwtMTY1Nzk2NTEwKSxwPWkocCxoLHYseSx0W3IrNl0sOSwtMTA2OTUwMTYzMikseT1pKHkscCxoLHYsdFtyKzExXSwxNCw2NDM3MTc3MTMpLHY9aSh2LHkscCxoLHRbcl0sMjAsLTM3Mzg5NzMwMiksaD1pKGgsdix5LHAsdFtyKzVdLDUsLTcwMTU1ODY5MSkscD1pKHAsaCx2LHksdFtyKzEwXSw5LDM4MDE2MDgzKSx5PWkoeSxwLGgsdix0W3IrMTVdLDE0LC02NjA0NzgzMzUpLHY9aSh2LHkscCxoLHRbcis0XSwyMCwtNDA1NTM3ODQ4KSxoPWkoaCx2LHkscCx0W3IrOV0sNSw1Njg0NDY0MzgpLHA9aShwLGgsdix5LHRbcisxNF0sOSwtMTAxOTgwMzY5MCkseT1pKHkscCxoLHYsdFtyKzNdLDE0LC0xODczNjM5NjEpLHY9aSh2LHkscCxoLHRbcis4XSwyMCwxMTYzNTMxNTAxKSxoPWkoaCx2LHkscCx0W3IrMTNdLDUsLTE0NDQ2ODE0NjcpLHA9aShwLGgsdix5LHRbcisyXSw5LC01MTQwMzc4NCkseT1pKHkscCxoLHYsdFtyKzddLDE0LDE3MzUzMjg0NzMpLGg9YShoLHY9aSh2LHkscCxoLHRbcisxMl0sMjAsLTE5MjY2MDc3MzQpLHkscCx0W3IrNV0sNCwtMzc4NTU4KSxwPWEocCxoLHYseSx0W3IrOF0sMTEsLTIwMjI1NzQ0NjMpLHk9YSh5LHAsaCx2LHRbcisxMV0sMTYsMTgzOTAzMDU2Miksdj1hKHYseSxwLGgsdFtyKzE0XSwyMywtMzUzMDk1NTYpLGg9YShoLHYseSxwLHRbcisxXSw0LC0xNTMwOTkyMDYwKSxwPWEocCxoLHYseSx0W3IrNF0sMTEsMTI3Mjg5MzM1MykseT1hKHkscCxoLHYsdFtyKzddLDE2LC0xNTU0OTc2MzIpLHY9YSh2LHkscCxoLHRbcisxMF0sMjMsLTEwOTQ3MzA2NDApLGg9YShoLHYseSxwLHRbcisxM10sNCw2ODEyNzkxNzQpLHA9YShwLGgsdix5LHRbcl0sMTEsLTM1ODUzNzIyMikseT1hKHkscCxoLHYsdFtyKzNdLDE2LC03MjI1MjE5NzkpLHY9YSh2LHkscCxoLHRbcis2XSwyMyw3NjAyOTE4OSksaD1hKGgsdix5LHAsdFtyKzldLDQsLTY0MDM2NDQ4NykscD1hKHAsaCx2LHksdFtyKzEyXSwxMSwtNDIxODE1ODM1KSx5PWEoeSxwLGgsdix0W3IrMTVdLDE2LDUzMDc0MjUyMCksaD11KGgsdj1hKHYseSxwLGgsdFtyKzJdLDIzLC05OTUzMzg2NTEpLHkscCx0W3JdLDYsLTE5ODYzMDg0NCkscD11KHAsaCx2LHksdFtyKzddLDEwLDExMjY4OTE0MTUpLHk9dSh5LHAsaCx2LHRbcisxNF0sMTUsLTE0MTYzNTQ5MDUpLHY9dSh2LHkscCxoLHRbcis1XSwyMSwtNTc0MzQwNTUpLGg9dShoLHYseSxwLHRbcisxMl0sNiwxNzAwNDg1NTcxKSxwPXUocCxoLHYseSx0W3IrM10sMTAsLTE4OTQ5ODY2MDYpLHk9dSh5LHAsaCx2LHRbcisxMF0sMTUsLTEwNTE1MjMpLHY9dSh2LHkscCxoLHRbcisxXSwyMSwtMjA1NDkyMjc5OSksaD11KGgsdix5LHAsdFtyKzhdLDYsMTg3MzMxMzM1OSkscD11KHAsaCx2LHksdFtyKzE1XSwxMCwtMzA2MTE3NDQpLHk9dSh5LHAsaCx2LHRbcis2XSwxNSwtMTU2MDE5ODM4MCksdj11KHYseSxwLGgsdFtyKzEzXSwyMSwxMzA5MTUxNjQ5KSxoPXUoaCx2LHkscCx0W3IrNF0sNiwtMTQ1NTIzMDcwKSxwPXUocCxoLHYseSx0W3IrMTFdLDEwLC0xMTIwMjEwMzc5KSx5PXUoeSxwLGgsdix0W3IrMl0sMTUsNzE4Nzg3MjU5KSx2PXUodix5LHAsaCx0W3IrOV0sMjEsLTM0MzQ4NTU1MSksaD1uKGgscyksdj1uKHYsYykseT1uKHksZikscD1uKHAsbCk7cmV0dXJuW2gsdix5LHBdfWZ1bmN0aW9uIGModCl7dmFyIGUsbj0iIixyPTMyKnQubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTgpbis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W2U+PjVdPj4+ZSUzMiYyNTUpO3JldHVybiBufWZ1bmN0aW9uIGYodCl7dmFyIGUsbj1bXTtmb3IoblsodC5sZW5ndGg+PjIpLTFdPXZvaWQgMCxlPTA7ZTxuLmxlbmd0aDtlKz0xKW5bZV09MDt2YXIgcj04KnQubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTgpbltlPj41XXw9KDI1NSZ0LmNoYXJDb2RlQXQoZS84KSk8PGUlMzI7cmV0dXJuIG59ZnVuY3Rpb24gbCh0KXt2YXIgZSxuLHI9IjAxMjM0NTY3ODlhYmNkZWYiLG89IiI7Zm9yKG49MDtuPHQubGVuZ3RoO24rPTEpZT10LmNoYXJDb2RlQXQobiksbys9ci5jaGFyQXQoZT4+PjQmMTUpK3IuY2hhckF0KDE1JmUpO3JldHVybiBvfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSl9ZnVuY3Rpb24gdih0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGMocyhmKHQpLDgqdC5sZW5ndGgpKX0oaCh0KSl9ZnVuY3Rpb24geSh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuLHIsbz1mKHQpLGk9W10sYT1bXTtmb3IoaVsxNV09YVsxNV09dm9pZCAwLG8ubGVuZ3RoPjE2JiYobz1zKG8sOCp0Lmxlbmd0aCkpLG49MDtuPDE2O24rPTEpaVtuXT05MDk1MjI0ODZeb1tuXSxhW25dPTE1NDk1NTY4Mjheb1tuXTtyZXR1cm4gcj1zKGkuY29uY2F0KGYoZSkpLDUxMis4KmUubGVuZ3RoKSxjKHMoYS5jb25jYXQociksNjQwKSl9KGgodCksaChlKSl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIGU/bj95KGUsdCk6bCh5KGUsdCkpOm4/dih0KTpsKHYodCkpfXQuZXhwb3J0cz90LmV4cG9ydHM9cDplLm1kNT1wfShtKX0pKGI9e2V4cG9ydHM6e319LGIuZXhwb3J0cyksb25tZXNzYWdlPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiBrLnN0cmluZ2lmeShwKHQpKX0odC5kYXRhKTtzZWxmLnBvc3RNZXNzYWdlKGUpLHNlbGYuY2xvc2UoKX19KCk7Cgo=")
  , WorkerFactory = createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBuKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH1mdW5jdGlvbiByKHQsZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJmkodCxlKX1mdW5jdGlvbiBvKHQpe3JldHVybihvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGEoKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIHUodCxlLG4pe3JldHVybih1PWEoKT9SZWZsZWN0LmNvbnN0cnVjdDpmdW5jdGlvbih0LGUsbil7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZpKG8sbi5wcm90b3R5cGUpLG99KS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiFlfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlP2Z1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH0odCk6ZX1mdW5jdGlvbiBjKHQpe3ZhciBlPWEoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPW8odCk7aWYoZSl7dmFyIGk9byh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLGkpfWVsc2Ugbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcyh0aGlzLG4pfX1mdW5jdGlvbiBmKHQsZSxuKXtyZXR1cm4oZj0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9byh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwobik6aS52YWx1ZX19KSh0LGUsbnx8dCl9dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dCh0aGlzLGUpfXJldHVybiBuKGUsW3trZXk6Im1peEluIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLHQpfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx0aGlzKSx0fX1dLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHUodGhpcyxlKX19XSksZX0oKSxoPWZ1bmN0aW9uKGUpe3IoYSxlKTt2YXIgaT1jKGEpO2Z1bmN0aW9uIGEoKXt2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo0Km4ubGVuZ3RoO3QodGhpcyxhKSxlPWkuY2FsbCh0aGlzKTt2YXIgbz1uO2lmKG8gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKG89bmV3IFVpbnQ4QXJyYXkobykpLChvIGluc3RhbmNlb2YgSW50OEFycmF5fHxvIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fG8gaW5zdGFuY2VvZiBJbnQxNkFycmF5fHxvIGluc3RhbmNlb2YgVWludDE2QXJyYXl8fG8gaW5zdGFuY2VvZiBJbnQzMkFycmF5fHxvIGluc3RhbmNlb2YgVWludDMyQXJyYXl8fG8gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fG8gaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpJiYobz1uZXcgVWludDhBcnJheShvLmJ1ZmZlcixvLmJ5dGVPZmZzZXQsby5ieXRlTGVuZ3RoKSksbyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2Zvcih2YXIgdT1vLmJ5dGVMZW5ndGgscz1bXSxjPTA7Yzx1O2MrPTEpc1tjPj4+Ml18PW9bY108PDI0LWMlNCo4O2Uud29yZHM9cyxlLnNpZ0J5dGVzPXV9ZWxzZSBlLndvcmRzPW4sZS5zaWdCeXRlcz1yO3JldHVybiBlfXJldHVybiBuKGEsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2O3JldHVybiB0LnN0cmluZ2lmeSh0aGlzKX19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JkcyxuPXQud29yZHMscj10aGlzLnNpZ0J5dGVzLG89dC5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksciU0KWZvcih2YXIgaT0wO2k8bztpKz0xKXt2YXIgYT1uW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtlW3IraT4+PjJdfD1hPDwyNC0ocitpKSU0Kjh9ZWxzZSBmb3IodmFyIHU9MDt1PG87dSs9NCllW3IrdT4+PjJdPW5bdT4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1vLHRoaXN9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndvcmRzLGU9dGhpcy5zaWdCeXRlczt0W2U+Pj4yXSY9NDI5NDk2NzI5NTw8MzItZSU0KjgsdC5sZW5ndGg9TWF0aC5jZWlsKGUvNCl9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1mKG8oYS5wcm90b3R5cGUpLCJjbG9uZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdC53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHR9fV0sW3trZXk6InJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj1mdW5jdGlvbih0KXt2YXIgZT10LG49OTg3NjU0MzIxLHI9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0oKG49MzY5NjkqKDY1NTM1Jm4pKyhuPj4xNikmcik8PDE2KSsoZT0xOGUzKig2NTUzNSZlKSsoZT4+MTYpJnIpJnI7cmV0dXJuIHQvPTQyOTQ5NjcyOTYsKHQrPS41KSooTWF0aC5yYW5kb20oKT4uNT8xOi0xKX19LG89MDtvPHQ7bys9NCl7dmFyIGk9cig0Mjk0OTY3Mjk2KihlfHxNYXRoLnJhbmRvbSgpKSk7ZT05ODc2NTQwNzEqaSgpLG4ucHVzaCg0Mjk0OTY3Mjk2KmkoKXwwKX1yZXR1cm4gbmV3IGEobix0KX19XSksYX0obCksdj17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLG49dC5zaWdCeXRlcyxyPVtdLG89MDtvPG47bys9MSl7dmFyIGk9ZVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7ci5wdXNoKChpPj4+NCkudG9TdHJpbmcoMTYpKSxyLnB1c2goKDE1JmkpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHIuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPVtdLHI9MDtyPGU7cis9MiluW3I+Pj4zXXw9cGFyc2VJbnQodC5zdWJzdHIociwyKSwxNik8PDI0LXIlOCo0O3JldHVybiBuZXcgaChuLGUvMil9fSxwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLG49dC5zaWdCeXRlcyxyPVtdLG89MDtvPG47bys9MSl7dmFyIGk9ZVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpfXJldHVybiByLmpvaW4oIiIpfSx5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPVtdLHI9MDtyPGU7cis9MSluW3I+Pj4yXXw9KDI1NSZ0LmNoYXJDb2RlQXQocikpPDwyNC1yJTQqODtyZXR1cm4gbmV3IGgobixlKX0sZD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUocCh0KSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LGc9ZnVuY3Rpb24odCl7cmV0dXJuIHkodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSl9LF89ZnVuY3Rpb24oZSl7cihhLGUpO3ZhciBpPWMoYSk7ZnVuY3Rpb24gYShlKXt2YXIgbjtyZXR1cm4gdCh0aGlzLGEpLChuPWkuY2FsbCh0aGlzKSkuYmxvY2tTaXplPTE2LG4uY2ZnPU9iamVjdC5hc3NpZ24obmV3IGwsZSksbi5yZXNldCgpLG59cmV0dXJuIG4oYSxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7ZihvKGEucHJvdG90eXBlKSwicmVzZXQiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9hcHBlbmQodCksdGhpcy5fZG9GaW5hbGl6ZSgpfX1dLFt7a2V5OiJfY3JlYXRlSGVscGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHQobikuZmluYWxpemUoZSl9fX0se2tleToiX2NyZWF0ZUhtYWNIZWxwZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdyh0LG4pLmZpbmFsaXplKGUpfX19XSksYX0oZnVuY3Rpb24oZSl7cihhLGUpO3ZhciBpPWMoYSk7ZnVuY3Rpb24gYSgpe3ZhciBlO3JldHVybiB0KHRoaXMsYSksKGU9aS5jYWxsKHRoaXMpKS5fbWluQnVmZmVyU2l6ZT0wLGV9cmV0dXJuIG4oYSxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgaCx0aGlzLl9uRGF0YUJ5dGVzPTB9fSx7a2V5OiJfYXBwZW5kIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10OyJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZyhlKSksdGhpcy5fZGF0YS5jb25jYXQoZSksdGhpcy5fbkRhdGFCeXRlcys9ZS5zaWdCeXRlc319LHtrZXk6Il9wcm9jZXNzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuX2RhdGEscj10aGlzLmJsb2NrU2l6ZSxvPW4ud29yZHMsaT1uLnNpZ0J5dGVzLGE9aS8oNCpyKSx1PShhPXQ/TWF0aC5jZWlsKGEpOk1hdGgubWF4KCgwfGEpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKnIscz1NYXRoLm1pbig0KnUsaSk7aWYodSl7Zm9yKHZhciBjPTA7Yzx1O2MrPXIpdGhpcy5fZG9Qcm9jZXNzQmxvY2sobyxjKTtlPW8uc3BsaWNlKDAsdSksbi5zaWdCeXRlcy09c31yZXR1cm4gbmV3IGgoZSxzKX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWYobyhhLnByb3RvdHlwZSksImNsb25lIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiB0Ll9kYXRhPXRoaXMuX2RhdGEuY2xvbmUoKSx0fX1dKSxhfShsKSksdz1mdW5jdGlvbihlKXtyKGksZSk7dmFyIG89YyhpKTtmdW5jdGlvbiBpKGUsbil7dmFyIHI7dCh0aGlzLGkpLHI9by5jYWxsKHRoaXMpO3ZhciBhPW5ldyBlO3IuX2hhc2hlcj1hO3ZhciB1PW47InN0cmluZyI9PXR5cGVvZiB1JiYodT1nKHUpKTt2YXIgcz1hLmJsb2NrU2l6ZSxjPTQqczt1LnNpZ0J5dGVzPmMmJih1PWEuZmluYWxpemUobikpLHUuY2xhbXAoKTt2YXIgZj11LmNsb25lKCk7ci5fb0tleT1mO3ZhciBsPXUuY2xvbmUoKTtyLl9pS2V5PWw7Zm9yKHZhciBoPWYud29yZHMsdj1sLndvcmRzLHA9MDtwPHM7cCs9MSloW3BdXj0xNTQ5NTU2ODI4LHZbcF1ePTkwOTUyMjQ4NjtyZXR1cm4gZi5zaWdCeXRlcz1jLGwuc2lnQnl0ZXM9YyxyLnJlc2V0KCkscn1yZXR1cm4gbihpLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oYXNoZXI7dC5yZXNldCgpLHQudXBkYXRlKHRoaXMuX2lLZXkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faGFzaGVyLnVwZGF0ZSh0KSx0aGlzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2hhc2hlcixuPWUuZmluYWxpemUodCk7cmV0dXJuIGUucmVzZXQoKSxlLmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQobikpfX1dKSxpfShsKSxiPVtdLGs9ZnVuY3Rpb24oZSl7cihhLGUpO3ZhciBpPWMoYSk7ZnVuY3Rpb24gYSgpe3JldHVybiB0KHRoaXMsYSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4oYSxbe2tleToiX2RvUmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgaChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX19LHtrZXk6Il9kb1Byb2Nlc3NCbG9jayIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5faGFzaC53b3JkcyxyPW5bMF0sbz1uWzFdLGk9blsyXSxhPW5bM10sdT1uWzRdLHM9MDtzPDgwO3MrPTEpe2lmKHM8MTYpYltzXT0wfHRbZStzXTtlbHNle3ZhciBjPWJbcy0zXV5iW3MtOF1eYltzLTE0XV5iW3MtMTZdO2Jbc109Yzw8MXxjPj4+MzF9dmFyIGY9KHI8PDV8cj4+PjI3KSt1K2Jbc107Zis9czwyMD8xNTE4NTAwMjQ5KyhvJml8fm8mYSk6czw0MD8xODU5Nzc1MzkzKyhvXmleYSk6czw2MD8obyZpfG8mYXxpJmEpLTE4OTQwMDc1ODg6KG9eaV5hKS04OTk0OTc1MTQsdT1hLGE9aSxpPW88PDMwfG8+Pj4yLG89cixyPWZ9blswXT1uWzBdK3J8MCxuWzFdPW5bMV0rb3wwLG5bMl09blsyXStpfDAsblszXT1uWzNdK2F8MCxuWzRdPW5bNF0rdXwwfX0se2tleToiX2RvRmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXQud29yZHMsbj04KnRoaXMuX25EYXRhQnl0ZXMscj04KnQuc2lnQnl0ZXM7cmV0dXJuIGVbcj4+PjVdfD0xMjg8PDI0LXIlMzIsZVsxNCsocis2ND4+Pjk8PDQpXT1NYXRoLmZsb29yKG4vNDI5NDk2NzI5NiksZVsxNSsocis2ND4+Pjk8PDQpXT1uLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWYobyhhLnByb3RvdHlwZSksImNsb25lIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX1dKSxhfShfKTtfLl9jcmVhdGVIZWxwZXIoayksXy5fY3JlYXRlSG1hY0hlbHBlcihrKTt2YXIgbSxCPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGU9dC53b3JkcyxuPXQuc2lnQnl0ZXMscj10aGlzLl9tYXA7dC5jbGFtcCgpO2Zvcih2YXIgbz1bXSxpPTA7aTxuO2krPTMpZm9yKHZhciBhPShlW2k+Pj4yXT4+PjI0LWklNCo4JjI1NSk8PDE2fChlW2krMT4+PjJdPj4+MjQtKGkrMSklNCo4JjI1NSk8PDh8ZVtpKzI+Pj4yXT4+PjI0LShpKzIpJTQqOCYyNTUsdT0wO3U8NCYmaSsuNzUqdTxuO3UrPTEpby5wdXNoKHIuY2hhckF0KGE+Pj42KigzLXUpJjYzKSk7dmFyIHM9ci5jaGFyQXQoNjQpO2lmKHMpZm9yKDtvLmxlbmd0aCU0OylvLnB1c2gocyk7cmV0dXJuIG8uam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49dGhpcy5fbWFwLHI9dGhpcy5fcmV2ZXJzZU1hcDtpZighcil7dGhpcy5fcmV2ZXJzZU1hcD1bXSxyPXRoaXMuX3JldmVyc2VNYXA7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKz0xKXJbbi5jaGFyQ29kZUF0KG8pXT1vfXZhciBpPW4uY2hhckF0KDY0KTtpZihpKXt2YXIgYT10LmluZGV4T2YoaSk7LTEhPT1hJiYoZT1hKX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxvPTAsaT0wO2k8ZTtpKz0xKWlmKGklNCl7dmFyIGE9blt0LmNoYXJDb2RlQXQoaS0xKV08PGklNCoyfG5bdC5jaGFyQ29kZUF0KGkpXT4+PjYtaSU0KjI7cltvPj4+Ml18PWE8PDI0LW8lNCo4LG8rPTF9cmV0dXJuIGguY3JlYXRlKHIsbyl9KHQsZSxyKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifSxBPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49KDY1NTM1JnQpKyg2NTUzNSZlKTtyZXR1cm4odD4+MTYpKyhlPj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiByKHQsZSxyLG8saSxhKXtyZXR1cm4gbigodT1uKG4oZSx0KSxuKG8sYSkpKTw8KHM9aSl8dT4+PjMyLXMscik7dmFyIHUsc31mdW5jdGlvbiBvKHQsZSxuLG8saSxhLHUpe3JldHVybiByKGUmbnx+ZSZvLHQsZSxpLGEsdSl9ZnVuY3Rpb24gaSh0LGUsbixvLGksYSx1KXtyZXR1cm4gcihlJm98biZ+byx0LGUsaSxhLHUpfWZ1bmN0aW9uIGEodCxlLG4sbyxpLGEsdSl7cmV0dXJuIHIoZV5uXm8sdCxlLGksYSx1KX1mdW5jdGlvbiB1KHQsZSxuLG8saSxhLHUpe3JldHVybiByKG5eKGV8fm8pLHQsZSxpLGEsdSl9ZnVuY3Rpb24gcyh0LGUpe3ZhciByLHMsYyxmLGw7dFtlPj41XXw9MTI4PDxlJTMyLHRbMTQrKGUrNjQ+Pj45PDw0KV09ZTt2YXIgaD0xNzMyNTg0MTkzLHY9LTI3MTczMzg3OSxwPS0xNzMyNTg0MTk0LHk9MjcxNzMzODc4O2ZvcihyPTA7cjx0Lmxlbmd0aDtyKz0xNilzPWgsYz12LGY9cCxsPXksaD1vKGgsdixwLHksdFtyXSw3LC02ODA4NzY5MzYpLHk9byh5LGgsdixwLHRbcisxXSwxMiwtMzg5NTY0NTg2KSxwPW8ocCx5LGgsdix0W3IrMl0sMTcsNjA2MTA1ODE5KSx2PW8odixwLHksaCx0W3IrM10sMjIsLTEwNDQ1MjUzMzApLGg9byhoLHYscCx5LHRbcis0XSw3LC0xNzY0MTg4OTcpLHk9byh5LGgsdixwLHRbcis1XSwxMiwxMjAwMDgwNDI2KSxwPW8ocCx5LGgsdix0W3IrNl0sMTcsLTE0NzMyMzEzNDEpLHY9byh2LHAseSxoLHRbcis3XSwyMiwtNDU3MDU5ODMpLGg9byhoLHYscCx5LHRbcis4XSw3LDE3NzAwMzU0MTYpLHk9byh5LGgsdixwLHRbcis5XSwxMiwtMTk1ODQxNDQxNykscD1vKHAseSxoLHYsdFtyKzEwXSwxNywtNDIwNjMpLHY9byh2LHAseSxoLHRbcisxMV0sMjIsLTE5OTA0MDQxNjIpLGg9byhoLHYscCx5LHRbcisxMl0sNywxODA0NjAzNjgyKSx5PW8oeSxoLHYscCx0W3IrMTNdLDEyLC00MDM0MTEwMSkscD1vKHAseSxoLHYsdFtyKzE0XSwxNywtMTUwMjAwMjI5MCksaD1pKGgsdj1vKHYscCx5LGgsdFtyKzE1XSwyMiwxMjM2NTM1MzI5KSxwLHksdFtyKzFdLDUsLTE2NTc5NjUxMCkseT1pKHksaCx2LHAsdFtyKzZdLDksLTEwNjk1MDE2MzIpLHA9aShwLHksaCx2LHRbcisxMV0sMTQsNjQzNzE3NzEzKSx2PWkodixwLHksaCx0W3JdLDIwLC0zNzM4OTczMDIpLGg9aShoLHYscCx5LHRbcis1XSw1LC03MDE1NTg2OTEpLHk9aSh5LGgsdixwLHRbcisxMF0sOSwzODAxNjA4MykscD1pKHAseSxoLHYsdFtyKzE1XSwxNCwtNjYwNDc4MzM1KSx2PWkodixwLHksaCx0W3IrNF0sMjAsLTQwNTUzNzg0OCksaD1pKGgsdixwLHksdFtyKzldLDUsNTY4NDQ2NDM4KSx5PWkoeSxoLHYscCx0W3IrMTRdLDksLTEwMTk4MDM2OTApLHA9aShwLHksaCx2LHRbciszXSwxNCwtMTg3MzYzOTYxKSx2PWkodixwLHksaCx0W3IrOF0sMjAsMTE2MzUzMTUwMSksaD1pKGgsdixwLHksdFtyKzEzXSw1LC0xNDQ0NjgxNDY3KSx5PWkoeSxoLHYscCx0W3IrMl0sOSwtNTE0MDM3ODQpLHA9aShwLHksaCx2LHRbcis3XSwxNCwxNzM1MzI4NDczKSxoPWEoaCx2PWkodixwLHksaCx0W3IrMTJdLDIwLC0xOTI2NjA3NzM0KSxwLHksdFtyKzVdLDQsLTM3ODU1OCkseT1hKHksaCx2LHAsdFtyKzhdLDExLC0yMDIyNTc0NDYzKSxwPWEocCx5LGgsdix0W3IrMTFdLDE2LDE4MzkwMzA1NjIpLHY9YSh2LHAseSxoLHRbcisxNF0sMjMsLTM1MzA5NTU2KSxoPWEoaCx2LHAseSx0W3IrMV0sNCwtMTUzMDk5MjA2MCkseT1hKHksaCx2LHAsdFtyKzRdLDExLDEyNzI4OTMzNTMpLHA9YShwLHksaCx2LHRbcis3XSwxNiwtMTU1NDk3NjMyKSx2PWEodixwLHksaCx0W3IrMTBdLDIzLC0xMDk0NzMwNjQwKSxoPWEoaCx2LHAseSx0W3IrMTNdLDQsNjgxMjc5MTc0KSx5PWEoeSxoLHYscCx0W3JdLDExLC0zNTg1MzcyMjIpLHA9YShwLHksaCx2LHRbciszXSwxNiwtNzIyNTIxOTc5KSx2PWEodixwLHksaCx0W3IrNl0sMjMsNzYwMjkxODkpLGg9YShoLHYscCx5LHRbcis5XSw0LC02NDAzNjQ0ODcpLHk9YSh5LGgsdixwLHRbcisxMl0sMTEsLTQyMTgxNTgzNSkscD1hKHAseSxoLHYsdFtyKzE1XSwxNiw1MzA3NDI1MjApLGg9dShoLHY9YSh2LHAseSxoLHRbcisyXSwyMywtOTk1MzM4NjUxKSxwLHksdFtyXSw2LC0xOTg2MzA4NDQpLHk9dSh5LGgsdixwLHRbcis3XSwxMCwxMTI2ODkxNDE1KSxwPXUocCx5LGgsdix0W3IrMTRdLDE1LC0xNDE2MzU0OTA1KSx2PXUodixwLHksaCx0W3IrNV0sMjEsLTU3NDM0MDU1KSxoPXUoaCx2LHAseSx0W3IrMTJdLDYsMTcwMDQ4NTU3MSkseT11KHksaCx2LHAsdFtyKzNdLDEwLC0xODk0OTg2NjA2KSxwPXUocCx5LGgsdix0W3IrMTBdLDE1LC0xMDUxNTIzKSx2PXUodixwLHksaCx0W3IrMV0sMjEsLTIwNTQ5MjI3OTkpLGg9dShoLHYscCx5LHRbcis4XSw2LDE4NzMzMTMzNTkpLHk9dSh5LGgsdixwLHRbcisxNV0sMTAsLTMwNjExNzQ0KSxwPXUocCx5LGgsdix0W3IrNl0sMTUsLTE1NjAxOTgzODApLHY9dSh2LHAseSxoLHRbcisxM10sMjEsMTMwOTE1MTY0OSksaD11KGgsdixwLHksdFtyKzRdLDYsLTE0NTUyMzA3MCkseT11KHksaCx2LHAsdFtyKzExXSwxMCwtMTEyMDIxMDM3OSkscD11KHAseSxoLHYsdFtyKzJdLDE1LDcxODc4NzI1OSksdj11KHYscCx5LGgsdFtyKzldLDIxLC0zNDM0ODU1NTEpLGg9bihoLHMpLHY9bih2LGMpLHA9bihwLGYpLHk9bih5LGwpO3JldHVybltoLHYscCx5XX1mdW5jdGlvbiBjKHQpe3ZhciBlLG49IiIscj0zMip0Lmxlbmd0aDtmb3IoZT0wO2U8cjtlKz04KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUodFtlPj41XT4+PmUlMzImMjU1KTtyZXR1cm4gbn1mdW5jdGlvbiBmKHQpe3ZhciBlLG49W107Zm9yKG5bKHQubGVuZ3RoPj4yKS0xXT12b2lkIDAsZT0wO2U8bi5sZW5ndGg7ZSs9MSluW2VdPTA7dmFyIHI9OCp0Lmxlbmd0aDtmb3IoZT0wO2U8cjtlKz04KW5bZT4+NV18PSgyNTUmdC5jaGFyQ29kZUF0KGUvOCkpPDxlJTMyO3JldHVybiBufWZ1bmN0aW9uIGwodCl7dmFyIGUsbixyPSIwMTIzNDU2Nzg5YWJjZGVmIixvPSIiO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKz0xKWU9dC5jaGFyQ29kZUF0KG4pLG8rPXIuY2hhckF0KGU+Pj40JjE1KStyLmNoYXJBdCgxNSZlKTtyZXR1cm4gb31mdW5jdGlvbiBoKHQpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpfWZ1bmN0aW9uIHYodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBjKHMoZih0KSw4KnQubGVuZ3RoKSl9KGgodCkpfWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbixyLG89Zih0KSxpPVtdLGE9W107Zm9yKGlbMTVdPWFbMTVdPXZvaWQgMCxvLmxlbmd0aD4xNiYmKG89cyhvLDgqdC5sZW5ndGgpKSxuPTA7bjwxNjtuKz0xKWlbbl09OTA5NTIyNDg2Xm9bbl0sYVtuXT0xNTQ5NTU2ODI4Xm9bbl07cmV0dXJuIHI9cyhpLmNvbmNhdChmKGUpKSw1MTIrOCplLmxlbmd0aCksYyhzKGEuY29uY2F0KHIpLDY0MCkpfShoKHQpLGgoZSkpfWZ1bmN0aW9uIHkodCxlLG4pe3JldHVybiBlP24/cChlLHQpOmwocChlLHQpKTpuP3YodCk6bCh2KHQpKX10LmV4cG9ydHM/dC5leHBvcnRzPXk6ZS5tZDU9eX0oQSl9KShtPXtleHBvcnRzOnt9fSxtLmV4cG9ydHMpLG9ubWVzc2FnZT1mdW5jdGlvbih0KXt2YXIgZSxuPXQuZGF0YSxyPW4udHlwZSxvPW4uaW5mbzsiZW5jcnlwdCI9PT1yPyhvLmRhdGE9KGU9by5kYXRhLEIuc3RyaW5naWZ5KGcoZSkpKSxzZWxmLnBvc3RNZXNzYWdlKG8pKToiZGVjcnlwdCI9PT1yJiZzZWxmLnBvc3RNZXNzYWdlKEpTT04ucGFyc2UoZnVuY3Rpb24odCl7cmV0dXJuIGQoQi5wYXJzZSh0KSl9KG8pKSl9fSgpOwoK")
  , isInYoda = function() {
    var e;
    return "function" == typeof (null === (e = null == ssrGlobal ? void 0 : ssrGlobal.__yodaBridge__) || void 0 === e ? void 0 : e.invoke)
}
  , urlChangeEventId = "hashchange"
  , RiskMgt = function(_super) {
    function RiskMgt2(options) {
        var _this = _super.call(this) || this;
        _this.beginTime = performanceTiming && performanceTiming.fetchStart || (new Date).valueOf(),
        _this.options = {},
        _this.touchStartObject = {},
        _this.touchMoveObject = {},
        _this.mousedown = !1,
        _this.mouseDownObject = {},
        _this.mouseMoveArray = [],
        _this.logQueue = {},
        _this.reportUrl = "",
        _this.firstSend = !0,
        _this.encryptFailedFunc = function() {}
        ,
        _this.encryptSuccessFunc = function() {}
        ,
        _this.decryptFailedFunc = function() {}
        ,
        _this.decryptSuccessFunc = function() {}
        ,
        _this.auH = "",
        _this.rtcH = "",
        _this.rtcS = "",
        _this.ts = {},
        _this.cnt = 0,
        _this.loadTime = 0,
        _this.riskRadar = void 0,
        _this.location = {},
        _this.pers = [],
        _this.packageName = "",
        _this.mouseDownEvent = function(e) {
            _this.mousedown = !0,
            _this.mouseDownObject = _this.pickMouseEventProps(e),
            _this.ts.ms = (new Date).getTime()
        }
        ,
        _this.mouseMoveEvent = function(e) {
            _this.mousedown && (_this.mouseMoveArray.push(_this.pickMouseEventProps(e)),
            _this.ts.mm = (new Date).getTime())
        }
        ,
        _this.mouseUpEvent = function(e) {
            if (_this.mousedown) {
                var t = _this.pickMouseEventProps(e)
                  , n = {
                    mouseDown: {},
                    mouseMove: [],
                    mouseUp: {}
                };
                n.mouseDown = _this.mouseDownObject,
                n.mouseMove = _this.mouseMoveArray,
                n.mouseUp = t;
                var r = _this.dataFormat(e);
                if (r) {
                    var o;
                    o = 0 === _this.mouseMoveArray.length ? _this.generateModuleSection(_assign({
                        type: "CLICK",
                        timestamp: (new Date).valueOf()
                    }, r), "19") : _this.generateModuleSection(_assign(_assign({
                        type: "MOUSE",
                        timestamp: (new Date).valueOf()
                    }, r), {
                        mouseInfo: n
                    }), "22"),
                    _this.send(o)
                }
                _this.mousedown = !1,
                _this.mouseDownObject = {},
                _this.mouseMoveArray = [],
                _this.ts.me = (new Date).getTime()
            }
        }
        ,
        _this.pickMouseEventProps = function(e) {
            var t = e.clientX
              , n = e.clientY
              , r = e.altKey
              , o = e.button
              , i = e.buttons
              , a = e.ctrlKey
              , s = e.metaKey;
            e.pageX,
            e.pageY;
            var c = e.region
              , l = e.relatedTarget
              , u = e.shiftKey
              , p = e.which
              , d = e.webkitForce;
            return {
                clientX: Number(t.toFixed(2)),
                clientY: Number(n.toFixed(2)),
                altKey: r,
                button: o,
                buttons: i,
                ctrlKey: a,
                metaKey: s,
                pageX: Number(t.toFixed(2)),
                pageY: Number(n.toFixed(2)),
                region: c,
                relatedTarget: l,
                shiftKey: u,
                which: p,
                webkitForce: d,
                timestamp: (new Date).valueOf()
            }
        }
        ,
        _this.keyDownHandler = function(e) {
            var t;
            t = _this.generateModuleSection({
                type: "KEYBOARD",
                timestamp: (new Date).valueOf(),
                altKey: e.altKey,
                code: e.code,
                ctrlKey: e.ctrlKey,
                isComposing: e.isComposing,
                key: e.key,
                locale: e.locale || "",
                location: e.location,
                metaKey: e.metaKey,
                repeat: e.repeat,
                shiftKey: e.shiftKey
            }, "45"),
            _this.send(t)
        }
        ,
        _this.getConfig = function(e) {
            var t = {
                data: JSON.stringify({
                    device_id: _this.weblog.commonPackage.identity_package.device_id,
                    sdkver: RM_VERSION,
                    pver: "0.0.0",
                    hp: _this.options.bussType,
                    platform: 3
                }),
                flag: FLAG,
                url: getStrategyUrl(_this.options)
            };
            _this.encryptFailedFunc = function(e, t) {
                return function() {
                    var n = __rest(e, ["url"]);
                    n.data = encrypt(n.data),
                    _this.dataXhr(e, t)
                }
            }(t, e),
            _this.encryptSuccessFunc = function(e) {
                return function(t) {
                    _this.dataXhr(t, e)
                }
            }(e),
            _this.encryptDecryptWorker.postMessage({
                type: "encrypt",
                info: t
            })
        }
        ,
        _this.flush = function(e) {
            void 0 === e && (e = LoggerId),
            _this.sendLogs(_this.logQueue[e], e),
            _this.logQueue[e] = []
        }
        ,
        _this.touchStartEvent = function(e) {
            _this.ts.ts = (new Date).getTime();
            for (var t = e.touches, n = 0; n < t.length; n++) {
                var r = t[n]
                  , o = r.clientX
                  , i = r.clientY
                  , a = r.identifier
                  , s = r.force;
                if (_this.touchStartObject[a])
                    return;
                _this.touchStartObject[a] = {
                    clientX: Number(o.toFixed(2)),
                    clientY: Number(i.toFixed(2)),
                    force: s,
                    timestamp: (new Date).valueOf()
                }
            }
        }
        ,
        _this.touchMoveEvent = function(e) {
            _this.ts.tm = (new Date).getTime();
            for (var t = e.changedTouches, n = 0; n < t.length; n++) {
                var r = t[n]
                  , o = r.clientX
                  , i = r.clientY
                  , a = r.identifier
                  , s = r.force
                  , c = {
                    clientX: Number(o.toFixed(2)),
                    clientY: Number(i.toFixed(2)),
                    timestamp: (new Date).valueOf(),
                    force: s
                };
                if (_this.touchMoveObject[a])
                    return void _this.touchMoveObject[a].push(c);
                _this.touchMoveObject[a] = [c]
            }
        }
        ,
        _this.touchEndEvent = function(e) {
            var t, n, r, o;
            _this.ts.te = (new Date).getTime();
            for (var i = e.changedTouches, a = [], s = 0; s < i.length; s++) {
                var c = i[s]
                  , l = c.clientX
                  , u = c.clientY
                  , p = c.identifier
                  , d = c.force
                  , f = {
                    touchStart: {},
                    touchMove: [],
                    touchEnd: {}
                }
                  , h = _this.touchStartObject[p]
                  , g = _this.touchMoveObject[p];
                h && (f.touchStart = h,
                delete _this.touchStartObject[p]),
                g && (f.touchMove = g,
                delete _this.touchMoveObject[p]),
                f.touchEnd = {
                    clientX: Number(l.toFixed(2)),
                    clientY: Number(u.toFixed(2)),
                    timestamp: (new Date).valueOf(),
                    force: d
                },
                a.push(f)
            }
            var m = a[0] && 0 === a[0].touchMove.length
              , y = _this.dataFormat(e);
            if (y) {
                var v;
                v = m ? _this.generateModuleSection(_assign(_assign({
                    type: "CLICK",
                    timestamp: (new Date).valueOf()
                }, y), {
                    clientX: null === (n = null === (t = a[0]) || void 0 === t ? void 0 : t.touchEnd) || void 0 === n ? void 0 : n.clientX,
                    clientY: null === (o = null === (r = a[0]) || void 0 === r ? void 0 : r.touchEnd) || void 0 === o ? void 0 : o.clientY
                }), "19") : _this.generateModuleSection(_assign(_assign({
                    type: "TOUCH",
                    timestamp: (new Date).valueOf()
                }, y), {
                    touchesInfo: a
                }), "18"),
                _this.send(v)
            }
        }
        ,
        _this.urlChange = function() {
            setTimeout((function() {
                if (_this.weblog && getMappingPage({
                    url: location.href
                }, _this.weblog.logConfig.urlMap).page !== _this.weblog.currentUrlPackage.page) {
                    var e = (new Date).valueOf()
                      , t = _this.generateModuleSection({
                        type: "PAGE_LEAVE",
                        timestamp: e,
                        stay: e - _this.beginTime
                    }, "23");
                    if (_this.send(t),
                    isLowEnd())
                        _this.destroy();
                    else {
                        _this.beginTime = e;
                        var n = _this.generateModuleSection({
                            type: "PAGE_ENTER",
                            timestamp: e,
                            initTime: _this.beginTime
                        }, "21");
                        _this.send(n)
                    }
                }
            }
            ))
        }
        ,
        _this.dataFormat = function(e) {
            var t = e
              , n = t.target
              , r = t.clientX
              , o = t.clientY;
            if (n) {
                var i = n.tagName;
                if (-1 === ["html", "body"].indexOf(i.toLowerCase())) {
                    for (var a = getXpathFromNode(n), s = n.innerText, c = n.nodeName, l = n.attributes, u = {}, p = 0; p < l.length; p++) {
                        var d = l[p]
                          , f = d.name
                          , h = d.value;
                        f.indexOf("data-"),
                        u[f] = h
                    }
                    return {
                        xpath: a,
                        innerText: s,
                        nodeName: c,
                        attributesSerialize: u,
                        clientX: r,
                        clientY: o,
                        customData: null
                    }
                }
            }
        }
        ,
        _this.generateModuleSection = function(options2, eventIndex) {
            _this.ts.gs = (new Date).getTime();
            var _a2 = _this.weblog
              , referUrlPackage = _a2.referUrlPackage
              , cookie = _a2.Utils.cookie
              , _b = _a2.commonPackage
              , network_package = _b.network_package
              , device_package = _b.device_package
              , h5_extra_attr = _b.h5_extra_attr
              , app_package = _b.app_package
              , identity_package = _b.identity_package
              , sessionId = _a2.sessionId
              , estimateRate = "";
            _this.estimate && void 0 !== _this.estimate.usage && void 0 !== _this.estimate.quota && (estimateRate = (_this.estimate.usage / _this.estimate.quota).toFixed(2));
            var webglFD = getWeglFdData()
              , canvasFD = getCanvasFdData()
              , webglData = getWeglData(document)
              , ow = "outerWidth"
              , iw = "innerWidth"
              , oh = "outerHeight"
              , ih = "innerHeight"
              , nwd = "";
            try {
                nwd = _this.convertObjToString(navigator.webdriver)
            } catch (t2) {
                _this.pushException(t2)
            }
            var nw = !1;
            try {
                nw = navigator.webdriver
            } catch (t2) {
                _this.pushException(t2)
            }
            var pha = "0";
            try {
                (window._phantom || window.phantom || window.callPhantom) && (pha = "1")
            } catch (t2) {
                _this.pushException(t2)
            }
            var nw2 = void 0;
            try {
                nw2 = navigator.webdriver
            } catch (t2) {
                _this.pushException(t2)
            }
            _this.ts.ge = (new Date).getTime();
            var pcs = _this.convertObjToString(printCallStack)
              , wfs = _this.convertObjToString(getWeglFdData)
              , cfs = _this.convertObjToString(getCanvasFdData)
              , mfs = _this.convertObjToString(getMathFingerprint)
              , ffs = _this.convertObjToString(detectjsFiles)
              , afs = _this.convertObjToString(audioFP)
              , grs = _this.convertObjToString(gFr)
              , els = _this.convertObjToString(eval)
              , ows = _this.convertObjToString(Object.getOwnPropertyNames(window))
              , kys = _this.convertObjToString(Object.keys)
              , cis = _this.convertObjToString(document.cookie)
              , moduleSection = {
                1: referUrlPackage || "",
                2: location.href,
                3: network_package && network_package.ip,
                4: h5_extra_attr && h5_extra_attr.domain,
                5: sessionId,
                6: document && document.title || "",
                7: cookie.parseCookieString(document && document.cookie || "", !0),
                8: getResolution(),
                9: document && document.body && document.body.clientHeight || "",
                10: document && document.body && document.body.clientWidth || "",
                11: device_package && device_package.ua,
                12: device_package && device_package.os_version,
                13: app_package && app_package.language,
                14: device_package && device_package.model,
                16: identity_package && identity_package.user_id,
                17: identity_package && identity_package.device_id,
                24: _this.options.taskType,
                25: _this.options.subTaskType,
                26: "0",
                28: sha1Encode(identity_package.device_id + (referUrlPackage || "") + getResolution() + device_package.ua + location.href),
                29: new URL(_this.reportUrl).pathname,
                30: _this.options.host || "ks",
                31: _this.battery && _this.battery.level,
                32: estimateRate,
                33: navigator.appCodeName,
                34: navigator.appName,
                35: navigator.appVersion,
                36: navigator.platform,
                37: JSON.stringify(navigator.languages),
                39: navigator.oscpu,
                40: navigator.buildID,
                41: navigator.productSub,
                42: navigator.vendor,
                43: navigator.vendorSub,
                44: navigator.hardwareConcurrency,
                90: _this.options.reserved ? _this.options.reserved : "",
                50: navigator.maxTouchPoints,
                51: navigator.doNotTrack ? navigator.doNotTrack : "",
                52: navigator.cookieEnabled ? 1 : 0,
                53: navigator.product,
                54: navigator.onLine,
                55: nw ? 1 : 0,
                56: navigator.userAgent,
                57: navigator.language ? navigator.language : "",
                58: getNavigatorPlugins(navigator),
                59: getNavigatorMimeTypes(navigator),
                61: webglData[61] ? webglData[61] : "",
                62: webglData[62] ? webglData[62] : "",
                63: webglData[63] ? webglData[63] : "",
                64: webglData[64] ? webglData[64] : "",
                65: webglData[65] ? webglData[65] : "",
                66: webglData[66] ? webglData[66] : "",
                67: webglData[67],
                68: webglFD ? webglFD.hash : "",
                69: canvasFD ? canvasFD.hash : "",
                70: _this.auH,
                75: nw2 ? "0" : "1",
                76: nwd,
                77: detectjsFiles(),
                78: {
                    w: getObjPropertys(window),
                    n: getObjPropertys(window.navigator)
                },
                79: printCallStack(),
                80: window[ow] - window[iw] + "",
                81: window[oh] - window[ih] + "",
                82: {
                    pc: pcs.length,
                    ph: md5(pcs),
                    wf: wfs.length,
                    wh: md5(wfs),
                    cf: cfs.length,
                    ch: md5(cfs),
                    mf: mfs.length,
                    mh: md5(mfs),
                    ff: ffs.length,
                    fh: md5(ffs),
                    af: afs.length,
                    ah: md5(afs),
                    gr: grs.length,
                    gh: md5(grs),
                    el: els.length,
                    eh: md5(els),
                    ow: ows.length,
                    oh: md5(ows),
                    ky: kys.length,
                    kh: md5(kys),
                    ci: cis.length,
                    ih: md5(cis)
                },
                85: _this.rtcH,
                86: _this.rtcS,
                87: {
                    w: window.screen.width,
                    h: window.screen.height,
                    c: window.screen.colorDepth,
                    p: window.screen.pixelDepth
                },
                88: getMathFingerprint().h,
                89: _this.ts,
                100: getCookieL(),
                101: getStorage(),
                102: getHisLen(),
                103: getFS(),
                104: {
                    ts: (new Date).getTime(),
                    cts: (new Date).getTime()
                },
                105: pha,
                106: _this.pers,
                107: (new Date).getTimezoneOffset() / 60,
                108: _this.location ? _this.location : {}
            };
            return eventIndex && (moduleSection[eventIndex] = options2),
            moduleSection
        }
        ,
        _this.generateCoreModuleSection = function(options2, eventIndex) {
            var _a2 = _this.weblog
              , referUrlPackage = _a2.referUrlPackage
              , cookie = _a2.Utils.cookie
              , _b = _a2.commonPackage
              , network_package = _b.network_package
              , device_package = _b.device_package
              , _c = _b.identity_package
              , identity_package = void 0 === _c ? {} : _c
              , sessionId = _a2.sessionId
              , canvasFD = getCanvasFdData()
              , nwd = "";
            try {
                nwd = _this.convertObjToString(navigator.webdriver)
            } catch (t2) {
                _this.pushException(t2)
            }
            var nw = !1;
            try {
                nw = navigator.webdriver
            } catch (t2) {
                _this.pushException(t2)
            }
            var nw2 = void 0;
            try {
                nw2 = navigator.webdriver
            } catch (t2) {
                _this.pushException(t2)
            }
            var els = _this.convertObjToString(eval)
              , cfs = _this.convertObjToString(getCanvasFdData)
              , ffs = _this.convertObjToString(detectjsFiles)
              , cis = _this.convertObjToString(document.cookie)
              , moduleSection = {
                1: referUrlPackage || "",
                2: location.href,
                3: network_package && network_package.ip,
                5: sessionId,
                7: cookie.parseCookieString(document && document.cookie || "", !0),
                8: getResolution(),
                11: device_package && device_package.ua,
                16: identity_package && identity_package.user_id,
                17: identity_package && identity_package.device_id,
                28: sha1Encode(identity_package.device_id + (referUrlPackage || "") + getResolution() + device_package.ua + location.href),
                33: navigator.appCodeName,
                34: navigator.appName,
                35: navigator.appVersion,
                36: navigator.platform,
                55: nw ? 1 : 0,
                56: navigator.userAgent,
                69: canvasFD ? canvasFD.hash : "",
                75: nw2 ? "0" : "1",
                76: nwd,
                77: detectjsFiles(),
                79: printCallStack(),
                82: {
                    cf: cfs.length,
                    ch: md5(cfs),
                    ff: ffs.length,
                    fh: md5(ffs),
                    el: els.length,
                    eh: md5(els),
                    ci: cis.length,
                    ih: md5(cis)
                },
                89: _this.ts,
                102: getHisLen(),
                108: _this.location ? _this.location : {}
            };
            return eventIndex && (moduleSection[eventIndex] = options2),
            moduleSection
        }
        ,
        _this.pushException = function(e) {
            _this.riskRadar && _this.riskRadar.pushException(e)
        }
        ,
        _this.convertObjToString = function(e) {
            if (!e)
                return "";
            if (void 0 === e)
                return "";
            var t = "";
            try {
                t = e.toString()
            } catch (n) {
                _this.pushException(n)
            }
            return t
        }
        ,
        _this.beforeunload = function() {
            if (_this.weblog) {
                var e = (new Date).valueOf()
                  , t = _this.generateModuleSection({
                    type: "PAGE_LEAVE",
                    timestamp: e,
                    stay: e - _this.beginTime
                }, "23");
                _this.send(t),
                _this.flush()
            }
        }
        ,
        _this.destroy = function() {
            removeMonitor(window, "onpagehide"in window ? "pagehide" : "beforeunload", _this.beforeunload),
            removeMonitor(window, urlChangeEventId, _this.urlChange),
            isMobile() ? (window.removeEventListener("touchstart", _this.touchStartEvent, !0),
            window.removeEventListener("touchmove", _this.touchMoveEvent, !0),
            window.removeEventListener("touchend", _this.touchEndEvent, !0)) : (window.removeEventListener("mousedown", _this.mouseDownEvent, !0),
            window.removeEventListener("mousemove", _this.mouseMoveEvent, !0),
            window.removeEventListener("mouseup", _this.mouseUpEvent, !0)),
            _this.batchWaitTimer && clearTimeout(_this.batchWaitTimer),
            window.removeEventListener("keydown", _this.keyDownHandler)
        }
        ,
        _this.options = options || {},
        _this.ts.cs = (new Date).getTime(),
        _this.packageName = _this.options.pluginPackageName || "",
        audioFP().then((function(e) {
            var t = e.hash;
            _this.auH = t,
            _this.ts.cae = (new Date).getTime()
        }
        )).catch((function(e) {
            _this.pushException(e)
        }
        ));
        try {
            gFr((function(e) {
                _this.rtcH = e.can,
                _this.rtcS = e.sdp,
                _this.ts.cre = (new Date).getTime()
            }
            ))
        } catch (t2) {
            _this.pushException(t2)
        }
        _this.ts.ce = (new Date).getTime(),
        _this.loadTime = (new Date).getTime() - performanceTiming.navigationStart;
        try {
            getAllPermissions((function(e) {
                _this.pers = e
            }
            ))
        } catch (t2) {}
        return getLocation((function(e) {
            _this.location = e
        }
        )),
        _this
    }
    return __extends$1(RiskMgt2, _super),
    RiskMgt2.prototype.apply = function(e) {
        var t = this;
        if (this.ts.as = (new Date).getTime(),
        this.verifyParams() && !isLowEnd() && (null == e ? void 0 : e.collect)) {
            this.weblog = e,
            this.options.switch = !0,
            this.options.wait = 0,
            this.options.maxBatchLength = 10,
            this.options.enableNative = !1;
            try {
                this.riskRadar = new riskRadar({
                    weblog: this.weblog
                }),
                this.riskRadar.riskEvent && this.riskRadar.riskEvent("init", "", {
                    ts: "" + this.loadTime
                })
            } catch (r) {
                this.pushException(r)
            }
            try {
                this.createEncryptDecryptWorker()
            } catch (r) {
                this.pushException(r)
            }
            var n = function() {
                t.sendCoreData().then((function(e) {
                    return __awaiter$1(t, void 0, void 0, (function() {
                        var e, t, n, r, o = this;
                        return __generator$1(this, (function(i) {
                            switch (i.label) {
                            case 0:
                                return i.trys.push([0, 3, , 4]),
                                navigator.getBattery ? [4, navigator.getBattery()] : [3, 2];
                            case 1:
                                (e = i.sent()) && (this.battery = e,
                                this.battery.addEventListener("chargingchange", (function() {
                                    var e = o.generateModuleSection({
                                        type: "CHARGINGCHANGGE",
                                        level: o.battery.level,
                                        timestamp: (new Date).valueOf()
                                    }, 45);
                                    o.send(e)
                                }
                                ))),
                                i.label = 2;
                            case 2:
                                return [3, 4];
                            case 3:
                                return error$1(t = i.sent()),
                                this.pushException(t),
                                [3, 4];
                            case 4:
                                return i.trys.push([4, 7, , 8]),
                                navigator.storage && navigator.storage.estimate ? [4, navigator.storage.estimate()] : [3, 6];
                            case 5:
                                (n = i.sent()) && (this.estimate = n),
                                i.label = 6;
                            case 6:
                                return [3, 8];
                            case 7:
                                return error$1(r = i.sent()),
                                this.pushException(r),
                                [3, 8];
                            case 8:
                                return this.options.switch && (this.sendWholeData(),
                                this.addEvent(),
                                this.addActivityEvent()),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))
            };
            try {
                this.options.switchAsync ? (n(),
                this.getConfig((function() {}
                ))) : this.getConfig(n)
            } catch (r) {
                this.pushException(r)
            }
            this.ts.ae = (new Date).getTime()
        }
    }
    ,
    RiskMgt2.prototype.sendCoreData = function() {
        return __awaiter$1(this, void 0, void 0, (function() {
            var e, t, n = this;
            return __generator$1(this, (function(r) {
                return this.options.switch && (e = this.weblog.Utils.yoda,
                this.options.enableNative && e && isInYoda() && e.isSupportBridge("tool.canIUse").then((function(t) {
                    t && e.invoke("weapon.recordJSScene", {
                        bussType: n.options.bussType,
                        jsVersion: RM_VERSION,
                        taskType: n.options.taskType,
                        subTaskType: "1111"
                    })
                }
                )),
                this.reportUrl = getReportUrl(this.options),
                t = this.generateCoreModuleSection({
                    type: "PAGE_ENTER",
                    timestamp: (new Date).valueOf(),
                    initTime: this.beginTime
                }, "21"),
                this.send(t, !0, CoreDataLoggerId)),
                [2]
            }
            ))
        }
        ))
    }
    ,
    RiskMgt2.prototype.sendWholeData = function() {
        return __awaiter$1(this, void 0, void 0, (function() {
            var e;
            return __generator$1(this, (function(t) {
                return this.options.switch && (e = this.generateModuleSection({
                    type: "PAGE_ENTER",
                    timestamp: (new Date).valueOf(),
                    initTime: this.beginTime
                }, "21"),
                this.send(e)),
                [2]
            }
            ))
        }
        ))
    }
    ,
    RiskMgt2.prototype.addEvent = function() {
        var e = this;
        isMobile() ? (window.addEventListener("touchstart", this.touchStartEvent, !0),
        window.addEventListener("touchmove", this.touchMoveEvent, !0),
        window.addEventListener("touchend", this.touchEndEvent, !0)) : "" != this.packageName && (window.addEventListener("mousedown", this.mouseDownEvent, !0),
        window.addEventListener("mousemove", this.mouseMoveEvent, !0),
        window.addEventListener("mouseup", this.mouseUpEvent, !0)),
        urlChangeEventId = this.weblog.Utils.ua.supportsPushState() ? "popstate" : "hashchange",
        addMonitor(window, urlChangeEventId, this.urlChange),
        addMonitor(window, "onpagehide"in window ? "pagehide" : "beforeunload", this.beforeunload),
        "" != this.packageName && window.addEventListener("keydown", this.keyDownHandler, !0),
        document.addEventListener("copy", (function(t) {
            var n = e.generateModuleSection({
                type: "copy",
                timestamp: (new Date).valueOf()
            }, 44);
            e.send(n)
        }
        )),
        document.addEventListener("cut", (function(t) {
            var n = e.generateModuleSection({
                type: "cut",
                timestamp: (new Date).valueOf()
            }, 44);
            e.send(n)
        }
        )),
        document.addEventListener("paste", (function(t) {
            var n = e.generateModuleSection({
                type: "paste",
                timestamp: (new Date).valueOf()
            }, 44);
            e.send(n)
        }
        )),
        "" != this.packageName && document.addEventListener("selectionchange", (function(t) {
            if ("" != e.convertObjToString(document.getSelection())) {
                var n = e.generateModuleSection({
                    type: "selectionchange",
                    timestamp: (new Date).valueOf()
                }, 44);
                e.send(n)
            }
        }
        ))
    }
    ,
    RiskMgt2.prototype.addActivityEvent = function() {
        var e = this;
        window.onload = function() {
            var t = {
                "like-item": 110,
                "uninterested-item": 111,
                "report-item": 112,
                "profile-user-name": 113,
                "short-video-follow": 114,
                "submit-button": 115,
                "video-switch-last": 116,
                "video-switch-next": 117
            }
              , n = function(n) {
                !function(t, n) {
                    try {
                        if (!t || "" === t || !n)
                            return;
                        var r, o = document.getElementsByClassName(t);
                        if (0 === o.length) {
                            var i = document.getElementById(t);
                            if (!i)
                                return;
                            r = i
                        } else
                            r = o[0];
                        if (!r)
                            return;
                        r.addEventListener("click", n)
                    } catch (a) {
                        e.pushException(a)
                    }
                }(n, (function() {
                    var r = e.generateModuleSection({
                        type: n,
                        timestamp: (new Date).valueOf()
                    }, t[n]);
                    e.send(r)
                }
                ))
            };
            for (var r in t)
                n(r)
        }
    }
    ,
    RiskMgt2.prototype.verifyParams = function() {
        return this.options.bussType && "string" == typeof this.options.bussType ? this.options.taskType && "string" == typeof this.options.taskType ? !(!this.options.subTaskType || "string" != typeof this.options.subTaskType) || (error$1("【风控sdk】请设置有效的subTaskType值!"),
        !1) : (error$1("【风控sdk】请设置有效的taskType值!"),
        !1) : (error$1("【风控sdk】请设置有效的bussType值!"),
        !1)
    }
    ,
    RiskMgt2.prototype.dataXhr = function(e, t) {
        var n = this
          , r = e.url
          , o = __rest(e, ["url"])
          , i = new XMLHttpRequest;
        i.onreadystatechange = function() {
            if (4 === i.readyState)
                if (i.status >= 200 && i.status < 300 || 304 == i.status) {
                    if (i.responseText) {
                        var e = JSON.parse(i.responseText);
                        1 === e.result ? (n.decryptFailedFunc = function(e, t) {
                            return function() {
                                var r, o = JSON.parse(decrypt(e));
                                n.options.switch = o.switch,
                                n.options.maxBatchLength = o.maxBatchLength,
                                n.options.wait = o.wait,
                                n.options.reportUrls = null === (r = null == o ? void 0 : o.reportConfig) || void 0 === r ? void 0 : r.reportUrls,
                                n.options.enableNative = o.enableNative,
                                t()
                            }
                        }(e.antispamPluginRsp, t),
                        n.decryptSuccessFunc = function(e) {
                            return function(t) {
                                var r;
                                n.options.switch = t.switch,
                                n.options.maxBatchLength = t.maxBatchLength,
                                n.options.wait = t.wait,
                                n.options.reportUrls = null === (r = t.reportConfig) || void 0 === r ? void 0 : r.reportUrls,
                                n.options.enableNative = t.enableNative,
                                e()
                            }
                        }(t),
                        n.encryptDecryptWorker.postMessage({
                            type: "decrypt",
                            info: e.antispamPluginRsp
                        })) : t()
                    }
                } else
                    t()
        }
        ,
        i.open("POST", r),
        i.send(JSON.stringify(o))
    }
    ,
    RiskMgt2.prototype.send = function(e, t, n) {
        var r, o = this;
        if (void 0 === t && (t = !1),
        void 0 === n && (n = LoggerId),
        this.options.switch)
            if (t)
                this.sendLogs([e], n);
            else {
                this.batchWaitTimer && clearTimeout(this.batchWaitTimer),
                this.logQueue[n] || (this.logQueue[n] = []);
                var i = this.logQueue[n];
                i.push(e),
                i.length >= ((null === (r = this.options) || void 0 === r ? void 0 : r.maxBatchLength) || 0) ? this.flush(n) : (this.batchWaitTimer = setTimeout((function() {
                    o.flush(n)
                }
                ), this.options.wait),
                ++this.cnt,
                this.cnt % 5 == 0 && this.riskRadar.riskEvent("cnt", "", {
                    cnt: "" + this.cnt
                }))
            }
    }
    ,
    RiskMgt2.prototype.sendLogs = function(e, t) {
        void 0 === t && (t = LoggerId),
        e && e.length && this.buildLogPackage(e, t)
    }
    ,
    RiskMgt2.prototype.createEncryptDecryptWorker = function() {
        var e = this;
        this.encryptDecryptWorker = WorkerFactory();
        var t = 0;
        this.encryptDecryptWorker.onerror = function(n) {
            error$1("worker onerror", n.message),
            1 == ++t ? e.encryptFailedFunc() : 2 === t && (e.decryptFailedFunc(),
            e.encryptDecryptWorker.terminate())
        }
        ,
        this.encryptDecryptWorker.onmessageerror = function(n) {
            error$1("worker onmessageerror", n.message),
            1 == ++t ? e.encryptFailedFunc() : 2 === t && (e.decryptFailedFunc(),
            e.encryptDecryptWorker.terminate())
        }
        ,
        this.encryptDecryptWorker.onmessage = function(n) {
            1 == ++t ? e.encryptSuccessFunc(n.data) : 2 === t && (e.decryptSuccessFunc(n.data),
            e.encryptDecryptWorker.terminate())
        }
    }
    ,
    RiskMgt2.prototype.buildLogPackage = function(e, t) {
        var n = this;
        void 0 === t && (t = LoggerId),
        this.ts.ls = (new Date).getTime();
        var r = this.weblog.Utils.cookie
          , o = {}
          , i = {};
        if (i[1] = this.weblog.commonPackage.identity_package.device_id,
        i[2] = r.getCookie("kpn"),
        i[3] = t,
        i[4] = this.weblog.commonPackage.app_package.version_name,
        i[5] = r.getCookie("kpn"),
        i[6] = this.options.bussType,
        i[7] = this.weblog.commonPackage.app_package.platform,
        i[8] = this.weblog.commonPackage.app_package.version_code,
        i[9] = (new Date).valueOf(),
        i[10] = "",
        i[11] = this.options.primaryKey,
        i[12] = getAppkeyAndSecretKey(this.options.env).appKey,
        i[13] = this.options.pluginPackageName || "",
        i[14] = RM_VERSION,
        i.module_section = e,
        o.flag = FLAG,
        this.firstSend) {
            this.firstSend = !1;
            var a = WorkerFactory$1();
            a.onerror = function(e) {
                error$1("worker onerror", e.message),
                o.data = encrypt(JSON.stringify(i)),
                n.weblog.Utils.io.sendData({
                    data: o,
                    url: n.reportUrl
                })
            }
            ,
            a.onmessageerror = function(e) {
                error$1("worker onmessageerror", e.message),
                o.data = encrypt(JSON.stringify(i)),
                n.weblog.Utils.io.sendData({
                    data: o,
                    url: n.reportUrl
                })
            }
            ,
            a.onmessage = function(e) {
                o.data = e.data,
                n.weblog.Utils.io.sendData({
                    data: o,
                    url: n.reportUrl
                })
            }
            ,
            a.postMessage(JSON.stringify(i))
        } else
            o.data = encrypt(JSON.stringify(i)),
            this.weblog.Utils.io.sendData({
                data: o,
                url: this.reportUrl
            });
        this.ts.le = (new Date).getTime()
    }
    ,
    RiskMgt2.key = "risk-mgt",
    RiskMgt2
}(BasePlugin);
function createAppInjectionState(e) {
    const t = Symbol("InjectionState");
    return [ (n, ...r) => {
        const o = e(...r);
        return n.provide(t, o),
        o
    }
    , () => {
        var e, n;
        if ("true" === (null == (n = null == (e = {"url":"https://p5-plat.wskwai.com/kos/nlav111422/h5-share/client/assets/vendor-DbUa3NxP.js"}) ? void 0 : e.env) ? void 0 : n.VITE_SSG))
            throw new Error("不可在 SSG Setup 阶段时使用 @pex/ug-ssr-server hooks，请在 onMounted 中执行");
        return inject(t)
    }
    ]
}
autoRegister(RiskMgt, "riskMgt");
const [provideUserAgent,useUserAgent] = createAppInjectionState((e => e ? e.userAgent : window.navigator.userAgent));
function tryOnScopeDispose$1(e) {
    return !!getCurrentScope() && (onScopeDispose(e),
    !0)
}
function toValue$1(e) {
    return "function" == typeof e ? e() : unref(e)
}
const isClient$1 = "undefined" != typeof window && "undefined" != typeof document;
"undefined" != typeof WorkerGlobalScope && (globalThis,
WorkerGlobalScope);
const toString$3 = Object.prototype.toString
  , isObject$8 = e => "[object Object]" === toString$3.call(e)
  , noop$2 = () => {}
;
function createFilterWrapper$1(e, t) {
    return function(...n) {
        return new Promise(( (r, o) => {
            Promise.resolve(e(( () => t.apply(this, n)), {
                fn: t,
                thisArg: this,
                args: n
            })).then(r).catch(o)
        }
        ))
    }
}
const bypassFilter = e => e();
function pausableFilter(e=bypassFilter) {
    const t = ref$1(!0);
    return {
        isActive: readonly(t),
        pause: function() {
            t.value = !1
        },
        resume: function() {
            t.value = !0
        },
        eventFilter: (...n) => {
            t.value && e(...n)
        }
    }
}
function getLifeCycleTarget(e) {
    return getCurrentInstance()
}
function watchWithFilter(e, t, n={}) {
    const {eventFilter: r=bypassFilter, ...o} = n;
    return watch(e, createFilterWrapper$1(r, t), o)
}
function watchPausable(e, t, n={}) {
    const {eventFilter: r, ...o} = n
      , {eventFilter: i, pause: a, resume: s, isActive: c} = pausableFilter(r);
    return {
        stop: watchWithFilter(e, t, {
            ...o,
            eventFilter: i
        }),
        pause: a,
        resume: s,
        isActive: c
    }
}
function tryOnMounted(e, t=!0, n) {
    getLifeCycleTarget() ? onMounted(e, n) : t ? e() : nextTick(e)
}
function useIntervalFn$1(e, t=1e3, n={}) {
    const {immediate: r=!0, immediateCallback: o=!1} = n;
    let i = null;
    const a = ref$1(!1);
    function s() {
        i && (clearInterval(i),
        i = null)
    }
    function c() {
        a.value = !1,
        s()
    }
    function l() {
        const n = toValue$1(t);
        n <= 0 || (a.value = !0,
        o && e(),
        s(),
        i = setInterval(e, n))
    }
    if (r && isClient$1 && l(),
    isRef(t) || "function" == typeof t) {
        tryOnScopeDispose$1(watch(t, ( () => {
            a.value && isClient$1 && l()
        }
        )))
    }
    return tryOnScopeDispose$1(c),
    {
        isActive: a,
        pause: c,
        resume: l
    }
}
function useInterval(e=1e3, t={}) {
    const {controls: n=!1, immediate: r=!0, callback: o} = t
      , i = ref$1(0)
      , a = () => i.value += 1
      , s = () => {
        i.value = 0
    }
      , c = useIntervalFn$1(o ? () => {
        a(),
        o(i.value)
    }
    : a, e, {
        immediate: r
    });
    return n ? {
        counter: i,
        reset: s,
        ...c
    } : i
}
function unrefElement(e) {
    var t;
    const n = toValue$1(e);
    return null != (t = null == n ? void 0 : n.$el) ? t : n
}
const defaultWindow = isClient$1 ? window : void 0;
function useEventListener(...e) {
    let t, n, r, o;
    if ("string" == typeof e[0] || Array.isArray(e[0]) ? ([n,r,o] = e,
    t = defaultWindow) : [t,n,r,o] = e,
    !t)
        return noop$2;
    Array.isArray(n) || (n = [n]),
    Array.isArray(r) || (r = [r]);
    const i = []
      , a = () => {
        i.forEach((e => e())),
        i.length = 0
    }
      , s = watch(( () => [unrefElement(t), toValue$1(o)]), ( ([e,t]) => {
        if (a(),
        !e)
            return;
        const o = isObject$8(t) ? {
            ...t
        } : t;
        i.push(...n.flatMap((t => r.map((n => ( (e, t, n, r) => (e.addEventListener(t, n, r),
        () => e.removeEventListener(t, n, r)))(e, t, n, o))))))
    }
    ), {
        immediate: !0,
        flush: "post"
    })
      , c = () => {
        s(),
        a()
    }
    ;
    return tryOnScopeDispose$1(c),
    c
}
const _global$1 = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}
  , globalKey$1 = "__vueuse_ssr_handlers__"
  , handlers = getHandlers();
function getHandlers() {
    return globalKey$1 in _global$1 || (_global$1[globalKey$1] = _global$1[globalKey$1] || {}),
    _global$1[globalKey$1]
}
function getSSRHandler(e, t) {
    return handlers[e] || t
}
function guessSerializerType(e) {
    return null == e ? "any" : e instanceof Set ? "set" : e instanceof Map ? "map" : e instanceof Date ? "date" : "boolean" == typeof e ? "boolean" : "string" == typeof e ? "string" : "object" == typeof e ? "object" : Number.isNaN(e) ? "any" : "number"
}
const StorageSerializers = {
    boolean: {
        read: e => "true" === e,
        write: e => String(e)
    },
    object: {
        read: e => JSON.parse(e),
        write: e => JSON.stringify(e)
    },
    number: {
        read: e => Number.parseFloat(e),
        write: e => String(e)
    },
    any: {
        read: e => e,
        write: e => String(e)
    },
    string: {
        read: e => e,
        write: e => String(e)
    },
    map: {
        read: e => new Map(JSON.parse(e)),
        write: e => JSON.stringify(Array.from(e.entries()))
    },
    set: {
        read: e => new Set(JSON.parse(e)),
        write: e => JSON.stringify(Array.from(e))
    },
    date: {
        read: e => new Date(e),
        write: e => e.toISOString()
    }
}
  , customStorageEventName = "vueuse-storage";
function useStorage(e, t, n, r={}) {
    var o;
    const {flush: i="pre", deep: a=!0, listenToStorageChanges: s=!0, writeDefaults: c=!0, mergeDefaults: l=!1, shallow: u, window: p=defaultWindow, eventFilter: d, onError: f=(e => {
        console.error(e)
    }
    ), initOnMounted: h} = r
      , g = (u ? shallowRef : ref$1)("function" == typeof t ? t() : t);
    if (!n)
        try {
            n = getSSRHandler("getDefaultStorage", ( () => {
                var e;
                return null == (e = defaultWindow) ? void 0 : e.localStorage
            }
            ))()
        } catch (e2) {
            f(e2)
        }
    if (!n)
        return g;
    const m = toValue$1(t)
      , y = guessSerializerType(m)
      , v = null != (o = r.serializer) ? o : StorageSerializers[y]
      , {pause: b, resume: _} = watchPausable(g, ( () => function(t) {
        try {
            const r = n.getItem(e);
            if (null == t)
                S(r, null),
                n.removeItem(e);
            else {
                const o = v.write(t);
                r !== o && (n.setItem(e, o),
                S(r, o))
            }
        } catch (e2) {
            f(e2)
        }
    }(g.value)), {
        flush: i,
        deep: a,
        eventFilter: d
    });
    function S(t, r) {
        p && p.dispatchEvent(new CustomEvent(customStorageEventName,{
            detail: {
                key: e,
                oldValue: t,
                newValue: r,
                storageArea: n
            }
        }))
    }
    function w(t) {
        if (!t || t.storageArea === n)
            if (t && null == t.key)
                g.value = m;
            else if (!t || t.key === e) {
                b();
                try {
                    (null == t ? void 0 : t.newValue) !== v.write(g.value) && (g.value = function(t) {
                        const r = t ? t.newValue : n.getItem(e);
                        if (null == r)
                            return c && null != m && n.setItem(e, v.write(m)),
                            m;
                        if (!t && l) {
                            const e = v.read(r);
                            return "function" == typeof l ? l(e, m) : "object" !== y || Array.isArray(e) ? e : {
                                ...m,
                                ...e
                            }
                        }
                        return "string" != typeof r ? r : v.read(r)
                    }(t))
                } catch (e2) {
                    f(e2)
                } finally {
                    t ? nextTick(_) : _()
                }
            }
    }
    function $(e) {
        w(e.detail)
    }
    return p && s && tryOnMounted(( () => {
        useEventListener(p, "storage", w),
        useEventListener(p, customStorageEventName, $),
        h && w()
    }
    )),
    h || w(),
    g
}
function useLocalStorage(e, t, n={}) {
    const {window: r=defaultWindow} = n;
    return useStorage(e, t, null == r ? void 0 : r.localStorage, n)
}
var commonjsGlobal$1 = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function getDefaultExportFromCjs$1(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
}
function getAugmentedNamespace(e) {
    if (e.__esModule)
        return e;
    var t = e.default;
    if ("function" == typeof t) {
        var n = function e() {
            return this instanceof e ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments)
        };
        n.prototype = t.prototype
    } else
        n = {};
    return Object.defineProperty(n, "__esModule", {
        value: !0
    }),
    Object.keys(e).forEach((function(t) {
        var r = Object.getOwnPropertyDescriptor(e, t);
        Object.defineProperty(n, t, r.get ? r : {
            enumerable: !0,
            get: function() {
                return e[t]
            }
        })
    }
    )),
    n
}
function arrayMap$2(e, t) {
    for (var n = -1, r = null == e ? 0 : e.length, o = Array(r); ++n < r; )
        o[n] = t(e[n], n, e);
    return o
}
var _arrayMap = arrayMap$2;
function listCacheClear$1() {
    this.__data__ = [],
    this.size = 0
}
var _listCacheClear = listCacheClear$1;
function eq$2(e, t) {
    return e === t || e != e && t != t
}
var eq_1 = eq$2
  , eq$1 = eq_1;
function assocIndexOf$4(e, t) {
    for (var n = e.length; n--; )
        if (eq$1(e[n][0], t))
            return n;
    return -1
}
var _assocIndexOf = assocIndexOf$4
  , assocIndexOf$3 = _assocIndexOf
  , arrayProto = Array.prototype
  , splice = arrayProto.splice;
function listCacheDelete$1(e) {
    var t = this.__data__
      , n = assocIndexOf$3(t, e);
    return !(n < 0) && (n == t.length - 1 ? t.pop() : splice.call(t, n, 1),
    --this.size,
    !0)
}
var _listCacheDelete = listCacheDelete$1
  , assocIndexOf$2 = _assocIndexOf;
function listCacheGet$1(e) {
    var t = this.__data__
      , n = assocIndexOf$2(t, e);
    return n < 0 ? void 0 : t[n][1]
}
var _listCacheGet = listCacheGet$1
  , assocIndexOf$1 = _assocIndexOf;
function listCacheHas$1(e) {
    return assocIndexOf$1(this.__data__, e) > -1
}
var _listCacheHas = listCacheHas$1
  , assocIndexOf = _assocIndexOf;
function listCacheSet$1(e, t) {
    var n = this.__data__
      , r = assocIndexOf(n, e);
    return r < 0 ? (++this.size,
    n.push([e, t])) : n[r][1] = t,
    this
}
var _listCacheSet = listCacheSet$1
  , listCacheClear = _listCacheClear
  , listCacheDelete = _listCacheDelete
  , listCacheGet = _listCacheGet
  , listCacheHas = _listCacheHas
  , listCacheSet = _listCacheSet;
function ListCache$4(e) {
    var t = -1
      , n = null == e ? 0 : e.length;
    for (this.clear(); ++t < n; ) {
        var r = e[t];
        this.set(r[0], r[1])
    }
}
ListCache$4.prototype.clear = listCacheClear,
ListCache$4.prototype.delete = listCacheDelete,
ListCache$4.prototype.get = listCacheGet,
ListCache$4.prototype.has = listCacheHas,
ListCache$4.prototype.set = listCacheSet;
var _ListCache = ListCache$4
  , ListCache$3 = _ListCache;
function stackClear$1() {
    this.__data__ = new ListCache$3,
    this.size = 0
}
var _stackClear = stackClear$1;
function stackDelete$1(e) {
    var t = this.__data__
      , n = t.delete(e);
    return this.size = t.size,
    n
}
var _stackDelete = stackDelete$1;
function stackGet$1(e) {
    return this.__data__.get(e)
}
var _stackGet = stackGet$1;
function stackHas$1(e) {
    return this.__data__.has(e)
}
var _stackHas = stackHas$1
  , freeGlobal$1 = "object" == typeof commonjsGlobal$1 && commonjsGlobal$1 && commonjsGlobal$1.Object === Object && commonjsGlobal$1
  , _freeGlobal = freeGlobal$1
  , freeGlobal = _freeGlobal
  , freeSelf = "object" == typeof self && self && self.Object === Object && self
  , root$8 = freeGlobal || freeSelf || Function("return this")()
  , _root = root$8
  , root$7 = _root
  , Symbol$6 = root$7.Symbol
  , _Symbol = Symbol$6
  , Symbol$5 = _Symbol
  , objectProto$d = Object.prototype
  , hasOwnProperty$b = objectProto$d.hasOwnProperty
  , nativeObjectToString$1 = objectProto$d.toString
  , symToStringTag$1 = Symbol$5 ? Symbol$5.toStringTag : void 0;
function getRawTag$1(e) {
    var t = hasOwnProperty$b.call(e, symToStringTag$1)
      , n = e[symToStringTag$1];
    try {
        e[symToStringTag$1] = void 0;
        var r = !0
    } catch (e2) {}
    var o = nativeObjectToString$1.call(e);
    return r && (t ? e[symToStringTag$1] = n : delete e[symToStringTag$1]),
    o
}
var _getRawTag = getRawTag$1
  , objectProto$c = Object.prototype
  , nativeObjectToString = objectProto$c.toString;
function objectToString$2(e) {
    return nativeObjectToString.call(e)
}
var _objectToString = objectToString$2
  , Symbol$4 = _Symbol
  , getRawTag = _getRawTag
  , objectToString$1 = _objectToString
  , nullTag = "[object Null]"
  , undefinedTag = "[object Undefined]"
  , symToStringTag = Symbol$4 ? Symbol$4.toStringTag : void 0;
function baseGetTag$6(e) {
    return null == e ? void 0 === e ? undefinedTag : nullTag : symToStringTag && symToStringTag in Object(e) ? getRawTag(e) : objectToString$1(e)
}
var _baseGetTag = baseGetTag$6;
function isObject$7(e) {
    var t = typeof e;
    return null != e && ("object" == t || "function" == t)
}
var isObject_1 = isObject$7
  , baseGetTag$5 = _baseGetTag
  , isObject$6 = isObject_1
  , asyncTag = "[object AsyncFunction]"
  , funcTag$2 = "[object Function]"
  , genTag$1 = "[object GeneratorFunction]"
  , proxyTag = "[object Proxy]";
function isFunction$4(e) {
    if (!isObject$6(e))
        return !1;
    var t = baseGetTag$5(e);
    return t == funcTag$2 || t == genTag$1 || t == asyncTag || t == proxyTag
}
var isFunction_1 = isFunction$4, root$6 = _root, coreJsData$1 = root$6["__core-js_shared__"], _coreJsData = coreJsData$1, coreJsData = _coreJsData, maskSrcKey = (uid2 = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || ""),
uid2 ? "Symbol(src)_1." + uid2 : ""), uid2;
function isMasked$1(e) {
    return !!maskSrcKey && maskSrcKey in e
}
var _isMasked = isMasked$1
  , funcProto$2 = Function.prototype
  , funcToString$2 = funcProto$2.toString;
function toSource$2(e) {
    if (null != e) {
        try {
            return funcToString$2.call(e)
        } catch (e2) {}
        try {
            return e + ""
        } catch (e2) {}
    }
    return ""
}
var _toSource = toSource$2
  , isFunction$3 = isFunction_1
  , isMasked = _isMasked
  , isObject$5 = isObject_1
  , toSource$1 = _toSource
  , reRegExpChar = /[\\^$.*+?()[\]{}|]/g
  , reIsHostCtor = /^\[object .+?Constructor\]$/
  , funcProto$1 = Function.prototype
  , objectProto$b = Object.prototype
  , funcToString$1 = funcProto$1.toString
  , hasOwnProperty$a = objectProto$b.hasOwnProperty
  , reIsNative = RegExp("^" + funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function baseIsNative$1(e) {
    return !(!isObject$5(e) || isMasked(e)) && (isFunction$3(e) ? reIsNative : reIsHostCtor).test(toSource$1(e))
}
var _baseIsNative = baseIsNative$1;
function getValue$1(e, t) {
    return null == e ? void 0 : e[t]
}
var _getValue = getValue$1
  , baseIsNative = _baseIsNative
  , getValue = _getValue;
function getNative$7(e, t) {
    var n = getValue(e, t);
    return baseIsNative(n) ? n : void 0
}
var _getNative = getNative$7
  , getNative$6 = _getNative
  , root$5 = _root
  , Map$4 = getNative$6(root$5, "Map")
  , _Map = Map$4
  , getNative$5 = _getNative
  , nativeCreate$4 = getNative$5(Object, "create")
  , _nativeCreate = nativeCreate$4
  , nativeCreate$3 = _nativeCreate;
function hashClear$1() {
    this.__data__ = nativeCreate$3 ? nativeCreate$3(null) : {},
    this.size = 0
}
var _hashClear = hashClear$1;
function hashDelete$1(e) {
    var t = this.has(e) && delete this.__data__[e];
    return this.size -= t ? 1 : 0,
    t
}
var _hashDelete = hashDelete$1
  , nativeCreate$2 = _nativeCreate
  , HASH_UNDEFINED$1 = "__lodash_hash_undefined__"
  , objectProto$a = Object.prototype
  , hasOwnProperty$9 = objectProto$a.hasOwnProperty;
function hashGet$1(e) {
    var t = this.__data__;
    if (nativeCreate$2) {
        var n = t[e];
        return n === HASH_UNDEFINED$1 ? void 0 : n
    }
    return hasOwnProperty$9.call(t, e) ? t[e] : void 0
}
var _hashGet = hashGet$1
  , nativeCreate$1 = _nativeCreate
  , objectProto$9 = Object.prototype
  , hasOwnProperty$8 = objectProto$9.hasOwnProperty;
function hashHas$1(e) {
    var t = this.__data__;
    return nativeCreate$1 ? void 0 !== t[e] : hasOwnProperty$8.call(t, e)
}
var _hashHas = hashHas$1
  , nativeCreate = _nativeCreate
  , HASH_UNDEFINED = "__lodash_hash_undefined__";
function hashSet$1(e, t) {
    var n = this.__data__;
    return this.size += this.has(e) ? 0 : 1,
    n[e] = nativeCreate && void 0 === t ? HASH_UNDEFINED : t,
    this
}
var _hashSet = hashSet$1
  , hashClear = _hashClear
  , hashDelete = _hashDelete
  , hashGet = _hashGet
  , hashHas = _hashHas
  , hashSet = _hashSet;
function Hash$1(e) {
    var t = -1
      , n = null == e ? 0 : e.length;
    for (this.clear(); ++t < n; ) {
        var r = e[t];
        this.set(r[0], r[1])
    }
}
Hash$1.prototype.clear = hashClear,
Hash$1.prototype.delete = hashDelete,
Hash$1.prototype.get = hashGet,
Hash$1.prototype.has = hashHas,
Hash$1.prototype.set = hashSet;
var _Hash = Hash$1
  , Hash = _Hash
  , ListCache$2 = _ListCache
  , Map$3 = _Map;
function mapCacheClear$1() {
    this.size = 0,
    this.__data__ = {
        hash: new Hash,
        map: new (Map$3 || ListCache$2),
        string: new Hash
    }
}
var _mapCacheClear = mapCacheClear$1;
function isKeyable$1(e) {
    var t = typeof e;
    return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
}
var _isKeyable = isKeyable$1
  , isKeyable = _isKeyable;
function getMapData$4(e, t) {
    var n = e.__data__;
    return isKeyable(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
}
var _getMapData = getMapData$4
  , getMapData$3 = _getMapData;
function mapCacheDelete$1(e) {
    var t = getMapData$3(this, e).delete(e);
    return this.size -= t ? 1 : 0,
    t
}
var _mapCacheDelete = mapCacheDelete$1
  , getMapData$2 = _getMapData;
function mapCacheGet$1(e) {
    return getMapData$2(this, e).get(e)
}
var _mapCacheGet = mapCacheGet$1
  , getMapData$1 = _getMapData;
function mapCacheHas$1(e) {
    return getMapData$1(this, e).has(e)
}
var _mapCacheHas = mapCacheHas$1
  , getMapData = _getMapData;
function mapCacheSet$1(e, t) {
    var n = getMapData(this, e)
      , r = n.size;
    return n.set(e, t),
    this.size += n.size == r ? 0 : 1,
    this
}
var _mapCacheSet = mapCacheSet$1
  , mapCacheClear = _mapCacheClear
  , mapCacheDelete = _mapCacheDelete
  , mapCacheGet = _mapCacheGet
  , mapCacheHas = _mapCacheHas
  , mapCacheSet = _mapCacheSet;
function MapCache$2(e) {
    var t = -1
      , n = null == e ? 0 : e.length;
    for (this.clear(); ++t < n; ) {
        var r = e[t];
        this.set(r[0], r[1])
    }
}
MapCache$2.prototype.clear = mapCacheClear,
MapCache$2.prototype.delete = mapCacheDelete,
MapCache$2.prototype.get = mapCacheGet,
MapCache$2.prototype.has = mapCacheHas,
MapCache$2.prototype.set = mapCacheSet;
var _MapCache = MapCache$2
  , ListCache$1 = _ListCache
  , Map$2 = _Map
  , MapCache$1 = _MapCache
  , LARGE_ARRAY_SIZE = 200;
function stackSet$1(e, t) {
    var n = this.__data__;
    if (n instanceof ListCache$1) {
        var r = n.__data__;
        if (!Map$2 || r.length < LARGE_ARRAY_SIZE - 1)
            return r.push([e, t]),
            this.size = ++n.size,
            this;
        n = this.__data__ = new MapCache$1(r)
    }
    return n.set(e, t),
    this.size = n.size,
    this
}
var _stackSet = stackSet$1
  , ListCache = _ListCache
  , stackClear = _stackClear
  , stackDelete = _stackDelete
  , stackGet = _stackGet
  , stackHas = _stackHas
  , stackSet = _stackSet;
function Stack$1(e) {
    var t = this.__data__ = new ListCache(e);
    this.size = t.size
}
Stack$1.prototype.clear = stackClear,
Stack$1.prototype.delete = stackDelete,
Stack$1.prototype.get = stackGet,
Stack$1.prototype.has = stackHas,
Stack$1.prototype.set = stackSet;
var _Stack = Stack$1;
function arrayEach$1(e, t) {
    for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e); )
        ;
    return e
}
var _arrayEach = arrayEach$1
  , getNative$4 = _getNative
  , defineProperty$2 = function() {
    try {
        var e = getNative$4(Object, "defineProperty");
        return e({}, "", {}),
        e
    } catch (e2) {}
}()
  , _defineProperty = defineProperty$2
  , defineProperty$1 = _defineProperty;
function baseAssignValue$2(e, t, n) {
    "__proto__" == t && defineProperty$1 ? defineProperty$1(e, t, {
        configurable: !0,
        enumerable: !0,
        value: n,
        writable: !0
    }) : e[t] = n
}
var _baseAssignValue = baseAssignValue$2
  , baseAssignValue$1 = _baseAssignValue
  , eq = eq_1
  , objectProto$8 = Object.prototype
  , hasOwnProperty$7 = objectProto$8.hasOwnProperty;
function assignValue$2(e, t, n) {
    var r = e[t];
    hasOwnProperty$7.call(e, t) && eq(r, n) && (void 0 !== n || t in e) || baseAssignValue$1(e, t, n)
}
var _assignValue = assignValue$2
  , assignValue$1 = _assignValue
  , baseAssignValue = _baseAssignValue;
function copyObject$5(e, t, n, r) {
    var o = !n;
    n || (n = {});
    for (var i = -1, a = t.length; ++i < a; ) {
        var s = t[i]
          , c = r ? r(n[s], e[s], s, n, e) : void 0;
        void 0 === c && (c = e[s]),
        o ? baseAssignValue(n, s, c) : assignValue$1(n, s, c)
    }
    return n
}
var _copyObject = copyObject$5;
function baseTimes$1(e, t) {
    for (var n = -1, r = Array(e); ++n < e; )
        r[n] = t(n);
    return r
}
var _baseTimes = baseTimes$1;
function isObjectLike$7(e) {
    return null != e && "object" == typeof e
}
var isObjectLike_1 = isObjectLike$7
  , baseGetTag$4 = _baseGetTag
  , isObjectLike$6 = isObjectLike_1
  , argsTag$2 = "[object Arguments]";
function baseIsArguments$1(e) {
    return isObjectLike$6(e) && baseGetTag$4(e) == argsTag$2
}
var _baseIsArguments = baseIsArguments$1
  , baseIsArguments = _baseIsArguments
  , isObjectLike$5 = isObjectLike_1
  , objectProto$7 = Object.prototype
  , hasOwnProperty$6 = objectProto$7.hasOwnProperty
  , propertyIsEnumerable$1 = objectProto$7.propertyIsEnumerable
  , isArguments$2 = baseIsArguments(function() {
    return arguments
}()) ? baseIsArguments : function(e) {
    return isObjectLike$5(e) && hasOwnProperty$6.call(e, "callee") && !propertyIsEnumerable$1.call(e, "callee")
}
  , isArguments_1 = isArguments$2
  , isArray$b = Array.isArray
  , isArray_1 = isArray$b
  , isBuffer$4 = {
    exports: {}
};
function stubFalse() {
    return !1
}
var stubFalse_1 = stubFalse, module2, exports2, root2, stubFalse2, freeExports, freeModule, Buffer2, isBuffer3;
isBuffer$4.exports,
module2 = isBuffer$4,
exports2 = isBuffer$4.exports,
root2 = _root,
stubFalse2 = stubFalse_1,
freeExports = exports2 && !exports2.nodeType && exports2,
freeModule = freeExports && module2 && !module2.nodeType && module2,
Buffer2 = freeModule && freeModule.exports === freeExports ? root2.Buffer : void 0,
isBuffer3 = (Buffer2 ? Buffer2.isBuffer : void 0) || stubFalse2,
module2.exports = isBuffer3;
var isBufferExports = isBuffer$4.exports
  , MAX_SAFE_INTEGER$1 = 9007199254740991
  , reIsUint = /^(?:0|[1-9]\d*)$/;
function isIndex$1(e, t) {
    var n = typeof e;
    return !!(t = null == t ? MAX_SAFE_INTEGER$1 : t) && ("number" == n || "symbol" != n && reIsUint.test(e)) && e > -1 && e % 1 == 0 && e < t
}
var _isIndex = isIndex$1
  , MAX_SAFE_INTEGER = 9007199254740991;
function isLength$2(e) {
    return "number" == typeof e && e > -1 && e % 1 == 0 && e <= MAX_SAFE_INTEGER
}
var isLength_1 = isLength$2
  , baseGetTag$3 = _baseGetTag
  , isLength$1 = isLength_1
  , isObjectLike$4 = isObjectLike_1
  , argsTag$1 = "[object Arguments]"
  , arrayTag$1 = "[object Array]"
  , boolTag$2 = "[object Boolean]"
  , dateTag$2 = "[object Date]"
  , errorTag$1 = "[object Error]"
  , funcTag$1 = "[object Function]"
  , mapTag$4 = "[object Map]"
  , numberTag$2 = "[object Number]"
  , objectTag$3 = "[object Object]"
  , regexpTag$2 = "[object RegExp]"
  , setTag$4 = "[object Set]"
  , stringTag$2 = "[object String]"
  , weakMapTag$2 = "[object WeakMap]"
  , arrayBufferTag$2 = "[object ArrayBuffer]"
  , dataViewTag$3 = "[object DataView]"
  , float32Tag$2 = "[object Float32Array]"
  , float64Tag$2 = "[object Float64Array]"
  , int8Tag$2 = "[object Int8Array]"
  , int16Tag$2 = "[object Int16Array]"
  , int32Tag$2 = "[object Int32Array]"
  , uint8Tag$2 = "[object Uint8Array]"
  , uint8ClampedTag$2 = "[object Uint8ClampedArray]"
  , uint16Tag$2 = "[object Uint16Array]"
  , uint32Tag$2 = "[object Uint32Array]"
  , typedArrayTags = {};
function baseIsTypedArray$1(e) {
    return isObjectLike$4(e) && isLength$1(e.length) && !!typedArrayTags[baseGetTag$3(e)]
}
typedArrayTags[float32Tag$2] = typedArrayTags[float64Tag$2] = typedArrayTags[int8Tag$2] = typedArrayTags[int16Tag$2] = typedArrayTags[int32Tag$2] = typedArrayTags[uint8Tag$2] = typedArrayTags[uint8ClampedTag$2] = typedArrayTags[uint16Tag$2] = typedArrayTags[uint32Tag$2] = !0,
typedArrayTags[argsTag$1] = typedArrayTags[arrayTag$1] = typedArrayTags[arrayBufferTag$2] = typedArrayTags[boolTag$2] = typedArrayTags[dataViewTag$3] = typedArrayTags[dateTag$2] = typedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag$4] = typedArrayTags[numberTag$2] = typedArrayTags[objectTag$3] = typedArrayTags[regexpTag$2] = typedArrayTags[setTag$4] = typedArrayTags[stringTag$2] = typedArrayTags[weakMapTag$2] = !1;
var _baseIsTypedArray = baseIsTypedArray$1;
function baseUnary$3(e) {
    return function(t) {
        return e(t)
    }
}
var _baseUnary = baseUnary$3
  , _nodeUtil = {
    exports: {}
};
_nodeUtil.exports,
function(e, t) {
    var n = _freeGlobal
      , r = t && !t.nodeType && t
      , o = r && e && !e.nodeType && e
      , i = o && o.exports === r && n.process
      , a = function() {
        try {
            var e = o && o.require && o.require("util").types;
            return e || i && i.binding && i.binding("util")
        } catch (e2) {}
    }();
    e.exports = a
}(_nodeUtil, _nodeUtil.exports);
var _nodeUtilExports = _nodeUtil.exports
  , baseIsTypedArray = _baseIsTypedArray
  , baseUnary$2 = _baseUnary
  , nodeUtil$2 = _nodeUtilExports
  , nodeIsTypedArray = nodeUtil$2 && nodeUtil$2.isTypedArray
  , isTypedArray$1 = nodeIsTypedArray ? baseUnary$2(nodeIsTypedArray) : baseIsTypedArray
  , isTypedArray_1 = isTypedArray$1
  , baseTimes = _baseTimes
  , isArguments$1 = isArguments_1
  , isArray$a = isArray_1
  , isBuffer$3 = isBufferExports
  , isIndex = _isIndex
  , isTypedArray = isTypedArray_1
  , objectProto$6 = Object.prototype
  , hasOwnProperty$5 = objectProto$6.hasOwnProperty;
function arrayLikeKeys$2(e, t) {
    var n = isArray$a(e)
      , r = !n && isArguments$1(e)
      , o = !n && !r && isBuffer$3(e)
      , i = !n && !r && !o && isTypedArray(e)
      , a = n || r || o || i
      , s = a ? baseTimes(e.length, String) : []
      , c = s.length;
    for (var l in e)
        !t && !hasOwnProperty$5.call(e, l) || a && ("length" == l || o && ("offset" == l || "parent" == l) || i && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || isIndex(l, c)) || s.push(l);
    return s
}
var _arrayLikeKeys = arrayLikeKeys$2
  , objectProto$5 = Object.prototype;
function isPrototype$3(e) {
    var t = e && e.constructor;
    return e === ("function" == typeof t && t.prototype || objectProto$5)
}
var _isPrototype = isPrototype$3;
function overArg$2(e, t) {
    return function(n) {
        return e(t(n))
    }
}
var _overArg = overArg$2
  , overArg$1 = _overArg
  , nativeKeys$1 = overArg$1(Object.keys, Object)
  , _nativeKeys = nativeKeys$1
  , isPrototype$2 = _isPrototype
  , nativeKeys = _nativeKeys
  , objectProto$4 = Object.prototype
  , hasOwnProperty$4 = objectProto$4.hasOwnProperty;
function baseKeys$1(e) {
    if (!isPrototype$2(e))
        return nativeKeys(e);
    var t = [];
    for (var n in Object(e))
        hasOwnProperty$4.call(e, n) && "constructor" != n && t.push(n);
    return t
}
var _baseKeys = baseKeys$1
  , isFunction$2 = isFunction_1
  , isLength = isLength_1;
function isArrayLike$3(e) {
    return null != e && isLength(e.length) && !isFunction$2(e)
}
var isArrayLike_1 = isArrayLike$3
  , arrayLikeKeys$1 = _arrayLikeKeys
  , baseKeys = _baseKeys
  , isArrayLike$2 = isArrayLike_1;
function keys$3(e) {
    return isArrayLike$2(e) ? arrayLikeKeys$1(e) : baseKeys(e)
}
var keys_1 = keys$3
  , copyObject$4 = _copyObject
  , keys$2 = keys_1;
function baseAssign$1(e, t) {
    return e && copyObject$4(t, keys$2(t), e)
}
var _baseAssign = baseAssign$1;
function nativeKeysIn$1(e) {
    var t = [];
    if (null != e)
        for (var n in Object(e))
            t.push(n);
    return t
}
var _nativeKeysIn = nativeKeysIn$1
  , isObject$4 = isObject_1
  , isPrototype$1 = _isPrototype
  , nativeKeysIn = _nativeKeysIn
  , objectProto$3 = Object.prototype
  , hasOwnProperty$3 = objectProto$3.hasOwnProperty;
function baseKeysIn$1(e) {
    if (!isObject$4(e))
        return nativeKeysIn(e);
    var t = isPrototype$1(e)
      , n = [];
    for (var r in e)
        ("constructor" != r || !t && hasOwnProperty$3.call(e, r)) && n.push(r);
    return n
}
var _baseKeysIn = baseKeysIn$1
  , arrayLikeKeys = _arrayLikeKeys
  , baseKeysIn = _baseKeysIn
  , isArrayLike$1 = isArrayLike_1;
function keysIn$3(e) {
    return isArrayLike$1(e) ? arrayLikeKeys(e, !0) : baseKeysIn(e)
}
var keysIn_1 = keysIn$3
  , copyObject$3 = _copyObject
  , keysIn$2 = keysIn_1;
function baseAssignIn$1(e, t) {
    return e && copyObject$3(t, keysIn$2(t), e)
}
var _baseAssignIn = baseAssignIn$1
  , _cloneBuffer = {
    exports: {}
};
_cloneBuffer.exports,
function(e, t) {
    var n = _root
      , r = t && !t.nodeType && t
      , o = r && e && !e.nodeType && e
      , i = o && o.exports === r ? n.Buffer : void 0
      , a = i ? i.allocUnsafe : void 0;
    e.exports = function(e, t) {
        if (t)
            return e.slice();
        var n = e.length
          , r = a ? a(n) : new e.constructor(n);
        return e.copy(r),
        r
    }
}(_cloneBuffer, _cloneBuffer.exports);
var _cloneBufferExports = _cloneBuffer.exports;
function copyArray$1(e, t) {
    var n = -1
      , r = e.length;
    for (t || (t = Array(r)); ++n < r; )
        t[n] = e[n];
    return t
}
var _copyArray = copyArray$1;
function arrayFilter$1(e, t) {
    for (var n = -1, r = null == e ? 0 : e.length, o = 0, i = []; ++n < r; ) {
        var a = e[n];
        t(a, n, e) && (i[o++] = a)
    }
    return i
}
var _arrayFilter = arrayFilter$1;
function stubArray$2() {
    return []
}
var stubArray_1 = stubArray$2
  , arrayFilter = _arrayFilter
  , stubArray$1 = stubArray_1
  , objectProto$2 = Object.prototype
  , propertyIsEnumerable = objectProto$2.propertyIsEnumerable
  , nativeGetSymbols$1 = Object.getOwnPropertySymbols
  , getSymbols$3 = nativeGetSymbols$1 ? function(e) {
    return null == e ? [] : (e = Object(e),
    arrayFilter(nativeGetSymbols$1(e), (function(t) {
        return propertyIsEnumerable.call(e, t)
    }
    )))
}
: stubArray$1
  , _getSymbols = getSymbols$3
  , copyObject$2 = _copyObject
  , getSymbols$2 = _getSymbols;
function copySymbols$1(e, t) {
    return copyObject$2(e, getSymbols$2(e), t)
}
var _copySymbols = copySymbols$1;
function arrayPush$3(e, t) {
    for (var n = -1, r = t.length, o = e.length; ++n < r; )
        e[o + n] = t[n];
    return e
}
var _arrayPush = arrayPush$3
  , overArg = _overArg
  , getPrototype$3 = overArg(Object.getPrototypeOf, Object)
  , _getPrototype = getPrototype$3
  , arrayPush$2 = _arrayPush
  , getPrototype$2 = _getPrototype
  , getSymbols$1 = _getSymbols
  , stubArray = stubArray_1
  , nativeGetSymbols = Object.getOwnPropertySymbols
  , getSymbolsIn$2 = nativeGetSymbols ? function(e) {
    for (var t = []; e; )
        arrayPush$2(t, getSymbols$1(e)),
        e = getPrototype$2(e);
    return t
}
: stubArray
  , _getSymbolsIn = getSymbolsIn$2
  , copyObject$1 = _copyObject
  , getSymbolsIn$1 = _getSymbolsIn;
function copySymbolsIn$1(e, t) {
    return copyObject$1(e, getSymbolsIn$1(e), t)
}
var _copySymbolsIn = copySymbolsIn$1
  , arrayPush$1 = _arrayPush
  , isArray$9 = isArray_1;
function baseGetAllKeys$2(e, t, n) {
    var r = t(e);
    return isArray$9(e) ? r : arrayPush$1(r, n(e))
}
var _baseGetAllKeys = baseGetAllKeys$2
  , baseGetAllKeys$1 = _baseGetAllKeys
  , getSymbols = _getSymbols
  , keys$1 = keys_1;
function getAllKeys$1(e) {
    return baseGetAllKeys$1(e, keys$1, getSymbols)
}
var _getAllKeys = getAllKeys$1
  , baseGetAllKeys = _baseGetAllKeys
  , getSymbolsIn = _getSymbolsIn
  , keysIn$1 = keysIn_1;
function getAllKeysIn$2(e) {
    return baseGetAllKeys(e, keysIn$1, getSymbolsIn)
}
var _getAllKeysIn = getAllKeysIn$2
  , getNative$3 = _getNative
  , root$4 = _root
  , DataView$2 = getNative$3(root$4, "DataView")
  , _DataView = DataView$2
  , getNative$2 = _getNative
  , root$3 = _root
  , Promise$2 = getNative$2(root$3, "Promise")
  , _Promise = Promise$2
  , getNative$1 = _getNative
  , root$2 = _root
  , Set$2 = getNative$1(root$2, "Set")
  , _Set = Set$2
  , getNative = _getNative
  , root$1 = _root
  , WeakMap$2 = getNative(root$1, "WeakMap")
  , _WeakMap = WeakMap$2
  , DataView$1 = _DataView
  , Map$1 = _Map
  , Promise$1 = _Promise
  , Set$1 = _Set
  , WeakMap$1 = _WeakMap
  , baseGetTag$2 = _baseGetTag
  , toSource = _toSource
  , mapTag$3 = "[object Map]"
  , objectTag$2 = "[object Object]"
  , promiseTag = "[object Promise]"
  , setTag$3 = "[object Set]"
  , weakMapTag$1 = "[object WeakMap]"
  , dataViewTag$2 = "[object DataView]"
  , dataViewCtorString = toSource(DataView$1)
  , mapCtorString = toSource(Map$1)
  , promiseCtorString = toSource(Promise$1)
  , setCtorString = toSource(Set$1)
  , weakMapCtorString = toSource(WeakMap$1)
  , getTag$3 = baseGetTag$2;
(DataView$1 && getTag$3(new DataView$1(new ArrayBuffer(1))) != dataViewTag$2 || Map$1 && getTag$3(new Map$1) != mapTag$3 || Promise$1 && getTag$3(Promise$1.resolve()) != promiseTag || Set$1 && getTag$3(new Set$1) != setTag$3 || WeakMap$1 && getTag$3(new WeakMap$1) != weakMapTag$1) && (getTag$3 = function(e) {
    var t = baseGetTag$2(e)
      , n = t == objectTag$2 ? e.constructor : void 0
      , r = n ? toSource(n) : "";
    if (r)
        switch (r) {
        case dataViewCtorString:
            return dataViewTag$2;
        case mapCtorString:
            return mapTag$3;
        case promiseCtorString:
            return promiseTag;
        case setCtorString:
            return setTag$3;
        case weakMapCtorString:
            return weakMapTag$1
        }
    return t
}
);
var _getTag = getTag$3
  , objectProto$1 = Object.prototype
  , hasOwnProperty$2 = objectProto$1.hasOwnProperty;
function initCloneArray$1(e) {
    var t = e.length
      , n = new e.constructor(t);
    return t && "string" == typeof e[0] && hasOwnProperty$2.call(e, "index") && (n.index = e.index,
    n.input = e.input),
    n
}
var _initCloneArray = initCloneArray$1
  , root = _root
  , Uint8Array$2 = root.Uint8Array
  , _Uint8Array = Uint8Array$2
  , Uint8Array$1 = _Uint8Array;
function cloneArrayBuffer$3(e) {
    var t = new e.constructor(e.byteLength);
    return new Uint8Array$1(t).set(new Uint8Array$1(e)),
    t
}
var _cloneArrayBuffer = cloneArrayBuffer$3
  , cloneArrayBuffer$2 = _cloneArrayBuffer;
function cloneDataView$1(e, t) {
    var n = t ? cloneArrayBuffer$2(e.buffer) : e.buffer;
    return new e.constructor(n,e.byteOffset,e.byteLength)
}
var _cloneDataView = cloneDataView$1
  , reFlags = /\w*$/;
function cloneRegExp$1(e) {
    var t = new e.constructor(e.source,reFlags.exec(e));
    return t.lastIndex = e.lastIndex,
    t
}
var _cloneRegExp = cloneRegExp$1
  , Symbol$3 = _Symbol
  , symbolProto$1 = Symbol$3 ? Symbol$3.prototype : void 0
  , symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : void 0;
function cloneSymbol$1(e) {
    return symbolValueOf ? Object(symbolValueOf.call(e)) : {}
}
var _cloneSymbol = cloneSymbol$1
  , cloneArrayBuffer$1 = _cloneArrayBuffer;
function cloneTypedArray$1(e, t) {
    var n = t ? cloneArrayBuffer$1(e.buffer) : e.buffer;
    return new e.constructor(n,e.byteOffset,e.length)
}
var _cloneTypedArray = cloneTypedArray$1
  , cloneArrayBuffer = _cloneArrayBuffer
  , cloneDataView = _cloneDataView
  , cloneRegExp = _cloneRegExp
  , cloneSymbol = _cloneSymbol
  , cloneTypedArray = _cloneTypedArray
  , boolTag$1 = "[object Boolean]"
  , dateTag$1 = "[object Date]"
  , mapTag$2 = "[object Map]"
  , numberTag$1 = "[object Number]"
  , regexpTag$1 = "[object RegExp]"
  , setTag$2 = "[object Set]"
  , stringTag$1 = "[object String]"
  , symbolTag$2 = "[object Symbol]"
  , arrayBufferTag$1 = "[object ArrayBuffer]"
  , dataViewTag$1 = "[object DataView]"
  , float32Tag$1 = "[object Float32Array]"
  , float64Tag$1 = "[object Float64Array]"
  , int8Tag$1 = "[object Int8Array]"
  , int16Tag$1 = "[object Int16Array]"
  , int32Tag$1 = "[object Int32Array]"
  , uint8Tag$1 = "[object Uint8Array]"
  , uint8ClampedTag$1 = "[object Uint8ClampedArray]"
  , uint16Tag$1 = "[object Uint16Array]"
  , uint32Tag$1 = "[object Uint32Array]";
function initCloneByTag$1(e, t, n) {
    var r = e.constructor;
    switch (t) {
    case arrayBufferTag$1:
        return cloneArrayBuffer(e);
    case boolTag$1:
    case dateTag$1:
        return new r(+e);
    case dataViewTag$1:
        return cloneDataView(e, n);
    case float32Tag$1:
    case float64Tag$1:
    case int8Tag$1:
    case int16Tag$1:
    case int32Tag$1:
    case uint8Tag$1:
    case uint8ClampedTag$1:
    case uint16Tag$1:
    case uint32Tag$1:
        return cloneTypedArray(e, n);
    case mapTag$2:
        return new r;
    case numberTag$1:
    case stringTag$1:
        return new r(e);
    case regexpTag$1:
        return cloneRegExp(e);
    case setTag$2:
        return new r;
    case symbolTag$2:
        return cloneSymbol(e)
    }
}
var _initCloneByTag = initCloneByTag$1
  , isObject$3 = isObject_1
  , objectCreate = Object.create
  , baseCreate$1 = function() {
    function e() {}
    return function(t) {
        if (!isObject$3(t))
            return {};
        if (objectCreate)
            return objectCreate(t);
        e.prototype = t;
        var n = new e;
        return e.prototype = void 0,
        n
    }
}()
  , _baseCreate = baseCreate$1
  , baseCreate = _baseCreate
  , getPrototype$1 = _getPrototype
  , isPrototype = _isPrototype;
function initCloneObject$1(e) {
    return "function" != typeof e.constructor || isPrototype(e) ? {} : baseCreate(getPrototype$1(e))
}
var _initCloneObject = initCloneObject$1
  , getTag$2 = _getTag
  , isObjectLike$3 = isObjectLike_1
  , mapTag$1 = "[object Map]";
function baseIsMap$1(e) {
    return isObjectLike$3(e) && getTag$2(e) == mapTag$1
}
var _baseIsMap = baseIsMap$1
  , baseIsMap = _baseIsMap
  , baseUnary$1 = _baseUnary
  , nodeUtil$1 = _nodeUtilExports
  , nodeIsMap = nodeUtil$1 && nodeUtil$1.isMap
  , isMap$2 = nodeIsMap ? baseUnary$1(nodeIsMap) : baseIsMap
  , isMap_1 = isMap$2
  , getTag$1 = _getTag
  , isObjectLike$2 = isObjectLike_1
  , setTag$1 = "[object Set]";
function baseIsSet$1(e) {
    return isObjectLike$2(e) && getTag$1(e) == setTag$1
}
var _baseIsSet = baseIsSet$1
  , baseIsSet = _baseIsSet
  , baseUnary = _baseUnary
  , nodeUtil = _nodeUtilExports
  , nodeIsSet = nodeUtil && nodeUtil.isSet
  , isSet$2 = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet
  , isSet_1 = isSet$2
  , Stack = _Stack
  , arrayEach = _arrayEach
  , assignValue = _assignValue
  , baseAssign = _baseAssign
  , baseAssignIn = _baseAssignIn
  , cloneBuffer = _cloneBufferExports
  , copyArray = _copyArray
  , copySymbols = _copySymbols
  , copySymbolsIn = _copySymbolsIn
  , getAllKeys = _getAllKeys
  , getAllKeysIn$1 = _getAllKeysIn
  , getTag = _getTag
  , initCloneArray = _initCloneArray
  , initCloneByTag = _initCloneByTag
  , initCloneObject = _initCloneObject
  , isArray$8 = isArray_1
  , isBuffer$2 = isBufferExports
  , isMap$1 = isMap_1
  , isObject$2 = isObject_1
  , isSet$1 = isSet_1
  , keys = keys_1
  , keysIn = keysIn_1
  , CLONE_DEEP_FLAG$1 = 1
  , CLONE_FLAT_FLAG$1 = 2
  , CLONE_SYMBOLS_FLAG$1 = 4
  , argsTag = "[object Arguments]"
  , arrayTag = "[object Array]"
  , boolTag = "[object Boolean]"
  , dateTag = "[object Date]"
  , errorTag = "[object Error]"
  , funcTag = "[object Function]"
  , genTag = "[object GeneratorFunction]"
  , mapTag = "[object Map]"
  , numberTag = "[object Number]"
  , objectTag$1 = "[object Object]"
  , regexpTag = "[object RegExp]"
  , setTag = "[object Set]"
  , stringTag = "[object String]"
  , symbolTag$1 = "[object Symbol]"
  , weakMapTag = "[object WeakMap]"
  , arrayBufferTag = "[object ArrayBuffer]"
  , dataViewTag = "[object DataView]"
  , float32Tag = "[object Float32Array]"
  , float64Tag = "[object Float64Array]"
  , int8Tag = "[object Int8Array]"
  , int16Tag = "[object Int16Array]"
  , int32Tag = "[object Int32Array]"
  , uint8Tag = "[object Uint8Array]"
  , uint8ClampedTag = "[object Uint8ClampedArray]"
  , uint16Tag = "[object Uint16Array]"
  , uint32Tag = "[object Uint32Array]"
  , cloneableTags = {};
function baseClone$1(e, t, n, r, o, i) {
    var a, s = t & CLONE_DEEP_FLAG$1, c = t & CLONE_FLAT_FLAG$1, l = t & CLONE_SYMBOLS_FLAG$1;
    if (n && (a = o ? n(e, r, o, i) : n(e)),
    void 0 !== a)
        return a;
    if (!isObject$2(e))
        return e;
    var u = isArray$8(e);
    if (u) {
        if (a = initCloneArray(e),
        !s)
            return copyArray(e, a)
    } else {
        var p = getTag(e)
          , d = p == funcTag || p == genTag;
        if (isBuffer$2(e))
            return cloneBuffer(e, s);
        if (p == objectTag$1 || p == argsTag || d && !o) {
            if (a = c || d ? {} : initCloneObject(e),
            !s)
                return c ? copySymbolsIn(e, baseAssignIn(a, e)) : copySymbols(e, baseAssign(a, e))
        } else {
            if (!cloneableTags[p])
                return o ? e : {};
            a = initCloneByTag(e, p, s)
        }
    }
    i || (i = new Stack);
    var f = i.get(e);
    if (f)
        return f;
    i.set(e, a),
    isSet$1(e) ? e.forEach((function(r) {
        a.add(baseClone$1(r, t, n, r, e, i))
    }
    )) : isMap$1(e) && e.forEach((function(r, o) {
        a.set(o, baseClone$1(r, t, n, o, e, i))
    }
    ));
    var h = u ? void 0 : (l ? c ? getAllKeysIn$1 : getAllKeys : c ? keysIn : keys)(e);
    return arrayEach(h || e, (function(r, o) {
        h && (r = e[o = r]),
        assignValue(a, o, baseClone$1(r, t, n, o, e, i))
    }
    )),
    a
}
cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag$1] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag$1] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = !0,
cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = !1;
var _baseClone = baseClone$1
  , baseGetTag$1 = _baseGetTag
  , isObjectLike$1 = isObjectLike_1
  , symbolTag = "[object Symbol]";
function isSymbol$4(e) {
    return "symbol" == typeof e || isObjectLike$1(e) && baseGetTag$1(e) == symbolTag
}
var isSymbol_1 = isSymbol$4
  , isArray$7 = isArray_1
  , isSymbol$3 = isSymbol_1
  , reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
  , reIsPlainProp = /^\w*$/;
function isKey$1(e, t) {
    if (isArray$7(e))
        return !1;
    var n = typeof e;
    return !("number" != n && "symbol" != n && "boolean" != n && null != e && !isSymbol$3(e)) || (reIsPlainProp.test(e) || !reIsDeepProp.test(e) || null != t && e in Object(t))
}
var _isKey = isKey$1
  , MapCache = _MapCache
  , FUNC_ERROR_TEXT = "Expected a function";
function memoize$1(e, t) {
    if ("function" != typeof e || null != t && "function" != typeof t)
        throw new TypeError(FUNC_ERROR_TEXT);
    var n = function() {
        var r = arguments
          , o = t ? t.apply(this, r) : r[0]
          , i = n.cache;
        if (i.has(o))
            return i.get(o);
        var a = e.apply(this, r);
        return n.cache = i.set(o, a) || i,
        a
    };
    return n.cache = new (memoize$1.Cache || MapCache),
    n
}
memoize$1.Cache = MapCache;
var memoize_1 = memoize$1
  , memoize = memoize_1
  , MAX_MEMOIZE_SIZE = 500;
function memoizeCapped$1(e) {
    var t = memoize(e, (function(e) {
        return n.size === MAX_MEMOIZE_SIZE && n.clear(),
        e
    }
    ))
      , n = t.cache;
    return t
}
var _memoizeCapped = memoizeCapped$1
  , memoizeCapped = _memoizeCapped
  , rePropName$1 = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
  , reEscapeChar$1 = /\\(\\)?/g
  , stringToPath$2 = memoizeCapped((function(e) {
    var t = [];
    return 46 === e.charCodeAt(0) && t.push(""),
    e.replace(rePropName$1, (function(e, n, r, o) {
        t.push(r ? o.replace(reEscapeChar$1, "$1") : n || e)
    }
    )),
    t
}
))
  , _stringToPath = stringToPath$2
  , Symbol$2 = _Symbol
  , arrayMap$1 = _arrayMap
  , isArray$6 = isArray_1
  , isSymbol$2 = isSymbol_1
  , INFINITY$1 = 1 / 0
  , symbolProto = Symbol$2 ? Symbol$2.prototype : void 0
  , symbolToString = symbolProto ? symbolProto.toString : void 0;
function baseToString$1(e) {
    if ("string" == typeof e)
        return e;
    if (isArray$6(e))
        return arrayMap$1(e, baseToString$1) + "";
    if (isSymbol$2(e))
        return symbolToString ? symbolToString.call(e) : "";
    var t = e + "";
    return "0" == t && 1 / e == -INFINITY$1 ? "-0" : t
}
var _baseToString = baseToString$1
  , baseToString = _baseToString;
function toString$2(e) {
    return null == e ? "" : baseToString(e)
}
var toString_1 = toString$2
  , isArray$5 = isArray_1
  , isKey = _isKey
  , stringToPath$1 = _stringToPath
  , toString$1 = toString_1;
function castPath$3(e, t) {
    return isArray$5(e) ? e : isKey(e, t) ? [e] : stringToPath$1(toString$1(e))
}
var _castPath = castPath$3;
function last$2(e) {
    var t = null == e ? 0 : e.length;
    return t ? e[t - 1] : void 0
}
var last_1 = last$2;
const last$3 = getDefaultExportFromCjs$1(last_1);
var isSymbol$1 = isSymbol_1
  , INFINITY = 1 / 0;
function toKey$2(e) {
    if ("string" == typeof e || isSymbol$1(e))
        return e;
    var t = e + "";
    return "0" == t && 1 / e == -INFINITY ? "-0" : t
}
var _toKey = toKey$2
  , castPath$2 = _castPath
  , toKey$1 = _toKey;
function baseGet$1(e, t) {
    for (var n = 0, r = (t = castPath$2(t, e)).length; null != e && n < r; )
        e = e[toKey$1(t[n++])];
    return n && n == r ? e : void 0
}
var _baseGet = baseGet$1;
function baseSlice$1(e, t, n) {
    var r = -1
      , o = e.length;
    t < 0 && (t = -t > o ? 0 : o + t),
    (n = n > o ? o : n) < 0 && (n += o),
    o = t > n ? 0 : n - t >>> 0,
    t >>>= 0;
    for (var i = Array(o); ++r < o; )
        i[r] = e[r + t];
    return i
}
var _baseSlice = baseSlice$1
  , baseGet = _baseGet
  , baseSlice = _baseSlice;
function parent$1(e, t) {
    return t.length < 2 ? e : baseGet(e, baseSlice(t, 0, -1))
}
var _parent = parent$1
  , castPath$1 = _castPath
  , last$1 = last_1
  , parent = _parent
  , toKey = _toKey;
function baseUnset$1(e, t) {
    return t = castPath$1(t, e),
    null == (e = parent(e, t)) || delete e[toKey(last$1(t))]
}
var _baseUnset = baseUnset$1
  , baseGetTag = _baseGetTag
  , getPrototype = _getPrototype
  , isObjectLike = isObjectLike_1
  , objectTag = "[object Object]"
  , funcProto = Function.prototype
  , objectProto = Object.prototype
  , funcToString = funcProto.toString
  , hasOwnProperty$1 = objectProto.hasOwnProperty
  , objectCtorString = funcToString.call(Object);
function isPlainObject$1(e) {
    if (!isObjectLike(e) || baseGetTag(e) != objectTag)
        return !1;
    var t = getPrototype(e);
    if (null === t)
        return !0;
    var n = hasOwnProperty$1.call(t, "constructor") && t.constructor;
    return "function" == typeof n && n instanceof n && funcToString.call(n) == objectCtorString
}
var isPlainObject_1 = isPlainObject$1
  , isPlainObject = isPlainObject_1;
function customOmitClone$1(e) {
    return isPlainObject(e) ? void 0 : e
}
var _customOmitClone = customOmitClone$1
  , Symbol$1 = _Symbol
  , isArguments = isArguments_1
  , isArray$4 = isArray_1
  , spreadableSymbol = Symbol$1 ? Symbol$1.isConcatSpreadable : void 0;
function isFlattenable$1(e) {
    return isArray$4(e) || isArguments(e) || !!(spreadableSymbol && e && e[spreadableSymbol])
}
var _isFlattenable = isFlattenable$1
  , arrayPush = _arrayPush
  , isFlattenable = _isFlattenable;
function baseFlatten$1(e, t, n, r, o) {
    var i = -1
      , a = e.length;
    for (n || (n = isFlattenable),
    o || (o = []); ++i < a; ) {
        var s = e[i];
        t > 0 && n(s) ? t > 1 ? baseFlatten$1(s, t - 1, n, r, o) : arrayPush(o, s) : r || (o[o.length] = s)
    }
    return o
}
var _baseFlatten = baseFlatten$1
  , baseFlatten = _baseFlatten;
function flatten$1(e) {
    return (null == e ? 0 : e.length) ? baseFlatten(e, 1) : []
}
var flatten_1 = flatten$1;
function apply$1(e, t, n) {
    switch (n.length) {
    case 0:
        return e.call(t);
    case 1:
        return e.call(t, n[0]);
    case 2:
        return e.call(t, n[0], n[1]);
    case 3:
        return e.call(t, n[0], n[1], n[2])
    }
    return e.apply(t, n)
}
var _apply = apply$1
  , apply = _apply
  , nativeMax = Math.max;
function overRest$1(e, t, n) {
    return t = nativeMax(void 0 === t ? e.length - 1 : t, 0),
    function() {
        for (var r = arguments, o = -1, i = nativeMax(r.length - t, 0), a = Array(i); ++o < i; )
            a[o] = r[t + o];
        o = -1;
        for (var s = Array(t + 1); ++o < t; )
            s[o] = r[o];
        return s[t] = n(a),
        apply(e, this, s)
    }
}
var _overRest = overRest$1;
function constant$1(e) {
    return function() {
        return e
    }
}
var constant_1 = constant$1;
function identity$2(e) {
    return e
}
var identity_1 = identity$2
  , constant = constant_1
  , defineProperty = _defineProperty
  , identity$1 = identity_1
  , baseSetToString$1 = defineProperty ? function(e, t) {
    return defineProperty(e, "toString", {
        configurable: !0,
        enumerable: !1,
        value: constant(t),
        writable: !0
    })
}
: identity$1
  , _baseSetToString = baseSetToString$1
  , HOT_COUNT = 800
  , HOT_SPAN = 16
  , nativeNow = Date.now;
function shortOut$1(e) {
    var t = 0
      , n = 0;
    return function() {
        var r = nativeNow()
          , o = HOT_SPAN - (r - n);
        if (n = r,
        o > 0) {
            if (++t >= HOT_COUNT)
                return arguments[0]
        } else
            t = 0;
        return e.apply(void 0, arguments)
    }
}
var _shortOut = shortOut$1
  , baseSetToString = _baseSetToString
  , shortOut = _shortOut
  , setToString$1 = shortOut(baseSetToString)
  , _setToString = setToString$1
  , flatten = flatten_1
  , overRest = _overRest
  , setToString = _setToString;
function flatRest$1(e) {
    return setToString(overRest(e, void 0, flatten), e + "")
}
var _flatRest = flatRest$1
  , arrayMap = _arrayMap
  , baseClone = _baseClone
  , baseUnset = _baseUnset
  , castPath = _castPath
  , copyObject = _copyObject
  , customOmitClone = _customOmitClone
  , flatRest = _flatRest
  , getAllKeysIn = _getAllKeysIn
  , CLONE_DEEP_FLAG = 1
  , CLONE_FLAT_FLAG = 2
  , CLONE_SYMBOLS_FLAG = 4
  , omit = flatRest((function(e, t) {
    var n = {};
    if (null == e)
        return n;
    var r = !1;
    t = arrayMap(t, (function(t) {
        return t = castPath(t, e),
        r || (r = t.length > 1),
        t
    }
    )),
    copyObject(e, getAllKeysIn(e), n),
    r && (n = baseClone(n, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone));
    for (var o = t.length; o--; )
        baseUnset(n, t[o]);
    return n
}
))
  , omit_1 = omit;
const omit$1 = getDefaultExportFromCjs$1(omit_1);
function select(e) {
    var t;
    if ("SELECT" === e.nodeName)
        e.focus(),
        t = e.value;
    else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
        var n = e.hasAttribute("readonly");
        n || e.setAttribute("readonly", ""),
        e.select(),
        e.setSelectionRange(0, e.value.length),
        n || e.removeAttribute("readonly"),
        t = e.value
    } else {
        e.hasAttribute("contenteditable") && e.focus();
        var r = window.getSelection()
          , o = document.createRange();
        o.selectNodeContents(e),
        r.removeAllRanges(),
        r.addRange(o),
        t = r.toString()
    }
    return t
}
var select_1 = select;
const select$1 = getDefaultExportFromCjs$1(select_1);
var log_common = {}, Weblog;
function t$1(e) {
    return (t$1 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    )(e)
}
Object.defineProperty(log_common, "__esModule", {
    value: !0
});
var e$2 = function(e, t) {
    return (e$2 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
};
function n$2(e, t) {
    if ("function" != typeof t && null !== t)
        throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function n() {
        this.constructor = e
    }
    e$2(e, t),
    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
    new n)
}
var r$2, o$2, i$2, a$2 = function() {
    return (a$2 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function s$2(e, t) {
    var n = {};
    for (var r in e)
        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var o = 0;
        for (r = Object.getOwnPropertySymbols(e); o < r.length; o++)
            t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]])
    }
    return n
}
function c$2(e, t, n, r) {
    return new (n || (n = Promise))((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : (r = e.value,
            r instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        s((r = r.apply(e, [])).next())
    }
    ))
}
function u$3(e, t) {
    var n, r, o, i, a = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    };
    return i = {
        next: s(0),
        throw: s(1),
        return: s(2)
    },
    "function" == typeof Symbol && (i[Symbol.iterator] = function() {
        return this
    }
    ),
    i;
    function s(i) {
        return function(s) {
            return function(i) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; a; )
                    try {
                        if (n = 1,
                        r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r),
                        0) : r.next) && !(o = o.call(r, i[1])).done)
                            return o;
                        switch (r = 0,
                        o && (i = [2 & i[0], o.value]),
                        i[0]) {
                        case 0:
                        case 1:
                            o = i;
                            break;
                        case 4:
                            return a.label++,
                            {
                                value: i[1],
                                done: !1
                            };
                        case 5:
                            a.label++,
                            r = i[1],
                            i = [0];
                            continue;
                        case 7:
                            i = a.ops.pop(),
                            a.trys.pop();
                            continue;
                        default:
                            if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                a = 0;
                                continue
                            }
                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                a.label = i[1];
                                break
                            }
                            if (6 === i[0] && a.label < o[1]) {
                                a.label = o[1],
                                o = i;
                                break
                            }
                            if (o && a.label < o[2]) {
                                a.label = o[2],
                                a.ops.push(i);
                                break
                            }
                            o[2] && a.ops.pop(),
                            a.trys.pop();
                            continue
                        }
                        i = t.call(e, a)
                    } catch (s) {
                        i = [6, s],
                        r = 0
                    } finally {
                        n = o = 0
                    }
                if (5 & i[0])
                    throw i[1];
                return {
                    value: i[0] ? i[1] : void 0,
                    done: !0
                }
            }([i, s])
        }
    }
}
function l$3(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)),
            r[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
Object.defineProperty || (Object.defineProperty = function(e, t, n) {
    e[t] = "[object Object]" === Object.prototype.toString.call(n) && n.hasOwnProperty("value") ? n.value : n
}
),
Object.assign || Object.defineProperty(Object, "assign", {
    value: function(e) {
        if (null === e)
            throw new TypeError("Cannot convert undefined or null to object");
        for (var t = Object(e), n = 1; n < arguments.length; n++) {
            var r = arguments[n];
            if (null !== r)
                for (var o in r)
                    Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o])
        }
        return t
    },
    writable: !0,
    configurable: !0
}),
Function.prototype.bind || (Function.prototype.bind = function(e) {
    if ("function" != typeof this)
        throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
    var t = Array.prototype.slice.call(arguments, 1)
      , n = this
      , r = function() {}
      , o = function() {
        var o = this instanceof r ? this : e;
        return n.apply(o, t.concat(Array.prototype.slice.call(arguments)))
    };
    return this.prototype && (r.prototype = this.prototype),
    o.prototype = new r,
    o
}
),
Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
    var n;
    if (null == this)
        throw new TypeError('"this" is null or not defined');
    var r = Object(this)
      , o = r.length >>> 0;
    if (0 === o)
        return -1;
    var i = +t || 0;
    if (Math.abs(i) === 1 / 0 && (i = 0),
    i >= o)
        return -1;
    for (n = Math.max(i >= 0 ? i : o - Math.abs(i), 0); n < o; ) {
        if (n in r && r[n] === e)
            return n;
        n++
    }
    return -1
}
),
Object.keys || (Object.keys = (r$2 = Object.prototype.hasOwnProperty,
o$2 = !{
    toString: null
}.propertyIsEnumerable("toString"),
i$2 = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
function(e) {
    if ("object" != typeof e && "function" != typeof e || null === e)
        throw new TypeError("Object.keys called on non-object");
    var t = [];
    for (var n in e)
        r$2.call(e, n) && t.push(n);
    if (o$2)
        for (var r = 0, o = i$2; r < o.length; r++) {
            var i = o[r];
            r$2.call(e, i) && t.push(i)
        }
    return t
}
)),
Array.prototype.forEach || (Array.prototype.forEach = function(e, t) {
    var n, r;
    if (null == this)
        throw new TypeError(" this is null or not defined");
    var o = Object(this)
      , i = o.length >>> 0;
    if ("function" != typeof e)
        throw new TypeError(e + " is not a function");
    for (arguments.length > 1 && (n = t),
    r = 0; r < i; ) {
        var a = void 0;
        r in o && (a = o[r],
        e.call(n, a, r, o)),
        r++
    }
}
);
var p$3 = {
    sessionId: "",
    appDevicePackageReady: !1,
    identityPackageReady: !1
}
  , d$3 = function() {
    function e(e, t) {
        switch (this.page = "",
        this.identity = "",
        t) {
        case "web":
            this.page_type = 2;
            break;
        case "native":
            this.page_type = 1;
            break;
        case "mina":
            this.page_type = 3;
            break;
        default:
            this.page_type = 0
        }
        this.update(e.page, e.params)
    }
    return e.prototype.update = function(e, t) {
        void 0 === e && (e = ""),
        e && e !== this.page && (this.page = e,
        this.identity = this.generatePageId(e)),
        t && (this.params = Object.assign(this.params || {}, t))
    }
    ,
    e.prototype.toJSON = function() {
        return {
            page: this.page,
            identity: this.identity,
            page_type: this.page_type,
            params: JSON.stringify(this.params),
            category: this.category
        }
    }
    ,
    e.prototype.generatePageId = function(e) {
        return e + (new Date).getTime()
    }
    ,
    e
}()
  , f$4 = ["Kwai", "Kwai_Lite", "Kwai_Pro", "livemate", "ksthanos", "ksNebula", "ksnebula", "kwaiying", "pearl", "kinder", "m2u", "LOLita", "XFunCore", "ACVideoCore", "ZIKZAK"].concat(["UVideo", "Vstatus", "Kwaigo", "MvMaster"])
  , h$2 = "undefined" == typeof window ? {
    addEventListener: function() {},
    removeEventListener: function() {},
    setTimeout: function() {},
    setInterval: function() {},
    _WEBLOGGER_MOCKED_WINDOW_: !0,
    document: {
        cookie: "",
        addEventListener: function() {},
        removeEventListener: function() {},
        querySelector: function() {},
        querySelectorAll: function() {}
    },
    navigator: {
        userAgent: "",
        sendBeacon: function() {}
    },
    screen: {},
    history: {},
    location: {
        hostname: "",
        search: "",
        href: "",
        origin: ""
    },
    localStorage: {
        getItem: function() {},
        setItem: function() {}
    }
} : window;
function g$2(e, t, n) {
    var r, o = {};
    if (e.length > 0)
        for (var i = t ? decodeURIComponent : function(e) {
            return e
        }
        , a = e.split(/;\s/g), s = null, c = null, l = null, u = 0, p = a.length; u < p; u++) {
            if ((l = null === (r = a[u]) || void 0 === r ? void 0 : r.match(/([^=]+)=/i)) && null !== l)
                try {
                    s = decodeURIComponent(l[1]),
                    c = i(a[u].substring(l[1].length + 1))
                } catch (d) {}
            else
                s = decodeURIComponent(a[u]),
                c = "";
            null !== s && (o[s] = c)
        }
    return o
}
var m$2, v$3 = {};
function y$4(e, t, n) {
    void 0 === t && (t = {}),
    void 0 === n && (n = !1);
    try {
        if (!n && e in v$3)
            return v$3[e];
        var r = h$2.document.cookie || "";
        return r === m$2 ? v$3[e] : (m$2 = r,
        (v$3 = g$2(r, !t.raw))[e])
    } catch (o) {}
}
function _$3(e, t, n) {
    void 0 === n && (n = {});
    try {
        h$2.document.cookie = function(e, t, n, r) {
            void 0 === r && (r = {});
            var o = "".concat(encodeURIComponent(e), "=").concat(n ? encodeURIComponent(t) : t)
              , i = r.expires
              , a = r.path || "/"
              , s = r.domain || "";
            return i instanceof Date && (o += "; expires=".concat(i.toUTCString())),
            "number" == typeof i && (o += "; max-age==".concat(i)),
            "" !== a && (o += "; path=".concat(a)),
            "" !== s && (o += "; domain=".concat(s)),
            !0 === r.secure && (o += "; secure"),
            o
        }(e, t, !n.raw, n),
        v$3[e] = t
    } catch (r) {}
}
var S$1 = {
    getCookie: y$4,
    setCookie: _$3,
    parseCookieString: g$2
};
function b$3() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    try {
        var n = null === console || void 0 === console ? void 0 : console.warn;
        // return n && n.call.apply(n, l$3([console], e, !1))
    } catch (r) {
        return
    }
}
function w$3() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    try {
        var n = null === console || void 0 === console ? void 0 : console.error;
        return n && n.call.apply(n, l$3([console], e, !1))
    } catch (r) {
        return
    }
}
function E$3(e, t, n, r) {
    return "attachEvent"in e ? e.attachEvent("on" + t, n) : e.addEventListener(t, n, r)
}
function k$2(e, t, n, r) {
    return "attachEvent"in e ? e.detachEvent("on" + t, n) : e.removeEventListener(t, n, r)
}
function O$2(e, t, n) {
    if (void 0 === n && (n = " "),
    (t -= e.length) <= 0)
        return e;
    for (var r = ""; t; )
        1 & t && (r += n),
        t >>= 1,
        n += n;
    return r + e
}
var P$2 = function(e) {
    void 0 === e && (e = h$2.navigator.userAgent.toLowerCase());
    try {
        for (var t = 0; t < f$4.length; t++)
            if (e.indexOf(f$4[t].toLowerCase()) > -1)
                return !0
    } catch (n) {
        return !1
    }
};
function T$2(e) {
    for (var t = {}, n = 0, r = e.split("&"); n < r.length; n++) {
        var o = r[n].split("=")
          , i = o[0]
          , a = o[1];
        i in t ? t[i]instanceof Array ? t[i].push(a) : t[i] = [t[i], a] : t[i] = a
    }
    return t
}
function L$1(e) {
    void 0 === e && (e = h$2.location.href);
    var t = e.lastIndexOf("?");
    return -1 === t ? {
        page: e
    } : {
        page: e.slice(0, t),
        params: T$2(e.slice(t + 1))
    }
}
var C$2 = function(e, t) {
    var n = e.url
      , r = e.page
      , o = e.params
      , i = e.pageId
      , a = !1;
    if (!r && "string" == typeof n) {
        var s = L$1(n);
        r = s.page,
        o = s.params
    }
    if ("function" == typeof t)
        try {
            var c = t({
                url: n,
                page: r,
                params: o
            });
            "string" == typeof c ? r = c : "object" == typeof c && (c.page && (r = c.page),
            c.params && (o = c.params),
            c.pageId && (i = c.pageId),
            c.coPage && (a = !0))
        } catch (p) {}
    else if ("object" == typeof t) {
        var l = "";
        for (var u in t)
            if ((n || r || "").indexOf(u) > -1) {
                l = t[u];
                break
            }
        l && (r = l)
    }
    return {
        page: r,
        params: o,
        pageId: i,
        coPage: a
    }
}, A$1 = function(e) {
    return e && "object" == typeof e && !Array.isArray(e)
}, I$1, N$2 = (I$1 = "",
function() {
    if (I$1)
        return I$1;
    try {
        var e = h$2.devicePixelRatio || 1
          , t = Math.floor(screen.width * e)
          , n = Math.floor(screen.height * e);
        return I$1 = "".concat(t, "x").concat(n)
    } catch (r) {
        return ""
    }
}
), U$1 = function() {
    return !(!((null == h$2 ? void 0 : h$2.Worker) && (null == h$2 ? void 0 : h$2.Uint8Array) && h$2.URL && h$2.Promise) || function() {
        var e, t, n = (null === (e = null == h$2 ? void 0 : h$2.navigator) || void 0 === e ? void 0 : e.userAgent) || "", r = /mobile|tablet|ip(ad|hone|od)|android|(windows phone)/i.test(n), o = "MacIntel" === (null == h$2 ? void 0 : h$2.navigator.platform) && (null === (t = null == h$2 ? void 0 : h$2.navigator) || void 0 === t ? void 0 : t.maxTouchPoints) > 1;
        return r || o
    }())
}, R$2 = function(e) {
    try {
        return Math.abs(Math.floor(e))
    } catch (e2) {
        return e
    }
};
function x$2(e) {
    return "string" == typeof e ? e : "object" == typeof e ? JSON.stringify(e) : ""
}
var D$1 = ["PV", "CUSTOM", "RADAR", "CUSTOM_EVENT", "VIDEO", "LAUNCH_EVENT", "HEART_BEAT_EVENT", "APP_USAGE_STAT_EVENT", "EXCEPTION_EVENT", "DEVICE_STAT_EVENT"];
function j$2(e, t, n) {
    var r, o = null === (r = null == e ? void 0 : e.toUpperCase) || void 0 === r ? void 0 : r.call(e);
    D$1.includes(o) || (null == t ? void 0 : t.page) && (null == n ? void 0 : n.page) && t.page !== n.page && b$3("埋点警告：".concat(o, " 事件，").concat(t.action, " 元素的所属页面(").concat(t.page, ")和运行时页面(").concat(n.page, ")不匹配，可能导致埋点丢失！！"))
}
var M$1 = function() {
    function e() {
        this.events = {}
    }
    return e.prototype.on = function(e, t) {
        var n;
        t && "function" == typeof t && (this.events[e] = this.events[e] || [],
        null === (n = this.events[e]) || void 0 === n || n.push(t))
    }
    ,
    e.prototype.off = function(e, t) {
        if (this.events[e]) {
            if (t && "function" == typeof t) {
                var n = this.events[e];
                n && (o = t,
                (i = (r = n).indexOf(o)) > -1 && r.splice(i, 1))
            }
            var r, o, i;
            t || (this.events[e] = [])
        }
    }
    ,
    e.prototype.emit = function(e) {
        for (var t, n = [], r = 1; r < arguments.length; r++)
            n[r - 1] = arguments[r];
        this.events[e] && (null === (t = this.events[e]) || void 0 === t || t.forEach((function(e) {
            e.apply(void 0, n)
        }
        )))
    }
    ,
    e
}()
  , H$1 = 0
  , G$2 = function(e) {
    function t(n, r) {
        var o, i = e.call(this) || this;
        return i.version = "3.10.44",
        i.plugins = {},
        i.flush = function() {
            i.logger.flush()
        }
        ,
        i.baseOption = a$2({}, r),
        i.logConfig = (o = n,
        a$2({
            env: "production",
            proto: "v3",
            timeout: 3e4,
            wait: 1e3,
            maxBatchLength: 50,
            sampleRate: 1,
            yoda: "undefined" != typeof window && window.yoda,
            forbidV2HttpUrlPage: !0
        }, o || {})),
        i.initUrlPackage(),
        t.__instance || (t.__instance = i),
        i
    }
    return n$2(t, e),
    Object.defineProperty(t.prototype, "sessionId", {
        get: function() {
            return p$3.sessionId
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.initUrlPackage = function() {
        this.updateCurrentUrlPackage()
    }
    ,
    t.prototype.updateCurrentUrlPackage = function(e, t) {
        if (void 0 === e && (e = {}),
        void 0 === t && (t = "web"),
        "object" == typeof e && e.page && this.currentUrlPackage && e.page === this.currentUrlPackage.page)
            return this.currentUrlPackage.update(e.page, e.params);
        this.currentUrlPackage = new d$3(e,t)
    }
    ,
    t.prototype.updateReferUrlPackage = function(e, t) {
        void 0 === e && (e = this.currentUrlPackage),
        void 0 === t && (t = "web"),
        this.referUrlPackage = e instanceof d$3 ? e : new d$3(e,t)
    }
    ,
    t.prototype.updateBase = function(e) {
        this.updateCommonPackage(e)
    }
    ,
    t.prototype.updateCommonPackage = function(e) {
        "object" == typeof e && this.commonPackage.update(e)
    }
    ,
    t.prototype.addPlugins = function() {
        var e = this;
        this.logConfig.plugins && this.logConfig.plugins.length && this.logConfig.plugins.forEach((function(t) {
            "object" == typeof t && "function" == typeof t.apply && e.addPluginInstance(t)
        }
        ))
    }
    ,
    t.prototype.addPluginInstance = function(e) {
        if (e) {
            var t = e.key || e.constructor && e.constructor.key || "plugin_auto_key_".concat(H$1++);
            "function" != typeof e.apply || e.weblog && e.weblog === this || e.apply(this),
            this.plugins[t] = e
        }
    }
    ,
    t.prototype.plug = function(e, t) {
        if (this.plugins[e.key])
            return w$3("[code 301]", "".concat(e.key, " 插件重复加载！"));
        this.addPluginInstance(new e(this,t))
    }
    ,
    t.prototype.unplug = function(e) {
        var t = this.plugins[e];
        t && (t.destroy(),
        delete this.plugins[e])
    }
    ,
    t.prototype.unplugAll = function() {
        for (var e in this.plugins)
            this.plugins[e] && this.unplug(e)
    }
    ,
    t.prototype.generateLog = function(e, t) {
        return {}
    }
    ,
    t.prototype.send = function(e, t, n) {
        j$2(e, t, this.currentUrlPackage);
        var r = this.generateLog(e.toUpperCase(), t);
        return "function" == typeof this.beforeSend && this.beforeSend(e, t, r),
        this.logger.send(r, !!n, t.callback)
    }
    ,
    t.prototype.collect = function(e, t) {
        this.send(e, t)
    }
    ,
    t.prototype.sendImmediately = function(e, t) {
        this.send(e, t, !0)
    }
    ,
    t.prototype.sendPackage = function(e, t) {
        this.logger.sendPackage(e, t)
    }
    ,
    t.prototype.destroy = function() {
        this.unplugAll()
    }
    ,
    t
}(M$1);
function V$2() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
        var t = 16 * Math.random() | 0;
        return ("x" == e ? t : 3 & t | 8).toString(16)
    }
    ))
}
function B$1(e) {
    if (void 0 === e && (e = "undefined" != typeof location ? location.hostname : ""),
    !e)
        return "";
    var t = e.split(".")
      , n = t.length;
    return n <= 2 ? "" : ".".concat(t[n - 2], ".").concat(t[n - 1])
}
function W$1() {
    try {
        var e = y$4("did") || y$4("_did") || y$4("weblogger_did");
        if (!e) {
            e = "web_".concat(function() {
                for (var e = 1e9 * Math.random() >>> 0, t = [], n = 0; n < 7; n++)
                    t.push("0123456789ABCDEF".charAt(16 * Math.random()));
                return e + t.join("")
            }());
            var t = new Date;
            t.setFullYear(t.getFullYear() + 1),
            _$3("weblogger_did", e, {
                expires: t,
                domain: B$1(),
                path: "/"
            })
        }
        return e
    } catch (n) {
        return ""
    }
}
var F$2 = function(e) {
    function t(t, n, r) {
        var o = e.call(this, {}, n) || this;
        if ("string" == typeof t) {
            var i = L$1(t);
            o.page = i.page,
            o.params = i.params
        } else
            o.page = (t || {}).page || "",
            o.params = (t || {}).params || void 0;
        return o.identity = o.generatePageId(),
        r && "string" == typeof t && o.init(t, r),
        o
    }
    return n$2(t, e),
    t.prototype.init = function(e, t) {
        void 0 === t && (t = {});
        var n = C$2({
            url: e,
            page: this.page,
            params: this.params
        }, t)
          , r = n.page
          , o = n.params;
        this.update(r, o)
    }
    ,
    t.prototype.attachUrl = function() {
        var e;
        if (this.params || (this.params = {}),
        null === location || void 0 === location ? void 0 : location.href) {
            this.params.origin_url = this.params.origin_url || (null === (e = h$2.location) || void 0 === e ? void 0 : e.href);
            var t = L$1(h$2.location.href).page
              , n = void 0 === t ? "" : t;
            this.params.origin_pathname = n
        }
    }
    ,
    t.prototype.getRealUrlPackage = function() {
        var e = L$1(h$2.location.href)
          , t = e.page
          , n = e.params;
        return {
            page: t,
            params: a$2({
                page_code: this.page,
                url: h$2.location.href,
                query: n
            }, n),
            page_type: this.page_type,
            identity: this.identity
        }
    }
    ,
    t.prototype.generatePageId = function() {
        return V$2()
    }
    ,
    t
}(d$3)
  , J$1 = "https://data-track.corp.kuaishou.com"
  , K$2 = J$1 + "/"
  , q$1 = "production"
  , z$2 = "rest/wd/common/log/collect/"
  , Q$1 = [q$1, "test", "development", "logger", "oversea"]
  , Y$2 = {
    v2: "rest/kd/log/collect?_json=1&biz=",
    v3: "".concat(z$2, "misc2"),
    radar: "".concat(z$2, "radar")
}
  , X$1 = {
    v2: {
        production: ["https://wlog.ksapisrv.com/", "https://wlog.gifshow.com/"][Math.round(Math.random())],
        development: K$2,
        test: K$2,
        oversea: "https://logsdk.kwai-pro.com/"
    },
    v3: {
        production: "https://log-sdk.ksapisrv.com/",
        development: K$2,
        test: K$2,
        oversea: "https://logsdk.kwai-pro.com/"
    }
}
  , $$1 = function(e, t, n) {
    return void 0 === e && (e = q$1),
    void 0 === t && (t = !1),
    void 0 === n && (n = "v3"),
    -1 === Q$1.indexOf(e) ? e + Y$2[n] : t && X$1.v3[e] ? X$1.v3[e] + Y$2.radar : X$1[n][e] && Y$2[n] ? X$1[n][e] + Y$2[n] : X$1.v3.production + Y$2.v3
}
  , Z$1 = function(e, t) {
    if (!t)
        return e;
    try {
        return /\?(.+?)$/.test(e) ? e.replace(/\?(.+?)$/, "?".concat(t, "&$1")) : e + "?".concat(t)
    } catch (n) {
        return e
    }
}
  , tt$1 = function() {
    function e(e, t) {
        var n = this;
        this.asyncQueue = [],
        this.throttleQueue = [],
        this.errorQueue = [],
        this.sendingQueue = {},
        this.url = "",
        this.isV2 = !1,
        this.isDebug = !1,
        this.radarUrl = "",
        this.drained = !1,
        this.batchCount = 50,
        this.isSetSamplingResult = !1,
        this.sendingYield = null,
        this.flush = function(e) {
            n.sendLogs(n.throttleQueue.concat(n.asyncQueue), e),
            n.throttleQueue = [],
            n.asyncQueue = []
        }
        ,
        this.drain = function() {
            n.drained = !0,
            n.flush(),
            n.flushErrorLogs(),
            setTimeout((function() {
                n.drained = !1
            }
            ), 1e3)
        }
        ,
        this.config = e,
        this.config.maxBatchLength && this.config.maxBatchLength > 1 && (this.batchCount = Math.min(50, this.config.maxBatchLength)),
        this.commonPackage = t,
        this.isDebug = this.config.logger || "logger" === this.config.env,
        this.isV2 = "v2" === this.config.proto,
        this.updateUrls()
    }
    return e.prototype.sendData = function(e, t) {
        return "function" == typeof this.config.sender ? this.config.sender(e, t) : this.baseSendData(e, t)
    }
    ,
    Object.defineProperty(e.prototype, "responseSamplingStorageKey", {
        get: function() {
            var e = this.commonPackage.app_package
              , t = e.product_name
              , n = e.product
              , r = this.commonPackage.identity_package.device_id;
            return "RESPONSE_SAMPLING_STORAGE_KEY_".concat(t || n, "_").concat(r)
        },
        enumerable: !1,
        configurable: !0
    }),
    e.prototype.updateUrls = function() {
        var e = this.config.env;
        e && /^(https?:)?\/\//.test(e) ? this.url = e : this.url = $$1(e),
        this.formatUrl()
    }
    ,
    e.prototype.formatUrl = function() {
        this.radarUrl || (this.radarUrl = this.url.replace(-1 !== this.url.indexOf(Y$2.v2) ? Y$2.v2 : Y$2.v3, Y$2.radar),
        -1 !== this.radarUrl.indexOf(X$1.v2.production || "") && this.radarUrl.replace(X$1.v2.production || "", X$1.v3.production));
        var e = this.commonPackage.app_package
          , t = e.product_name
          , n = e.product
          , r = "v=3.10.44&kpn=".concat(t || n);
        this.url = Z$1(this.url, r),
        this.radarUrl = Z$1(this.radarUrl, r)
    }
    ,
    e.prototype.getCommonPackageJSON = function() {
        return this.commonPackage.toJSON()
    }
    ,
    e.prototype.send = function(e, t, n) {
        if (void 0 === t && (t = !1),
        n || this.drained)
            return this.sendLogs([e], n);
        t ? this.sendAsync(e, n) : this.sendThrottle(e)
    }
    ,
    e.prototype.sendAsync = function(e, t) {
        return c$2(this, void 0, void 0, (function() {
            return u$3(this, (function(t) {
                switch (t.label) {
                case 0:
                    return this.asyncQueue.push(e),
                    this.asyncQueue.length >= this.batchCount ? (this.flush(),
                    [2]) : this.sendingYield ? [4, this.sendingYield] : [3, 2];
                case 1:
                    t.sent(),
                    this.sendingYield = null,
                    t.label = 2;
                case 2:
                    return t.trys.push([2, 4, , 5]),
                    [4, Promise.resolve()];
                case 3:
                case 4:
                    return t.sent(),
                    [3, 5];
                case 5:
                    return this.asyncQueue.length ? (this.flush(),
                    [2]) : [2]
                }
            }
            ))
        }
        ))
    }
    ,
    e.prototype.sendThrottle = function(e) {
        var t = this;
        this.throttleQueue.push(e),
        this.throttleQueue.length >= this.batchCount ? this.flush() : (clearTimeout(this.batchWaitTimer),
        this.batchWaitTimer = setTimeout((function() {
            t.flush()
        }
        ), this.config.wait))
    }
    ,
    e.prototype.sendLogs = function(e, t) {
        var n = this;
        if (!e || !e.length)
            return "function" == typeof t && t();
        var r = this.buildLogPackage(e, this.url);
        this.sendPackage(r, (function(e) {
            e ? n.errHandler(r) : n.flushErrorLogs(),
            "function" == typeof t && t(e)
        }
        ))
    }
    ,
    e.prototype.sendPackage = function(e, t) {
        var n = this.config.timeout;
        try {
            this.sendData(a$2(a$2({}, e), {
                isDebug: this.isDebug,
                isDrained: this.drained,
                timeout: n
            }), t)
        } catch (r) {
            "function" == typeof t && t(r)
        }
    }
    ,
    e.prototype.buildLogPackage = function(e, t) {
        return this.isV2 ? this.buildV2Package(e, t) : this.buildV3Package(e, t)
    }
    ,
    e.prototype.buildV2Package = function(e, t) {
        return {
            url: t,
            data: {
                log: {
                    event: e
                }
            }
        }
    }
    ,
    e.prototype.buildV3Package = function(e, t, n) {
        var r = this.getCommonPackageJSON();
        return n && Object.assign(r, n),
        {
            url: t,
            data: {
                common: r,
                logs: e
            }
        }
    }
    ,
    e.prototype.errHandler = function(e) {
        var t;
        if (this.isV2)
            this.errorQueue.unshift(e);
        else {
            var n = e.data;
            if (n.logs.length) {
                delete n.common.h5_extra_attr.http_seq_id,
                delete n.common.h5_extra_attr.client_timestamp;
                for (var r = !1, o = 0; o < this.errorQueue.length; o++) {
                    var i = this.errorQueue[o];
                    if (i.url === e.url && i.data.logs.length + n.logs.length <= 100 && JSON.stringify(i.data.common) === JSON.stringify(n.common)) {
                        r = !0,
                        (t = i.data.logs).push.apply(t, n.logs);
                        break
                    }
                }
                r || (this.errorQueue.length >= 5 && this.errorQueue.pop(),
                this.errorQueue.unshift(e))
            }
        }
    }
    ,
    e.prototype.flushErrorLogs = function() {
        var e = this;
        this.errorQueue.forEach((function(t) {
            e.sendPackage(t)
        }
        )),
        this.errorQueue = []
    }
    ,
    e.prototype.destory = function() {
        this.batchWaitTimer && clearTimeout(this.batchWaitTimer),
        this.compensateTimer && clearTimeout(this.compensateTimer)
    }
    ,
    e.prototype.sendRadar = function(e, t) {
        var n = t ? {
            service_name: t
        } : void 0
          , r = this.buildV3Package([e], this.radarUrl || this.url, n);
        this.sendPackage(r)
    }
    ,
    e
}()
  , et$2 = function(e, t, n) {
    return w$3("[error 400]", "埋点上报接口请求报错", "\nurl:", t, "\ndata", n, "\nerror:", e || "server decode log failed")
};
function nt$1(e, t) {
    var n = e.url
      , r = e.data
      , o = e.timeout;
    return new Promise((function(e) {
        if ("undefined" != typeof XMLHttpRequest) {
            var i = new XMLHttpRequest;
            return i.open("POST", n),
            i.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
            "object" != typeof r || r instanceof Uint8Array || (r = JSON.stringify(r)),
            o && (i.timeout = o),
            i.onload = function() {
                var o = function(e, t, n, r) {
                    var o;
                    if (e < 200 || e >= 300 && 304 !== e)
                        ;
                    else
                        try {
                            var i = JSON.parse(t)
                              , a = i.exception
                              , s = i.result
                              , c = i.error_msg;
                            a && (o = a),
                            1 !== s && (o = c || "result is ".concat(s))
                        } catch (l) {
                            o = l.message
                        }
                    return o && et$2(o, n, r),
                    o
                }(i.status, i.response, n, r);
                t && t(o),
                e({
                    error: o,
                    response: o ? void 0 : i.response
                })
            }
            ,
            i.ontimeout = i.onerror = function(o) {
                o && et$2(o, n, r),
                t && t(o ? "networkTimeout" : ""),
                e({
                    error: "networkTimeout"
                })
            }
            ,
            i.send(r),
            i
        }
    }
    ))
}
var rt$1 = function(e) {
    if ("undefined" != typeof XMLHttpRequest) {
        var t = function(t) {
            return w$3("[error 401]", "GET 请求出错 url: ".concat(e), t)
        };
        try {
            var n = new XMLHttpRequest;
            n.open("GET", e),
            n.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
            n.send(),
            n.onerror = t
        } catch (r) {
            t(r)
        }
    }
}
  , ot$1 = null == h$2 ? void 0 : h$2.navigator
  , it$1 = ot$1 && -1 !== ot$1.userAgent.indexOf("Chrome")
  , at$1 = "function" == typeof ot$1.sendBeacon;
function st$1(e, t) {
    var n = e.url
      , r = e.data
      , o = e.timeout;
    e.isDebug;
    var i = e.isDrained
      , a = e.forceSendBeacon;
    return c$2(this, void 0, void 0, (function() {
        var e;
        return u$3(this, (function(s) {
            switch (s.label) {
            case 0:
                return r = JSON.stringify(r),
                i && function(e) {
                    var t, n = e.url, r = e.data;
                    if (!it$1 && !e.forceSendBeacon || !at$1)
                        return !1;
                    "object" == typeof r && r.fd && (r = r.fd);
                    try {
                        return null === (t = h$2.navigator) || void 0 === t ? void 0 : t.sendBeacon(n, r)
                    } catch (o) {
                        return w$3("[error 403]", "navigator.sendBeacon 报错", o),
                        !1
                    }
                }({
                    url: n,
                    data: r,
                    forceSendBeacon: a
                }) ? (t && t(),
                [2]) : [4, nt$1({
                    url: n,
                    data: r,
                    timeout: o
                }, t)];
            case 1:
                return [2, (e = s.sent()).error ? void 0 : e.response]
            }
        }
        ))
    }
    ))
}
var ct$1, ut = function(e, t, n) {
    void 0 === e && (e = J$1);
    var r = "".concat(e, "/#/logger/index?sessionId=").concat(n);
    return function() {
        for (var e = [], t = 0; t < arguments.length; t++)
            e[t] = arguments[t];
        try {
            var n = null === console || void 0 === console ? void 0 : console.log;
            n && n.call.apply(n, l$3([console], e, !1))
        } catch (r) {
            return
        }
    }("%c埋点抓包校验: %c".concat(r), "color:#1abf89;font-size:1.2em;line-height:2.4em;", "font-size:1.2em;"),
    "".concat(t, "/").concat(n, "/")
}, t2;
t2 = ct$1 || (ct$1 = {}),
t2.loading = "loading",
t2.loaded = "loaded";
var lt$1, pt, dt, ft = Object.create(null), ht$1 = "weblogger_switch", gt = function(e) {
    var t = function() {
        try {
            var e = y$4(ht$1) || "undefined" != typeof sessionStorage && sessionStorage.getItem(ht$1);
            if (!e)
                return;
            var t = JSON.parse(e)
              , n = t.loggerSessionId
              , r = t.reportHost
              , o = t.loggerHost
              , i = t.handshakeApi;
            return n ? (rt$1(i || "".concat(r, "/").concat(n)),
            ut(o, r, n)) : ""
        } catch (a) {
            return ""
        }
    }() || function(e) {
        void 0 === e && (e = h$2.location.href);
        var t = e.lastIndexOf("?");
        if (-1 === t)
            return "";
        var n = T$2(e.slice(t + 1)).webloggerSwitch;
        if (!n)
            return "";
        try {
            var r = decodeURIComponent(n)
              , o = JSON.parse(r)
              , i = o.loggerSessionId
              , a = o.reportHost
              , s = o.loggerHost
              , c = o.handshakeApi;
            return i ? ("undefined" != typeof sessionStorage && h$2.sessionStorage.setItem(ht$1, r),
            rt$1(c || "".concat(a, "/").concat(i)),
            ut(s, a, i)) : ""
        } catch (l) {
            return ""
        }
    }();
    if (t)
        return $$1(t, !1, e)
}, mt = function(e) {
    function t(t, n) {
        var r = e.call(this, t, n) || this;
        return r.baseSendData = r.sendLog,
        r.getResponseSamplingStorage(),
        r
    }
    return n$2(t, e),
    t.prototype.getResponseSamplingStorage = function() {
        return c$2(this, void 0, void 0, (function() {
            var e;
            return u$3(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Promise.resolve()];
                case 1:
                    return t.sent(),
                    (e = Number(h$2.localStorage.getItem(this.responseSamplingStorageKey))) && Date.now() < e ? this.sendEffectiveTime = e : e && h$2.localStorage.removeItem(this.responseSamplingStorageKey),
                    [3, 3];
                case 2:
                    return t.sent(),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    ,
    t.prototype.isResponseSampling = function() {
        return !!(this.sendEffectiveTime && Date.now() < this.sendEffectiveTime)
    }
    ,
    t.prototype.setResponseSamplingConfig = function(e) {
        var t = this;
        this.isSetSamplingResult || (this.isSetSamplingResult = !0,
        null == e || e.then((function(e) {
            var n;
            try {
                n = e && JSON.parse(e)
            } catch (i) {
                n = {
                    result: 1,
                    hostName: ""
                }
            }
            var r = null == n ? void 0 : n.expireSeconds;
            if (r) {
                var o = Date.now() + 1e3 * r;
                t.sendEffectiveTime = o,
                h$2.localStorage.setItem(t.responseSamplingStorageKey, String(o))
            }
        }
        )))
    }
    ,
    t.prototype.updateUrls = function() {
        var e = this.config
          , t = e.env
          , n = void 0 === t ? q$1 : t
          , r = e.logger
          , o = e.proto
          , i = e.isBridge
          , a = e.disableCompress
          , s = gt(o);
        if (s)
            this.url = s,
            this.isDebug = !0;
        else if (r || "logger" === n || "logger-oversea" === n) {
            var c = function(e, t) {
                void 0 === e && (e = W$1()),
                void 0 === t && (t = !1);
                var n = t ? "https://data-track-sgp.corp.kuaishou.com" : J$1;
                return rt$1("".concat(n, "/rest/").concat(e)),
                ut(n, "".concat(n, "/rest"), e)
            }(this.commonPackage.identity_package.device_id, "logger-oversea" === n);
            this.url = $$1(c, !1, o),
            this.isDebug = !0
        } else
            n && /^(https?:)?\/\//.test(n) ? this.url = n : (this.isDebug = n !== q$1,
            this.url = $$1(n, !1, o),
            this.radarUrl = $$1(n, !0, o));
        this.enableAsyncGzip = !a && "v3" === o && !i && U$1() && n === q$1 && !s && !r,
        this.enableAsyncGzip && function(e, t, n) {
            if (void 0 === t && (t = !0),
            !ft[e]) {
                var r = ft[e] = {
                    state: ct$1.loading
                }
                  , o = document.createElement("script");
                o.crossOrigin = "anonymous",
                o.src = e,
                t && (o.async = !0);
                var i = document.getElementsByTagName("script")[0];
                i && i.parentNode ? i.parentNode.insertBefore(o, i) : document.head.appendChild(o),
                o.onload = function() {
                    r.state = ct$1.loaded
                }
                ,
                o.onerror = function(e) {
                    r.state = ct$1.loaded
                }
            }
        }("https://static.yximgs.com/udata/pkg/ks-track-platform-new/weblogger/3.10.44/async/gzipper.min.js"),
        this.formatUrl()
    }
    ,
    t.prototype.sendLog = function(e, t) {
        var n = this.config.forceSendBeacon;
        !this.isV2 && this.isResponseSampling() || !this.drained && this.enableAsyncGzip && this.sendGzip(e, t) || this.setResponseSamplingConfig(st$1(a$2(a$2({}, e), {
            forceSendBeacon: n
        }), t))
    }
    ,
    t.prototype.sendGzip = function(e, n) {
        var r, o = this;
        if (!(null === (r = t.Gzipper) || void 0 === r ? void 0 : r.sendData))
            return !1;
        var i = t.Gzipper.sendData(e, (function(t) {
            t && o.setResponseSamplingConfig(st$1(e, n))
        }
        ));
        return this.setResponseSamplingConfig(i),
        !!i
    }
    ,
    t.prototype.getCommonPackageJSON = function() {
        return this.commonPackage.toJSON()
    }
    ,
    t.prototype.send = function(t, n, r) {
        void 0 === n && (n = !1),
        this.isV2 && (this.commonPackage.setAdditionalSeqIdPackage(t.getEventType()),
        t.common_package = this.getCommonPackageJSON()),
        e.prototype.send.call(this, t, n, r)
    }
    ,
    t
}(tt$1);
!function(e) {
    var t, n, r, o, i, a, s, c;
    (t = e.ElementStatus || (e.ElementStatus = {}))[t.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    t[t.CHECKED = 1] = "CHECKED",
    t[t.UNCHECKED = 2] = "UNCHECKED",
    (n = e.PageShowAction || (e.PageShowAction = {}))[n.UNKNOWN_ACTION = 0] = "UNKNOWN_ACTION",
    n[n.ENTER = 1] = "ENTER",
    n[n.LEAVE = 2] = "LEAVE",
    n[n.RESUME = 3] = "RESUME",
    (r = e.ActionStatus || (e.ActionStatus = {}))[r.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    r[r.SUCCESS = 1] = "SUCCESS",
    r[r.FAIL = 2] = "FAIL",
    (o = e.ActionType || (e.ActionType = {}))[o.UNKNOWN_ACTION_TYPE = 0] = "UNKNOWN_ACTION_TYPE",
    o[o.CLICK = 1] = "CLICK",
    o[o.LEFT_PULL = 2] = "LEFT_PULL",
    o[o.RIGHT_PULL = 3] = "RIGHT_PULL",
    o[o.UP_PULL = 4] = "UP_PULL",
    o[o.DOWN_PULL = 5] = "DOWN_PULL",
    (i = e.SubAction || (e.SubAction = {}))[i.UNKNOWN_SUB_ACTION = 0] = "UNKNOWN_SUB_ACTION",
    i[i.PAGE_ENTER = 1] = "PAGE_ENTER",
    i[i.PAGE_LEAVE = 2] = "PAGE_LEAVE",
    i[i.PAGE_RESUME = 3] = "PAGE_RESUME",
    i[i.PAGE_PAUSE = 4] = "PAGE_PAUSE",
    (a = e.Direction || (e.Direction = {}))[a.UNKNOWN2 = 0] = "UNKNOWN2",
    a[a.UP = 1] = "UP",
    a[a.DOWN = 2] = "DOWN",
    a[a.LEFT = 3] = "LEFT",
    a[a.RIGHT = 4] = "RIGHT",
    (s = e.TaskStatus || (e.TaskStatus = {}))[s.UNKNOWN_STATUS = 0] = "UNKNOWN_STATUS",
    s[s.START = 1] = "START",
    s[s.RETRY = 2] = "RETRY",
    s[s.PAUSE = 3] = "PAUSE",
    s[s.RESUME = 4] = "RESUME",
    s[s.PENDING = 5] = "PENDING",
    s[s.PROCESSING = 6] = "PROCESSING",
    s[s.SUCCESS = 7] = "SUCCESS",
    s[s.FAIL = 8] = "FAIL",
    s[s.CANCEL = 9] = "CANCEL",
    s[s.FINISH = 10] = "FINISH",
    (c = e.OperationType || (e.OperationType = {}))[c.UNKNOWN_OPERATION = 0] = "UNKNOWN_OPERATION",
    c[c.CLICK = 1] = "CLICK",
    c[c.DOUBLE_CLICK = 2] = "DOUBLE_CLICK",
    c[c.TRIPLE_CLICK = 3] = "TRIPLE_CLICK",
    c[c.LONG_PRESS = 4] = "LONG_PRESS",
    c[c.PULL = 5] = "PULL",
    c[c.DRAG = 6] = "DRAG",
    c[c.SCALE = 7] = "SCALE",
    c[c.PULL_DOWN = 8] = "PULL_DOWN",
    c[c.PULL_UP = 9] = "PULL_UP",
    c[c.RIGHT_CLICK = 10] = "RIGHT_CLICK",
    c[c.AUTO = 11] = "AUTO"
}(lt$1 || (lt$1 = {})),
function(e) {
    var t, n;
    (t = e.ShowType || (e.ShowType = {}))[t.UNKNOWN_TYPE = 0] = "UNKNOWN_TYPE",
    t[t.PAGE_AUTO = 10] = "PAGE_AUTO",
    t[t.PAGE_CUSTOM = 11] = "PAGE_CUSTOM",
    t[t.ELEMENT = 12] = "ELEMENT",
    (n = e.TaskEventType || (e.TaskEventType = {}))[n.UNKNOWN_TYPE = 0] = "UNKNOWN_TYPE",
    n[n.USER_OPERATION = 1] = "USER_OPERATION",
    n[n.STAY_LENGTH_STAT_EVENT = 2] = "STAY_LENGTH_STAT_EVENT",
    n[n.BACKGROUND_TASK_EVENT = 3] = "BACKGROUND_TASK_EVENT"
}(pt || (pt = {})),
function(e) {
    var t;
    (t = e.ShowType || (e.ShowType = {}))[t.UNKNOWN2 = 0] = "UNKNOWN2",
    t[t.PAGE = 1] = "PAGE"
}(dt || (dt = {}));
var vt = !0
  , yt = (new Date).valueOf();
function _t(e) {
    var t = e || yt;
    return t ? R$2((new Date).valueOf() - t) : 0
}
var St, bt, wt, Et = function(e, t) {
    var n, r;
    void 0 === t && (t = !1);
    var o = e.type
      , i = e.currentUrlPackage
      , a = e.referUrlPackage
      , s = e.name
      , c = void 0 === s ? "" : s
      , l = e.action
      , u = e.beginTime
      , p = e.params
      , d = e.contentPackage
      , f = e.status
      , h = e.actionType
      , g = e.auto
      , m = ((n = {
        status: f ? lt$1.ActionStatus[f] || lt$1.ActionStatus.UNKNOWN_STATUS : lt$1.ActionStatus.SUCCESS
    })[t ? "show_type" : "action_type"] = h ? lt$1.ActionType[h] || lt$1.ActionType.UNKNOWN_ACTION_TYPE : lt$1.ActionType.CLICK,
    n.url_package = i,
    n.refer_url_package = a,
    n[t ? "content_wrapper" : "content_package"] = d,
    n);
    if ("PV" === o) {
        var y = lt$1.SubAction.PAGE_ENTER
          , v = lt$1.PageShowAction.ENTER
          , b = vt
          , _ = 0;
        switch (vt = !1,
        l) {
        case "leave":
            v = lt$1.PageShowAction.LEAVE,
            y = lt$1.SubAction.PAGE_LEAVE,
            _ = _t(u),
            yt = void 0;
            break;
        case "enter":
            v = lt$1.PageShowAction.ENTER,
            y = lt$1.SubAction.PAGE_ENTER,
            yt = (new Date).valueOf();
            break;
        case "visible":
            v = lt$1.PageShowAction.RESUME,
            y = lt$1.SubAction.PAGE_RESUME,
            yt = (new Date).valueOf();
            break;
        case "hidden":
            v = lt$1.PageShowAction.LEAVE,
            y = lt$1.SubAction.PAGE_PAUSE,
            _ = _t(u),
            yt = void 0
        }
        var S = g ? pt.ShowType.PAGE_AUTO : pt.ShowType.PAGE_CUSTOM;
        return t && (b = void 0,
        S = dt.ShowType.PAGE),
        {
            show_event: a$2({
                action: v,
                sub_action: y,
                type: S,
                first_load: b,
                time_cost: 0,
                stay_length: _
            }, m)
        }
    }
    return {
        show_event: a$2({
            action: t ? 0 : lt$1.PageShowAction.ENTER,
            type: t ? 0 : pt.ShowType.ELEMENT,
            sub_action: t ? 0 : lt$1.SubAction.PAGE_ENTER,
            element_package: (r = {},
            r[t ? "action2" : "action"] = c,
            r.params = JSON.stringify(p),
            r)
        }, m)
    }
}, kt = function(e, t) {
    var n, r;
    void 0 === t && (t = !1);
    var o = e.sessionId
      , i = e.currentUrlPackage
      , a = e.referUrlPackage
      , s = e.name
      , c = e.params
      , l = e.type
      , u = e.contentPackage
      , p = e.status
      , d = e.taskType
      , f = e.operationDirection
      , h = ((n = {
        url_package: i,
        refer_url_package: a,
        element_package: (r = {},
        r[t ? "action2" : "action"] = s,
        r.params = JSON.stringify(c),
        r)
    })[t ? "content_wrapper" : "content_package"] = u,
    n);
    if (t) {
        var g = "USER_OPERATION" === d || "CLICK" === l && !d
          , m = l && lt$1.OperationType[l] || lt$1.OperationType.CLICK;
        return g ? {
            click_event: a$2({
                type: m,
                direction: f && lt$1.Direction[f] || lt$1.Direction.UNKNOWN2
            }, h)
        } : {
            task_event: a$2({
                action2: s,
                status: p && lt$1.TaskStatus[p] || lt$1.TaskStatus.UNKNOWN_STATUS
            }, h)
        }
    }
    return {
        task_event: a$2({
            type: d && pt.TaskEventType[d] || pt.TaskEventType.USER_OPERATION,
            status: p && lt$1.TaskStatus[p] || lt$1.TaskStatus.UNKNOWN_STATUS,
            operation_type: lt$1.OperationType[l] || lt$1.OperationType.CLICK,
            operation_direction: f && lt$1.Direction[f] || lt$1.Direction.UNKNOWN2,
            session_id: o
        }, h)
    }
}, Ot = function(e) {
    var t = e.name
      , n = e.params
      , r = e.currentUrlPackage
      , o = e.referUrlPackage
      , i = s$2(e, ["name", "params", "currentUrlPackage", "referUrlPackage"]);
    return {
        key: t,
        value: JSON.stringify(a$2(a$2({
            url_package: r,
            refer_url_package: o
        }, n), i))
    }
}, Pt = function(e) {
    var t = e.currentUrlPackage
      , n = e.referUrlPackage
      , r = e.options;
    return {
        video_stat_event: a$2(a$2({}, r), {
            url_package: t,
            refer_url_package: n
        })
    }
}, Tt = {}, Lt = function(e) {
    try {
        if (h$2 && h$2.localStorage && "undefined" != typeof Storage && h$2.localStorage instanceof Storage) {
            var t = Number(function(e) {
                try {
                    if (h$2 && h$2.localStorage) {
                        var t = h$2.localStorage.getItem(e);
                        if (t)
                            try {
                                return JSON.parse(t)
                            } catch (n) {
                                return t
                            }
                    }
                } catch (n) {
                    return null
                }
                return null
            }(e)) || 0;
            return t + 1 > 1e8 && (t = 0),
            function(e, t) {
                try {
                    if (h$2 && h$2.localStorage)
                        return h$2.localStorage.setItem(e, JSON.stringify(t)),
                        !0
                } catch (n) {
                    return !1
                }
            }(e, t + 1),
            t
        }
    } catch (n) {}
    return Tt[e] || (Tt[e] = 0),
    Tt[e]++
}, Ct = (St = (new Date).getTimezoneOffset() / 60) <= 0 ? "GMT+".concat(O$2(-St + "", 2, "0"), ":00") : "GMT-".concat(O$2(St + "", 2, "0"), ":00"), At = function() {
    function e(e, t) {
        void 0 === t && (t = !1),
        this.client_timestamp = R$2((new Date).valueOf()),
        this.client_increment_id = 0,
        this.session_id = p$3.sessionId,
        this.event_id = "",
        t || (this.time_zone = Ct),
        Object.assign(this, e),
        this.genIncrementId()
    }
    return e.prototype.genIncrementId = function() {
        this.client_increment_id = this.isCustomStatEvent() ? Lt("WEBLOGGER_CUSTOM_INCREAMENT_ID_KEY") : Lt("WEBLOGGER_INCREAMENT_ID_KEY")
    }
    ,
    e.prototype.isCustomStatEvent = function() {
        return !(!this.stat_package || !("custom_stat_event"in this.stat_package))
    }
    ,
    e.prototype.getEventType = function() {
        if (this.event_package) {
            var e = this.event_package
              , t = e.task_event
              , n = e.show_event
              , r = e.click_event
              , o = e.custom_event;
            if (n)
                return "showEvent";
            if (r)
                return "clickEvent";
            if (t)
                return "taskEvent";
            if (o)
                return "customEvent"
        }
        return "customEvent"
    }
    ,
    e
}();
function It(e, t, n) {
    var r;
    void 0 === n && (n = !1);
    var o, i = t.eventId, a = t.currentUrlPackage, s = t.referUrlPackage, c = t.contentPackage, l = t.name, u = t.params;
    switch (n && "RADAR" !== e && "CUSTOM" !== e && (a && (a.page2 = a.page,
    delete a.page),
    s && (s.page2 = s.page,
    delete s.page)),
    e) {
    case "PV":
    case "SHOW":
        return new At({
            event_package: Et({
                type: e,
                status: t.status,
                currentUrlPackage: a,
                referUrlPackage: s,
                action: t.type,
                beginTime: t.beginTime,
                actionType: t.actionType,
                name: l,
                params: u,
                contentPackage: c,
                operationDirection: t.operationDirection,
                auto: t.auto
            }, n),
            event_id: i
        },n);
    case "CUSTOM":
    case "CUSTOM_STAT_EVENT":
        var p = Ot({
            name: l,
            params: u,
            currentUrlPackage: a,
            referUrlPackage: s
        });
        return new At(n ? {
            event_package: {
                custom_event: p
            },
            event_id: i
        } : {
            stat_package: {
                custom_stat_event: p
            },
            event_id: i
        },n);
    case "RADAR":
        return new At({
            stat_package: {
                custom_stat_event: Ot({
                    name: l,
                    params: u,
                    currentUrlPackage: a,
                    referUrlPackage: s
                })
            },
            event_id: i
        },n);
    case "HEART_BEAT_EVENT":
    case "LAUNCH_EVENT":
    case "APP_USAGE_STAT_EVENT":
    case "EXCEPTION_EVENT":
    case "DEVICE_STAT_EVENT":
        return new At({
            stat_package: (r = {},
            r[e.toLowerCase()] = (o = t,
            o.currentUrlPackage,
            o.referUrlPackage,
            o.taskType,
            s$2(o, ["currentUrlPackage", "referUrlPackage", "taskType"])),
            r)
        },n);
    case "VIDEO":
        return new At(n ? {
            stat_package: Pt({
                currentUrlPackage: a,
                referUrlPackage: s,
                options: u.params
            }),
            event_id: i
        } : {
            event_package: kt({
                type: e,
                status: t.status,
                taskType: t.taskType,
                sessionId: p$3.sessionId,
                currentUrlPackage: a,
                referUrlPackage: s,
                name: l,
                params: u.params,
                contentPackage: c
            }, n),
            event_id: i
        },n);
    default:
        return new At({
            event_package: kt({
                type: e,
                status: t.status,
                taskType: t.taskType,
                sessionId: p$3.sessionId,
                currentUrlPackage: a,
                referUrlPackage: s,
                name: l,
                params: u,
                contentPackage: c
            }, n),
            event_id: i
        },n)
    }
}
var Nt, Ut = (null === (bt = null == h$2 ? void 0 : h$2.navigator) || void 0 === bt ? void 0 : bt.userAgent) || "", Rt = function(e) {
    var t, n, r, o;
    if (void 0 === e && (e = null === (t = null == h$2 ? void 0 : h$2.navigator) || void 0 === t ? void 0 : t.userAgent),
    wt && e === Ut)
        return wt;
    var i = "unknow"
      , a = /android/i
      , s = "Mac OS"
      , c = "Windows"
      , l = "Android"
      , u = "iPhone"
      , p = "iPad"
      , d = "Windows Phone"
      , f = "Linux";
    wt = {
        os: {
            name: i,
            version: i
        },
        model: i
    };
    try {
        var h = e.match(/\((.*?)\)/);
        if (!h)
            return a.test(e) && (wt.os.name = l),
            wt;
        var g = h[1] + ")"
          , m = g.split(";").map((function(e) {
            return e.trim()
        }
        ))
          , y = void 0
          , v = void 0
          , b = void 0;
        if (e.indexOf(d) > -1)
            b = y = d,
            (w = g.match(/Windows\sPhone\s(.*?)[;\)\s]/)) && (v = w[1]),
            b = null === (n = m[m.length - 1]) || void 0 === n ? void 0 : n.replace(")", "");
        else if (a.test(e)) {
            y = l;
            var _ = g.match(/android.*?;(.*?)build\//i);
            _ && (b = (b = null === (r = _[1]) || void 0 === r ? void 0 : r.split(";").pop()) && b.trim());
            for (var S = 0; S < m.length; S++)
                if (a.test(m[S])) {
                    v = null === (o = m[S]) || void 0 === o ? void 0 : o.replace(a, ""),
                    b || (b = m[S + 1]);
                    break
                }
        } else if (e.indexOf(u) > -1 || e.indexOf(p) > -1)
            b = e.indexOf(u) > -1 ? u : p,
            y = "iOS",
            (w = g.match(/OS\s(.*?)\slike/)) && (v = w[1]);
        else if (e.indexOf(s) > -1)
            b = y = s,
            (w = g.match(/OS\sX\s(.*?)[;\)\s]/)) && (v = w[1]);
        else if (e.indexOf(c) > -1) {
            var w;
            b = y = c,
            (w = g.match(/Windows\s(.*?)[;\)]/)) && (v = w[1])
        } else if (e.indexOf("Nokia") > -1) {
            y = "Symbian";
            var $ = e.match(/Symbian.*?\/(.*?);/);
            $ && (v = $[1]);
            var k = e.match(/Nokia(.*?)\//);
            k && (b = k[1])
        } else
            g.indexOf(f) > -1 && (y = b = f);
        wt = {
            os: {
                name: y || i,
                version: v && v.replace(/_/g, ".").trim() || i
            },
            model: b || i
        }
    } catch (E) {}
    return wt
};
function xt() {
    return void 0 === Nt && (Nt = P$2() && y$4("kpn") || function() {
        if ("undefined" == typeof window)
            return "";
        for (var e = window.navigator.userAgent, t = [[/ Kwai\//, "KUAISHOU"], [/ ksthanos\//, "THANOS"], [/ ksNebula\//i, "NEBULA"]], n = 0; n < t.length; n++) {
            var r = t[n]
              , o = r[0]
              , i = r[1];
            if (o.exec(e))
                return i
        }
        return ""
    }() || ""),
    Nt
}
var Dt, jt, Mt, Ht = {
    supportsPushState: function() {
        var e = h$2.navigator.userAgent;
        return (-1 === e.indexOf("Android 2.") && -1 === e.indexOf("Android 4.0") || -1 === e.indexOf("Mobile Safari") || -1 !== e.indexOf("Chrome") || -1 !== e.indexOf("Windows Phone")) && h$2.history && "pushState"in h$2.history
    },
    getUAInfo: Rt,
    getDefaultKpn: xt
}, Gt = function() {
    var e;
    return "function" == typeof (null === (e = null == h$2 ? void 0 : h$2.__yodaBridge__) || void 0 === e ? void 0 : e.invoke)
}, Vt = function(e, t) {
    return void 0 === t && (t = "tool"),
    c$2(void 0, void 0, void 0, (function() {
        var n;
        return u$3(this, (function(r) {
            switch (r.label) {
            case 0:
                return void 0 === Dt ? [2, !1] : [4, Dt("tool.canIUse", {
                    namespace: t,
                    name: e
                })];
            case 1:
                return [2, (null == (n = r.sent()) ? void 0 : n.canUse) || !1]
            }
        }
        ))
    }
    ))
}, Bt = {
    setClientLog: function(e, t) {
        return c$2(void 0, void 0, void 0, (function() {
            var n;
            return u$3(this, (function(r) {
                switch (r.label) {
                case 0:
                    return r.trys.push([0, 2, , 3]),
                    [4, Dt("tool.setClientLog", {
                        type: e,
                        data: t
                    })];
                case 1:
                    return [2, r.sent()];
                case 2:
                    return n = r.sent(),
                    w$3("[error 206]", "yoda.tool.setClientLog() 报错: ".concat(n.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    sendRadarLog: function(e) {
        return c$2(void 0, void 0, void 0, (function() {
            var t;
            return u$3(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Dt("tool.sendRadarLog", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    w$3("[error 207]", "yoda.tool.sendRadarLog() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    sendWebLog: function(e) {
        return c$2(void 0, void 0, void 0, (function() {
            return u$3(this, (function(t) {
                try {
                    return [2, Dt("tool.sendWebLog", e)]
                } catch (n) {
                    w$3("[error 214]", "yoda.tool.sendWebLog() 报错: ".concat(n.message))
                }
                return [2]
            }
            ))
        }
        ))
    },
    sendSummarizedLog: function(e) {
        return c$2(void 0, void 0, void 0, (function() {
            var t;
            return u$3(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Dt("tool.sendSummarizedLog", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    w$3("[error 208]", "yoda.tool.sendSummarizedLog() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    getWebviewLoadPerf: function(e, t) {
        return void 0 === e && (e = {}),
        c$2(void 0, void 0, void 0, (function() {
            var n;
            return u$3(this, (function(r) {
                switch (r.label) {
                case 0:
                    return r.trys.push([0, 2, , 3]),
                    [4, Dt("webview.getPageLoadData", e, t)];
                case 1:
                    return [2, r.sent()];
                case 2:
                    return n = r.sent(),
                    w$3("[error 209]", "yoda.webview.getPageLoadData() 报错: ".concat(n.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    getKDSWebviewLoadPerf: function(e) {
        return void 0 === e && (e = {}),
        c$2(void 0, void 0, void 0, (function() {
            var t;
            return u$3(this, (function(n) {
                switch (n.label) {
                case 0:
                    return n.trys.push([0, 2, , 3]),
                    [4, Dt("system.getPageLoadData", e)];
                case 1:
                    return [2, n.sent()];
                case 2:
                    return t = n.sent(),
                    w$3("[error 209]", "yoda.system.getPageLoadData() 报错: ".concat(t.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        ))
    },
    isSupportBridgeLog: function() {
        return Vt("setClientLog")
    },
    isSupportBridge: Vt,
    invoke: Dt
}, Wt = {
    unknown: 0,
    none: 1,
    wifi: 2,
    "4g": 3,
    "3g": 4,
    "2g": 5,
    "5g": 7,
    "slow-2g": 5
};
!function(e) {
    e.CLICK = "CLICK",
    e.DOUBLE_CLICK = "DOUBLE_CLICK",
    e.TRIPLE_CLICK = "TRIPLE_CLICK",
    e.LONG_PRESS = "LONG_PRESS",
    e.PULL = "PULL",
    e.DRAG = "DRAG",
    e.SCALE = "SCALE",
    e.PULL_DOWN = "PULL_DOWN",
    e.PULL_UP = "PULL_UP",
    e.AUTO = "AUTO"
}(jt || (jt = {})),
function(e) {
    e.PV = "PV",
    e.SHOW = "SHOW",
    e.VIDEO = "VIDEO",
    e.CUSTOM = "CUSTOM",
    e.CUSTOM_EVENT = "CUSTOM_EVENT",
    e.RADAR = "RADAR"
}(Mt || (Mt = {}));
var Ft = function() {
    function e(e) {
        if (this.identity_package = {
            device_id: void 0,
            global_id: void 0,
            user_id: void 0,
            union_id: void 0,
            open_id: void 0,
            iu_id: void 0
        },
        this.app_package = {
            product: void 0,
            language: void 0,
            platform: void 0,
            container: "H5",
            package_name: void 0,
            product_name: void 0,
            version_name: void 0,
            channel: void 0,
            version_code: void 0
        },
        this.experiment = void 0,
        this.service_name = void 0,
        this.safety_id = void 0,
        this.sub_biz = void 0,
        this.device_package = {
            os_version: void 0,
            model: void 0,
            ua: void 0
        },
        this.need_encrypt = !1,
        this.network_package = {
            type: Wt.unknown
        },
        this.h5_extra_attr = {
            sdk_name: "webLogger",
            sdk_version: "3.10.44",
            sdk_bundle: "log.common.js"
        },
        this.global_attr = {
            entry_tag: []
        },
        this.location_package = {
            country: void 0,
            province: void 0,
            city: void 0,
            county: void 0,
            street: void 0,
            latitude: void 0,
            longitude: void 0
        },
        this.update(e),
        this.app_package.version_name) {
            var t = this.app_package.version_name.lastIndexOf(".");
            this.app_package.version_code = +this.app_package.version_name.slice(t + 1) || 0
        }
        this.app_package.version_name || (this.app_package.version_name = void 0),
        this.app_package.version_code || (this.app_package.version_code = void 0)
    }
    return e.prototype.getH5ExtraAttr = function(e) {
        return Object.assign({}, this.h5_extra_attr, e)
    }
    ,
    e.prototype.update = function(e) {
        if ("object" == typeof e) {
            !function(e, t) {
                if (A$1(e) && A$1(t)) {
                    var n = function(e, t, n) {
                        A$1(e[n]) && A$1(t[n]) ? Object.assign(e[n], t[n]) : A$1(e[n]) || A$1(t[n]) || (e[n] = t[n])
                    };
                    for (var r in t)
                        if (e.hasOwnProperty(r))
                            n(e, t, r);
                        else
                            for (var o in e)
                                A$1(e[o]) && e[o].hasOwnProperty(r) && n(e[o], t, r)
                }
            }(this, e);
            var t = e.network_type;
            t && Wt[t] && (this.network_package.type = Wt[t])
        }
    }
    ,
    e.prototype.updateGlobalAttr = function(e) {
        Object.assign(this.global_attr || {}, e)
    }
    ,
    e.prototype.toJSON = function() {
        this.identity_package.user_id || (this.identity_package.user_id = void 0);
        var e = a$2(a$2({}, this), {
            toJSON: function() {
                return a$2(a$2({}, e), {
                    h5_extra_attr: JSON.stringify(e.h5_extra_attr),
                    global_attr: JSON.stringify(e.global_attr)
                })
            }
        });
        e.global_attr = a$2({}, this.global_attr),
        this.global_attr.entry_tag && this.global_attr.entry_tag.length ? e.global_attr.entry_tag = this.global_attr.entry_tag.slice() : delete e.global_attr.entry_tag,
        Object.keys(this.global_attr).length || delete e.global_attr;
        var t = this.location_package;
        return t && Object.keys(t).forEach((function(e) {
            void 0 === t[e] && delete t[e]
        }
        )),
        e
    }
    ,
    e
}()
  , Jt = [["a7", "640x1136", ["iPhone 5", "iPhone 5s"]], ["a7", "1536x2048", ["iPad Air", "iPad Mini 2", "iPad Mini 3"]], ["a8", "640x1136", ["iPod touch (6th gen)"]], ["a8", "750x1334", ["iPhone 6"]], ["a8", "1242x2208", ["iPhone 6 Plus"]], ["a8", "1536x2048", ["iPad Air 2", "iPad Mini 4"]], ["a9", "640x1136", ["iPhone SE"]], ["a9", "750x1334", ["iPhone 6s"]], ["a9", "1242x2208", ["iPhone 6s Plus"]], ["a9x", "1536x2048", ["iPad Pro (1st gen 9.7-inch)"]], ["a9x", "2048x2732", ["iPad Pro (1st gen 12.9-inch)"]], ["a10", "750x1334", ["iPhone 7"]], ["a10", "1242x2208", ["iPhone 7 Plus"]], ["a10x", "1668x2224", ["iPad Pro (2th gen 10.5-inch)"]], ["a10x", "2048x2732", ["iPad Pro (2th gen 12.9-inch)"]], ["a11", "750x1334", ["iPhone 8"]], ["a11", "1242x2208", ["iPhone 8 Plus"]], ["a11", "1125x2436", ["iPhone X"]], ["a12", "828x1792", ["iPhone Xr"]], ["a12", "1125x2436", ["iPhone Xs"]], ["a12", "1242x2688", ["iPhone Xs Max"]], ["a12x", "1668x2388", ["iPad Pro (3rd gen 11-inch)"]], ["a12x", "2048x2732", ["iPad Pro (3rd gen 12.9-inch)"]]]
  , Kt = function() {
    try {
        var e = Rt()
          , t = P$2()
          , n = e.model || e.os.name || "unknown";
        if ("iOS" !== e.os.name || t)
            return n;
        var r = function() {
            for (var e = N$2(), t = [], n = 0, r = Jt; n < r.length; n++) {
                var o = r[n];
                e === o[1] && (t = t.concat(o[2]))
            }
            return t.length && t
        }();
        return r ? r.join(" or ") : n
    } catch (o) {
        return "unknown"
    }
}
  , qt = 0;
function zt() {
    try {
        var e = Rt().os.name;
        return qt = e ? "Android" === e ? P$2() ? 6 : 8 : "iOS" === e ? P$2() ? 7 : 9 : 10 : 0
    } catch (t) {
        return 0
    }
}
function Qt() {
    var e = "unknown"
      , t = null == h$2 ? void 0 : h$2.navigator
      , n = (null == t ? void 0 : t.connection) || (null == t ? void 0 : t.mozConnection) || (null == t ? void 0 : t.webkitConnection);
    return n && (e = n.type || n.effectiveType),
    e
}
var Yt, Xt = function(e) {
    function t(t) {
        var n = e.call(this, a$2({
            platform: zt(),
            container: 10 === qt ? "WEB" : "H5",
            version_name: P$2() && y$4("appver", void 0, !0) || "",
            network_type: Qt(),
            device_id: W$1(),
            user_id: y$4("userId"),
            global_id: P$2() && y$4("egid") || "",
            app_package: {
                language: h$2.navigator.language
            },
            device_package: {
                os_version: Rt().os.version,
                model: Kt(),
                ua: h$2.navigator.userAgent
            }
        }, t)) || this;
        return Object.assign(n.h5_extra_attr, {
            host_product: xt(),
            resolution: N$2(),
            screen_width: R$2(h$2.screen.width),
            screen_height: R$2(h$2.screen.height),
            device_pixel_ratio: h$2.devicePixelRatio || 1,
            domain: h$2.location.origin,
            fromIframe: (null == h$2 ? void 0 : h$2.self) !== (null == h$2 ? void 0 : h$2.top)
        }, t.h5_extra_attr),
        delete n.location_package,
        n
    }
    return n$2(t, e),
    t.prototype.getVersionName = function() {
        return this.app_package.version_name
    }
    ,
    t.prototype.update = function(t) {
        e.prototype.update.call(this, t);
        var n = this.app_package.version_name;
        if ("string" == typeof n) {
            var r = n.lastIndexOf(".");
            this.app_package.version_code = +n.slice(r + 1) || 0,
            this.h5_extra_attr.app_version_name = n
        }
    }
    ,
    t.prototype.setAdditionalSeqIdPackage = function(e) {
        var t, n;
        this.additional_seq_id_package = {
            channel: 3,
            channel_seq_id: (n = "NORMAL",
            void 0 === n && (n = ""),
            Lt("".concat("WEBLOGGER_CHANNEL_SEQ_ID", "_").concat(n))),
            custom_type: e,
            custom_seq_id: (t = e,
            Lt("".concat("WEBLOGGER_V2_SEQ_ID", "_").concat(t)))
        }
    }
    ,
    t.prototype.increaseH5SeqId = function(e) {
        this.h5_extra_attr.client_timestamp = R$2((new Date).valueOf()),
        this.h5_extra_attr.seq_id = Lt(e ? "WEBLOGGER_H5_CUSTOM_SEQ_ID" : "WEBLOGGER_H5_SEQ_ID")
    }
    ,
    t
}(Ft), $t = function(e, t, n, r) {
    var o;
    void 0 === t && (t = {}),
    "string" != typeof e && (o = e.type),
    o = e.toUpperCase();
    var i = {};
    if ("string" == typeof t)
        i.contentPackage = r,
        "CUSTOM" === e ? (i.key = t,
        i.value = n) : (i.params = n,
        "PV" === e ? i.page = t : i.action = t);
    else if (i = t,
    ["CUSTOM", "CUSTOM_EVENT"].includes(o)) {
        var a = t;
        a.action && !a.key && (i.key = a.action),
        a.params && !a.value && (i.value = a.params)
    }
    return [o, i]
};
void 0 !== h$2 && ("object" != typeof h$2._WEBLOGGER && (h$2._WEBLOGGER = {
    _silenced: !1,
    constructors: [],
    instances: [],
    silence: function(e) {
        try {
            e ? sessionStorage.setItem("WEBLOGGER_SILENCED", "1") : sessionStorage.removeItem("WEBLOGGER_SILENCED"),
            h$2._WEBLOGGER.instances.forEach((function(t) {
                null == t || t.silence(e)
            }
            ))
        } catch (t) {}
    }
}),
Yt = h$2._WEBLOGGER);
var Zt = !1
  , te$1 = Math.random()
  , ee = function(e) {
    function t(t, n) {
        void 0 === t && (t = {});
        var r, o, i = e.call(this, t, n) || this;
        return i.beforeUnload = function(e) {
            if (!Zt) {
                for (var t in i.logger.drain(),
                i.plugins) {
                    var n = i.plugins[t];
                    "function" == typeof n.beforeUnload && n.beforeUnload(e)
                }
                Zt = !0,
                setTimeout((function() {
                    Zt = !1
                }
                ), 2e3)
            }
        }
        ,
        i.isBridge = t.bridgeMode && t.yoda && Gt(),
        i.logConfig.isBridge = i.isBridge,
        "sessionId",
        r = n && n.session_id || y$4("sid") || function() {
            var e = "";
            try {
                if (P$2()) {
                    if (e = y$4("session_id") || y$4("sid"))
                        return e
                } else
                    "undefined" != typeof sessionStorage && ((e = sessionStorage.getItem("WEBLOGGER_SESSIONID") || "") || (e = V$2(),
                    sessionStorage.setItem("WEBLOGGER_SESSIONID", e)))
            } catch (t) {
                e = V$2()
            }
            return e || V$2()
        }(),
        p$3.sessionId = r,
        i.isV2 = "v2" === i.logConfig.proto,
        i.getSampled(i.logConfig),
        i.presetBaseOption(i.baseOption),
        i.commonPackage = new Xt(i.baseOption),
        i.logger = new mt(i.logConfig,i.commonPackage),
        i.initYoda(),
        i.addPlugins(),
        E$3(h$2, "pagehide", i.beforeUnload),
        E$3(h$2, "beforeunload", i.beforeUnload),
        o = i,
        (null == Yt ? void 0 : Yt.instances) && o && -1 === Yt.instances.indexOf(o) && (Yt.instances.push(o),
        Yt._silenced && (null == o || o.silence(!0))),
        i
    }
    return n$2(t, e),
    t.prototype.getSampled = function(e) {
        var t = e || {}
          , n = t.sampleRateFn
          , r = t.sampleRate;
        "function" == typeof n ? this.sampled = !!n() : void 0 !== r && (this.sampled = te$1 < Number(r))
    }
    ,
    t.prototype.presetBaseOption = function(e) {
        this.isBridge || (this.isV2 ? ("number" != typeof e.product && w$3("[error 101]", "请设置有效的 product 值，值类型为 number!"),
        delete e.product_name) : (e.product_name && "string" == typeof e.product_name || w$3("[error 100]", "请设置有效的 product_name 值，值类型为 string!"),
        delete e.product),
        e.user_id || (e.user_id = y$4("userId") || y$4("userName") || void 0,
        e.user_id || b$3("[warn 102]", "user_id 为空，请确定是否传入，如果是异步通过 updateCommonPackage 接口传入，可以忽略该提示!")),
        e.device_id || (e.device_id = W$1(),
        e.device_id || w$3("[error 103]", "device_id 为空，请设置有效的设备 id!")),
        !e.global_id && P$2() && (e.global_id = y$4("egid") || ""))
    }
    ,
    Object.defineProperty(t.prototype, "yoda", {
        get: function() {
            return this.logConfig.yoda || (null == h$2 ? void 0 : h$2.KSYoda) || (null == h$2 ? void 0 : h$2.yoda)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(t.prototype, "Utils", {
        get: function() {
            return {
                yoda: Gt() && this.yoda ? Bt : null,
                cookie: S$1,
                ua: Ht,
                io: {
                    sendData: st$1
                }
            }
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.initYoda = function() {
        var e, t = this;
        Gt() && this.yoda && (e = this.yoda,
        Dt = "function" == typeof e ? e : e.invoke,
        c$2(void 0, void 0, void 0, (function() {
            var e;
            return u$3(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Dt("system.getDeviceInfo")];
                case 1:
                    return [2, t.sent()];
                case 2:
                    return e = t.sent(),
                    w$3("[error 209]", "yoda.system.getDeviceInfo() 报错: ".concat(e.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        )).then((function(e) {
            (null == e ? void 0 : e.mod) && (t.commonPackage.device_package.model = e.mod)
        }
        )),
        c$2(void 0, void 0, void 0, (function() {
            var e;
            return u$3(this, (function(t) {
                switch (t.label) {
                case 0:
                    return t.trys.push([0, 2, , 3]),
                    [4, Dt("system.getAppInfo")];
                case 1:
                    return [2, t.sent()];
                case 2:
                    return e = t.sent(),
                    w$3("[error 209]", "yoda.system.getAppInfo() 报错: ".concat(e.message)),
                    [3, 3];
                case 3:
                    return [2]
                }
            }
            ))
        }
        )).then((function(e) {
            if ("object" == typeof e) {
                var n = e.did
                  , r = e.userId
                  , o = e.appver;
                n && (t.commonPackage.identity_package.device_id = n),
                r && !t.commonPackage.identity_package.user_id && (t.commonPackage.identity_package.user_id = r),
                o && (t.commonPackage.app_package.version_name = o)
            }
        }
        )))
    }
    ,
    t.prototype.initUrlPackage = function() {
        e.prototype.initUrlPackage.call(this);
        var t, n = this.logConfig.referer, r = "web";
        n ? (t = n.value,
        r = n.type && n.type || r) : "undefined" != typeof document && document.referrer && (t = document.referrer),
        t && this.updateReferUrlPackage(t, r)
    }
    ,
    t.prototype.updateCurrentUrlPackage = function(e, t) {
        var n;
        if (void 0 === e && (e = (null === (n = h$2.location) || void 0 === n ? void 0 : n.href) || ""),
        void 0 === t && (t = "web"),
        "object" == typeof e && !e.force && this.currentUrlPackage) {
            var r = e.page
              , o = void 0 === r ? this.currentUrlPackage.page : r
              , i = e.params
              , a = void 0 === i ? {} : i;
            if (o === this.currentUrlPackage.page)
                return this.currentUrlPackage.update(o, a)
        }
        this.currentUrlPackage = new F$2(e,t,this.logConfig.urlMap),
        this.logConfig.attachUrl && this.currentUrlPackage.attachUrl()
    }
    ,
    t.prototype.updateReferUrlPackage = function(e, t) {
        void 0 === e && (e = this.currentUrlPackage),
        void 0 === t && (t = "web"),
        this.referUrlPackage = e instanceof F$2 ? e : new F$2(e,t,this.logConfig.urlMap)
    }
    ,
    Object.defineProperty(t.prototype, "isSendSampled", {
        get: function() {
            return void 0 === this.sampled || this.sampled || this.logger.isDebug
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype.generateLog = function(e, t, n) {
        void 0 === n && (n = It);
        var r, o = t, i = o.action, a = o.params, s = o.status, c = o.type, l = o.eventId, u = o.contentPackage, p = o.urlPage;
        u && (u = "string" == typeof u ? u : JSON.stringify(u));
        var d = "PV" === e;
        if (d) {
            var f = t
              , h = f.page
              , g = f.type;
            g || (t.type = g = "enter"),
            "enter" === g && h ? this.updateCurrentUrlPackage({
                page: h,
                params: a
            }) : this.currentUrlPackage.update(h, a)
        } else
            p && p.page && (r = {
                page: p.page,
                identity: p.identity || V$2(),
                params: x$2(p.params),
                page_type: this.currentUrlPackage.page_type
            });
        var m = {
            currentUrlPackage: r || this.currentUrlPackage.toJSON(),
            referUrlPackage: this.referUrlPackage ? this.referUrlPackage.toJSON() : void 0,
            contentPackage: u
        };
        if ("RADAR" !== e && (null == r || r.page.indexOf("http")),
        d) {
            var y = t.type;
            return n(e, a$2(a$2(a$2({}, t), {
                type: y
            }), m), this.isV2)
        }
        if ("SHOW" === e)
            return n(e, a$2(a$2(a$2({}, t), {
                name: i
            }), m), this.isV2);
        if ("VIDEO" === e)
            return n(e, a$2({
                params: t,
                name: "VIDEO"
            }, m), this.isV2);
        if ("RADAR" === e)
            return n(e, t, this.isV2);
        if (-1 !== ["CUSTOM", "RADAR", "CUSTOM_EVENT"].indexOf(e)) {
            var v = t
              , b = v.key
              , _ = v.value;
            return n("CUSTOM", a$2(a$2(a$2({}, t), {
                params: _,
                name: b
            }), m), this.isV2)
        }
        return n(e, a$2(a$2(a$2({}, t), {
            params: a,
            status: s,
            taskType: c,
            eventId: l,
            name: i
        }), m), this.isV2)
    }
    ,
    t.prototype.collect = function(e, t, n, r) {
        var o = $t(e, t, n, r)
          , i = o[0]
          , a = o[1];
        return this.send(i, a, !1)
    }
    ,
    t.prototype.sendImmediately = function(e, t, n, r) {
        var o = $t(e, t, n, r)
          , i = o[0]
          , a = o[1];
        return this.send(i, a, !0)
    }
    ,
    t.prototype.send = function(e, t, n) {
        if (!this._silenced) {
            j$2(e, t, this.currentUrlPackage);
            var r, o = this.generateLog(e, t);
            if (this.emit("event", {
                type: e,
                action: null == t ? void 0 : t.action,
                log: o
            }),
            "RADAR" === e)
                return this.logger.sendRadar(o, null == t ? void 0 : t.serviceName);
            if (!(this.isV2 && this.logConfig.forbidV2HttpUrlPage && (r = this.currentUrlPackage.page,
            r && /^(https?:)?\/\//.test(r) && (w$3("[error 108]", "请注意当前埋点页面信息为 ".concat(r, "，不符合规范，上报失败！")),
            1))) && this.isSendSampled) {
                var i = "object" == typeof t && t.callback || void 0;
                this.logger.send(o, !!n, i)
            }
        }
    }
    ,
    t.prototype.destroy = function() {
        e.prototype.destroy.call(this),
        k$2(h$2, "pagehide", this.beforeUnload),
        k$2(h$2, "beforeunload", this.beforeUnload),
        function(e) {
            if (null == Yt ? void 0 : Yt.instances) {
                var t = Yt.instances.indexOf(e);
                -1 !== t && Yt.instances.splice(t, 1)
            }
        }(this)
    }
    ,
    t.prototype.silence = function(e) {
        this._silenced = e
    }
    ,
    t.Logger = mt,
    t
}(G$2)
  , ne$1 = function() {
    function e() {}
    return e.prototype.apply = function(e) {
        this.weblog = e
    }
    ,
    e
}()
  , re$1 = {
    updateInterval: 2e4,
    crashThreshold: 1e4
}
  , oe$1 = function(e) {
    function t(t) {
        var n = e.call(this) || this;
        return n.eventName = "onpagehide"in window ? "pagehide" : "beforeunload",
        n.options = a$2({}, re$1),
        n.historyMoniorInfo = null,
        n.stop = function() {
            clearInterval(n.updateIntervalId);
            try {
                localStorage.removeItem(n.monitorId)
            } catch (e) {}
        }
        ,
        (null == t ? void 0 : t.collect) && n.apply(t),
        E$3(window, n.eventName, n.stop),
        n
    }
    return n$2(t, e),
    t.prototype.apply = function(e) {
        e && (this.weblog = e,
        this.monitorId = "@ks.monitor.crash_" + this.weblog.sessionId,
        this.start())
    }
    ,
    t.prototype.destroy = function() {
        this.stop(),
        k$2(window, this.eventName, this.stop)
    }
    ,
    t.prototype.pickHistoryInfo = function() {
        for (var e in localStorage)
            if (0 === e.indexOf("@ks.monitor.crash_"))
                try {
                    var t = localStorage.getItem(e)
                      , n = JSON.parse(t);
                    this.checkHistoryCrash(n)
                } catch (r) {}
    }
    ,
    t.prototype.checkHistoryCrash = function(e) {
        var t = (new Date).valueOf();
        e && e.time && t - e.time > this.options.crashThreshold && this.weblog.collect("CUSTOM", {
            key: "crash",
            value: e
        })
    }
    ,
    t.prototype.start = function() {
        var e = this;
        this.pickHistoryInfo(),
        this.updateIntervalId = window.setInterval((function() {
            e.update()
        }
        ), this.options.updateInterval),
        this.update()
    }
    ,
    t.prototype.update = function() {
        var e, t;
        if (window.performance && window.performance.memory) {
            var n = {
                time: (new Date).valueOf(),
                memory: {
                    limit: Math.floor(window.performance.memory.jsHeapSizeLimit / 1024),
                    total: Math.floor(window.performance.memory.totalJSHeapSize / 1024),
                    used: Math.floor(window.performance.memory.usedJSHeapSize / 1024)
                },
                href: null === (e = null === window || void 0 === window ? void 0 : window.location) || void 0 === e ? void 0 : e.href,
                sessionId: null === (t = this.weblog) || void 0 === t ? void 0 : t.sessionId
            };
            try {
                localStorage.setItem(this.monitorId, JSON.stringify(n))
            } catch (r) {}
        }
    }
    ,
    t.key = "crachMonitor",
    t
}(ne$1)
  , ie = {
    interval: 1e4,
    decimals: 2
};
function ae$1(e) {
    return setTimeout(e, 62.5)
}
var se = clearTimeout
  , ce$1 = function(e) {
    function t(t, n) {
        var r = e.call(this) || this;
        return r.options = a$2({}, ie),
        r.count = 0,
        r.visibilityChange = function() {
            var e = document.visibilityState;
            "visible" === e ? r.start() : "hidden" === e && r.stop()
        }
        ,
        n || t && (null == t ? void 0 : t.collect) && r.apply(t),
        Object.assign(r.options, n),
        E$3(window, "visibilitychange", r.visibilityChange),
        r.start(),
        r
    }
    return n$2(t, e),
    t.prototype.destroy = function() {
        this.stop(),
        k$2(window, "visibilitychange", this.visibilityChange)
    }
    ,
    t.prototype.start = function() {
        this.loopId || this.fpsTickId || (this.loop(),
        this.fpsTick())
    }
    ,
    t.prototype.fpsTick = function() {
        var e = this;
        this.fpsTickId = function(t) {
            return (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || ae$1).call(this, (function() {
                e.count++,
                e.fpsTick()
            }
            ))
        }()
    }
    ,
    t.prototype.loop = function() {
        var e = this;
        this.loopBeginTime = (new Date).valueOf(),
        this.loopId = window.setTimeout((function() {
            e.loopEndTime = (new Date).valueOf();
            var t = e.calculate();
            e.weblog.collect("CUSTOM", {
                key: "fps",
                value: {
                    key: "fps",
                    value: t
                }
            }),
            e.count = 0,
            e.loop()
        }
        ), this.options.interval)
    }
    ,
    t.prototype.stop = function() {
        !function(e) {
            (window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || se).call(this, e)
        }(this.fpsTickId),
        window.clearTimeout(this.loopId),
        this.loopId = 0,
        this.fpsTickId = 0
    }
    ,
    t.prototype.calculate = function() {
        return +(1e3 / ((this.loopEndTime - this.loopBeginTime) / this.count)).toFixed(this.options.decimals)
    }
    ,
    t.key = "fpsMonitor",
    t
}(ne$1)
  , ue$1 = "undefined" != typeof window ? window.performance : null
  , le$1 = ue$1 && ue$1.timing || null;
ue$1 && ue$1.getEntriesByType && ue$1.getEntriesByType("navigation")[0];
var pe = {
    dnsLookup: {
        end: "domainLookupEnd",
        start: "domainLookupStart"
    },
    tcpConnection: {
        end: "connectEnd",
        start: "connectStart"
    },
    resourceLoad: {
        end: "responseEnd",
        start: "requestStart"
    },
    jsCost: {
        custom: function() {
            if ("function" != typeof performance.getEntries)
                return 0;
            var e = performance.getEntries()
              , t = e[0]
              , n = e.filter((function(e) {
                return "script" === e.initiatorType
            }
            ))[0];
            return n && t ? t.domComplete - n.fetchStart : 0
        }
    },
    documentContentLoaded: {
        end: "domComplete",
        start: "fetchStart"
    },
    load: {
        end: "loadEventEnd",
        start: "fetchStart"
    },
    timeToFirstByte: {
        end: "loadEventEnd",
        start: "fetchStart"
    },
    firstScreen: {
        custom: function(e, t) {
            var n = (t || {}).endPoint
              , r = void 0 !== n ? n : (new Date).valueOf();
            return le$1 && r - le$1.fetchStart || 0
        }
    },
    whiteScreen: {
        custom: function(e, t) {
            var n = (t || {}).endPoint
              , r = void 0 !== n ? n : (new Date).valueOf();
            return le$1 && r - le$1.fetchStart || 0
        }
    }
}
  , de = function(e) {
    function t(t) {
        var n = e.call(this) || this;
        return n.load = function() {
            setTimeout((function() {
                var e = n.collect();
                e && ["load", "documentContentLoaded", "dnsLookup", "tcpConnection", "jsCost", "timeToFirstByte"].forEach((function(t) {
                    var r;
                    "jsCost" === t && 0 === e[t] || n.weblog.collect("CUSTOM", {
                        key: fe$1[t],
                        value: (r = {},
                        r[fe$1[t]] = e[t],
                        r)
                    })
                }
                ))
            }
            ))
        }
        ,
        le$1 ? (t && n.apply(t),
        n) : (w$3("The Timing Monitor need performance APIs to Support!"),
        n)
    }
    return n$2(t, e),
    t.prototype.apply = function(e) {
        this.weblog = e,
        E$3(window, "load", this.load)
    }
    ,
    t.prototype.destroy = function() {
        k$2(window, "load", this.load)
    }
    ,
    t.prototype.calculate = function(e, t) {
        var n = pe[e];
        if (!n)
            throw new Error("The perf key is not correct!");
        return "function" == typeof n.custom ? n.custom(e, t) : le$1[pe[e].end] - le$1[pe[e].start]
    }
    ,
    t.prototype.mark = function(e, t) {
        var n, r = this.collect(e, t);
        r && this.weblog.collect("CUSTOM", {
            key: fe$1[e],
            value: (n = {},
            n[fe$1[e]] = r[e],
            n)
        })
    }
    ,
    t.prototype.collect = function(e, t) {
        var n, r = this;
        if (le$1)
            return e ? ((n = {})[e] = this.calculate(e, t),
            n) : Object.keys(pe).reduce((function(e, n) {
                return e[n] = r.calculate(n, t),
                e
            }
            ), {})
    }
    ,
    t.key = "timingMonitor",
    t
}(ne$1)
  , fe$1 = {
    load: "total_download_cost",
    documentContentLoaded: "operational_cost",
    dnsLookup: "dns_query_cost",
    tcpConnection: "tcp_cost",
    jsCost: "js_cost",
    whiteScreen: "white_screen_cost",
    firstScreen: "first_screen_cost",
    timeToFirstByte: "ttfb_cost"
};
!function(e, t) {
    if ("undefined" != typeof window && void 0 !== window._GLOBAL_KS_WEBLOGGER_ && "function" == typeof e) {
        var n = window._GLOBAL_KS_WEBLOGGER_
          , r = n.weblog;
        n.config;
        r.addPluginInstance(new e(void 0))
    }
}(de);
var he$1 = function() {
    return (he$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function ge$1(e, t, n, r) {
    return new (n = n || Promise)((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : ((r = e.value)instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        s((r = r.apply(e, [])).next())
    }
    ))
}
function me$1(e, t) {
    var n, r, o, i = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    }, a = {
        next: s(0),
        throw: s(1),
        return: s(2)
    };
    return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
        return this
    }
    ),
    a;
    function s(a) {
        return function(s) {
            var c = [a, s];
            if (n)
                throw new TypeError("Generator is already executing.");
            for (; i; )
                try {
                    if (n = 1,
                    r && (o = 2 & c[0] ? r.return : c[0] ? r.throw || ((o = r.return) && o.call(r),
                    0) : r.next) && !(o = o.call(r, c[1])).done)
                        return o;
                    switch (r = 0,
                    (c = o ? [2 & c[0], o.value] : c)[0]) {
                    case 0:
                    case 1:
                        o = c;
                        break;
                    case 4:
                        return i.label++,
                        {
                            value: c[1],
                            done: !1
                        };
                    case 5:
                        i.label++,
                        r = c[1],
                        c = [0];
                        continue;
                    case 7:
                        c = i.ops.pop(),
                        i.trys.pop();
                        continue;
                    default:
                        if (!(o = 0 < (o = i.trys).length && o[o.length - 1]) && (6 === c[0] || 2 === c[0])) {
                            i = 0;
                            continue
                        }
                        if (3 === c[0] && (!o || c[1] > o[0] && c[1] < o[3])) {
                            i.label = c[1];
                            break
                        }
                        if (6 === c[0] && i.label < o[1]) {
                            i.label = o[1],
                            o = c;
                            break
                        }
                        if (o && i.label < o[2]) {
                            i.label = o[2],
                            i.ops.push(c);
                            break
                        }
                        o[2] && i.ops.pop(),
                        i.trys.pop();
                        continue
                    }
                    c = t.call(e, i)
                } catch (l) {
                    c = [6, l],
                    r = 0
                } finally {
                    n = o = 0
                }
            if (5 & c[0])
                throw c[1];
            return {
                value: c[0] ? c[1] : void 0,
                done: !0
            }
        }
    }
}
function ve$1(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function ye$1(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var _e, Se$1, be$1 = console, we$1 = "ksurl.cn/csHfgepO, radar:", Ee$1 = be$1.log.bind(be$1, we$1), ke$1 = be$1.warn.bind(be$1, we$1), Oe$1 = be$1.error.bind(be$1, we$1), Pe = function() {
    function e() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        this.middlewares = [],
        (e = this.middlewares).push.apply(e, ye$1([], ve$1(t), !1))
    }
    return e.prototype.use = function() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        var r = this.middlewares.pop();
        (e = this.middlewares).push.apply(e, ye$1([], ve$1(t), !1)),
        this.middlewares.push(r)
    }
    ,
    e.prototype.invoke = function(e) {
        return r = this.middlewares,
        t = e,
        n = -1,
        function e(o) {
            if (o <= n)
                return new Error("`next` 被重复调用");
            var i = r[n = o];
            if (i = o === r.length ? void 0 : i)
                try {
                    return i(t, e.bind(null, o + 1))
                } catch (a) {
                    return a
                }
        }(0);
        var t, n, r
    }
    ,
    e
}(), Te = ((Se$1 = _e = _e || {}).LOAD = "load",
Se$1.RES = "resource",
Se$1.API = "api",
Se$1.ERROR = "error",
Se$1.SDK_ERROR = "sdk_error",
Se$1.CUSTOM = "custom",
Se$1.BATCH = "batch",
Se$1.EVENT = "event",
Se$1.BLOOD = "blood",
function() {
    function e(e) {
        void 0 === e && (e = {});
        var t = this;
        this.broadcastSampleFb = function() {
            var e = t.getSample(t.baseOptions.sampling);
            e !== t.sampling && (t.sampling = e,
            t.sampling && (t.isHit = t.samplingControl(t.sampling)))
        }
        ,
        void 0 === e && vn("100"),
        e.key || vn("101"),
        !e.core || "object" == t$1(e.core.sampleData) && "function" == typeof e.core.collect || vn("121"),
        this.baseOptions = e,
        this.key = e.key,
        this.version = e.version,
        this.name = e.name,
        this.isHit = !1,
        e.core && this.updateCore(e.core)
    }
    return e.prototype.updateCore = function(e) {
        var t;
        "object" == t$1(e.sampleData) && "function" == typeof e.collect || vn("121"),
        null != (t = this.core) && t.broadcastSample.off(this.broadcastSampleFb),
        this.core = e,
        this.sampling = this.getSample(this.baseOptions.sampling),
        this.sampling && (this.isHit = this.samplingControl(this.sampling)),
        null != (e = null == (t = this.core) ? void 0 : t.broadcastSample) && e.on(this.broadcastSampleFb)
    }
    ,
    e.prototype.getSample = function(e) {
        var t = null != (t = null == (t = this.core) ? void 0 : t.sampleData.core) ? t : 1;
        if (this.key === _e.LOAD)
            return t;
        if ("number" != typeof (e = void 0 === e ? 1 : e) || e < 0 || 1 < e)
            return ke$1("102", "".concat(this.key, "，采用Core的采样率").concat(null == (n = this.core) ? void 0 : n.sampleData.core)),
            t;
        var n = null != (n = this.core) && n.isInYoda ? void 0 === (null == (n = this.core) ? void 0 : n.sampleData[this.key]) ? 1 : this.core.sampleData[this.key] : e;
        return t && t < n ? (ke$1("115", "".concat(this.key)),
        t) : n
    }
    ,
    e.prototype.samplingControl = function(e) {
        var t;
        return !(null == (t = this.core) || !t.sampleData.isHit) && (null == (t = this.core) ? void 0 : t.samplingControl(e / this.core.sampleData.core))
    }
    ,
    e.prototype.baseCollect = function(e) {
        if (this.core) {
            if (this.isHit) {
                var t = e.value || {};
                t = Object.keys(t).filter((function(e) {
                    return null !== t[e] && void 0 !== t[e]
                }
                )).reduce((function(e, n) {
                    return he$1(he$1({}, e), ((e = {})[n] = t[n],
                    e))
                }
                ), {});
                try {
                    this.core.collect(e.key || this.key, he$1(he$1({
                        collect_version: this.version,
                        collect_name: this.name
                    }, e.dimension), {
                        sample_rate: this.sampling
                    }), t, e[xe$1])
                } catch (n) {
                    ke$1("126")
                }
            }
        } else
            ke$1("110", "".concat(this.key))
    }
    ,
    e
}()), Le$1 = ["//wlog.kuaishou.com/rest/n/log/web/collect", "/rest/wd/common/log/collect/misc2", "/rest/wd/common/log/collect/radar", "/rest/kd/log/collect"], Ce$1 = window, Ae$1 = "__RADAR_PERFORMANCE_TIMING_", Ie = "__radarSeedStore__", Ne$1 = "radarSessionId", Ue = "dimension", Re$1 = "projectId", xe$1 = "commonData", De$1 = "queue", je$1 = {
    start_time: {
        custom: function(e, t) {
            return Math.round(t.startTime)
        }
    },
    fetch_start: {
        custom: function(e, t) {
            return Math.round(t.fetchStart)
        }
    },
    dns: {
        end: "domainLookupEnd",
        start: "domainLookupStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    tcp: {
        end: "connectEnd",
        start: "connectStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    ssl: {
        custom: function(e, t) {
            return t.connectEnd && t.secureConnectionStart ? t.connectEnd - t.secureConnectionStart : null
        }
    },
    ttfb: {
        end: "responseStart",
        start: "requestStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    trans: {
        end: "responseEnd",
        start: "responseStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    fb: {
        end: "responseStart",
        start: "fetchStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    total: {
        end: "responseEnd",
        start: "fetchStart"
    },
    size: {
        custom: function(e, t) {
            return t.encodedBodySize
        },
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    protocol: {
        custom: function(e, t) {
            return t.nextHopProtocol
        }
    },
    file: {
        custom: function(e, t) {
            return t.name
        }
    },
    res_type: {
        custom: function(e, t) {
            return t.initiatorType
        }
    },
    cached: {
        custom: function(e, t) {
            return 0 === t.transferSize || 0 === t.duration || null == t.transferSize && (0 === t.domainLookupStart || t.responseStart === t.fetchStart)
        },
        crossOriginSkip: !0
    },
    has_timing_allow: {
        custom: function(e, t) {
            return Je(t)
        }
    }
}, Me$1 = /^(https?:)?\/\//;
function He$1(e, t) {
    if (!e)
        return !1;
    var n = e.replace(Me$1, "");
    return t.some((function(e) {
        return 0 <= n.indexOf(e.replace(Me$1, ""))
    }
    ))
}
function Ge$1(e) {
    if ("string" != typeof e)
        return "";
    try {
        var t = e.lastIndexOf(".");
        return e.substr(t + 1)
    } catch (n) {
        return ""
    }
}
function Ve(e) {
    return "object" == t$1(e) && Object.keys(e).every((function(t) {
        return "number" == typeof e[t]
    }
    ))
}
function Be$1(e) {
    return "function" == typeof e
}
var We = Array.prototype.slice;
function Fe(e) {
    return We.call(e)
}
function Je(e) {
    return void 0 === e.nextHopProtocol ? null : "" !== e.nextHopProtocol
}
function Ke$1(e) {
    return "resource" === e.entryType ? "fetch" !== (null == e ? void 0 : e.initiatorType) && "xmlhttprequest" !== (null == e ? void 0 : e.initiatorType) || "js" === Ge$1(e.name) || "css" === Ge$1(e.name) ? "resource" : "api" : "other"
}
function qe$1() {
    for (var e = arguments, t = e[0], n = 1; n < e.length; n++) {
        var r = e[n];
        if (r)
            for (var o in r)
                t[o] = r[o]
    }
    return t
}
function ze$1(e, t, n) {
    return void 0 === n && (n = {}),
    (Object.assign || qe$1)({}, e, t, n)
}
function Qe(e, t) {
    var n = {};
    return Object.keys(e).forEach((function(r) {
        var o = Ye$1(r, e, t);
        null != o && (n[r] = o)
    }
    )),
    n
}
function Ye$1(e, t, n) {
    var r = t[e];
    if (r || vn("129，".concat(e)),
    (!r.crossOriginSkip || Je(n)) && (!r.cachedSkip || !Ye$1("cached", t, n)))
        return "function" == typeof r.custom ? r.custom(e, n) : (t = r.end,
        e = r.start,
        !r.notCatchIfUndefined || void 0 !== n[t] && void 0 !== n[e] ? (+n[t] || 0) - (+n[e] || 0) : void 0)
}
function Xe(e, t, n, r) {
    return e.addEventListener(t, n, r)
}
function $e$1(e, t, n, r) {
    return e.removeEventListener(t, n, r)
}
var Ze$1 = ["ktrace-str"];
function tn(e) {
    return "__radar_".concat(e = void 0 === e ? "" : e).concat(Math.random().toString(36).substring(2, 8))
}
var en = []
  , nn = ["application/json", "text/html", "text/plain"];
function rn(e) {
    for (var t = this, n = [], r = 1; r < arguments.length; r++)
        n[r - 1] = arguments[r];
    var o = en.reduce((function(e, t) {
        return [t].concat(e)
    }
    ), [])
      , i = "string" == typeof n[0] ? new Request(n[0],n[1]) : n[0]
      , a = (i.id = tn(),
    o.forEach((function(e) {
        e = e.request,
        i = e(i) || i
    }
    )),
    i.clone())
      , s = e.apply(void 0, ye$1([], ve$1(n), !1))
      , c = null
      , l = null
      , u = !1;
    return s.then((function(e) {
        var t, n = null == (t = e.headers) ? void 0 : t.get("content-type");
        return n && nn.some((function(e) {
            return -1 < n.indexOf(e)
        }
        )) ? (u = !0,
        t = e.clone(),
        c = t.clone(),
        t.clone().text()) : (c = e,
        "[object Object]")
    }
    )).then((function(e) {
        return ge$1(t, void 0, void 0, (function() {
            return me$1(this, (function(t) {
                switch (t.label) {
                case 0:
                    l = e,
                    t.label = 1;
                case 1:
                    return t.trys.push([1, 3, , 4]),
                    [4, a.text()];
                case 2:
                    return [2, t.sent()];
                case 3:
                    return t.sent(),
                    [2, "Radar: Request.text()失败"];
                case 4:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    )).then((function(e) {
        i._config = e;
        var t = null;
        return u ? (t = c.clone()).data = l : t = c,
        o.forEach((function(e) {
            (e = e.response) && (t = e(t, i) || t)
        }
        )),
        c
    }
    ), (function(e) {
        throw o.forEach((function(t) {
            (t = t.responseError) && (e = t(e, i) || e)
        }
        )),
        e
    }
    ))
}
function on() {
    var e = [];
    function t(t) {
        -1 !== (t = e.indexOf(t)) && e.splice(t, 1)
    }
    function n(n) {
        return e.push(n),
        t.bind(void 0, n)
    }
    return {
        on: n,
        off: t,
        once: function(e) {
            var t = n((function(n) {
                e(n),
                t()
            }
            ));
            return t
        },
        emit: function(t) {
            e.forEach((function(e) {
                return e(t)
            }
            ))
        }
    }
}
function an(e) {
    return (e = new RegExp("(?:^|; ?)".concat(e, "=(1|0)(;|$)")).exec(document.cookie)) && e[1]
}
var sn = ["radar_init", "h5_load", "fmp", "main_api", "h5_custom_metric"]
  , cn = {
    load: function(e) {
        var t = e.dimension
          , n = e.value;
        if (e = t.event_name,
        sn.indexOf(e) < 0)
            return !1;
        if (!Ve(n))
            return !1;
        switch (e) {
        case "fmp":
            var r = n.fmp_time;
            return !(!n.fmp || !r);
        case "h5_load":
            return r = n.total,
            !(!n.load_event_time || !r);
        case "h5_custom_metric":
            return r = n.custom_metric_timestamp,
            !(!t.custom_metric_name || !r)
        }
        return !0
    },
    api: function(e) {
        var t = e.dimension
          , n = (e = e.value,
        t.custom_failed)
          , r = t.api
          , o = t.status
          , i = t.res_type
          , a = t.protocol
          , s = (t = t.cached,
        e.duration)
          , c = e.size;
        return "boolean" == typeof (void 0 !== n && n) && "string" == typeof (void 0 === r ? "" : r) && "number" == typeof (void 0 === o ? 0 : o) && "string" == typeof (void 0 === i ? "" : i) && "string" == typeof (void 0 === a ? "" : a) && "boolean" == typeof (void 0 !== t && t) && "number" == typeof (void 0 === s ? 0 : s) && "number" == typeof (void 0 === c ? 0 : c) && Ve(e)
    },
    resource: function(e) {
        var t = e.dimension
          , n = (e = e.value,
        t.failed);
        if ("boolean" != typeof n)
            return !1;
        if (n) {
            var r = t.res_path;
            if ("string" != typeof t.file || "string" != typeof r)
                return !1
        }
        return !!n || "string" == typeof t.file && Ve(e)
    },
    error: function(e) {
        if ([(e = e.dimension).error_cons_type, e.msg].some((function(e) {
            return null == e
        }
        )))
            return !1;
        var t, n = e.col, r = e.line;
        return e.sample_rate,
        e.event_client_timestamp,
        e = function(e, t) {
            var n = {};
            for (o in e)
                Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
            if (null != e && "function" == typeof Object.getOwnPropertySymbols)
                for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                    t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
            return n
        }(e, ["col", "line", "sample_rate", "event_client_timestamp"]),
        !(n && "number" != typeof n || r && "number" != typeof r) && "object" == t$1(t = e) && Object.keys(t).every((function(e) {
            return void 0 === t[e] || "string" == typeof t[e]
        }
        ))
    },
    event: function(e) {
        var t = e.value;
        return e = e.dimension.name,
        !(void 0 !== t && !Ve(t) || !e)
    },
    blood: function(e) {
        var t = !0;
        if ((e = e.dimension.data)instanceof Array) {
            if (0 === e.length)
                return !1;
            e.forEach((function(e) {
                "string" != typeof e.com && (t = !1)
            }
            ))
        }
        return t
    }
};
function un() {
    var e = ln(Ne$1, null, Ae$1);
    return e || (e = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
        var t = 16 * Math.random() | 0;
        return ("x" === e ? t : 3 & t | 8).toString(16)
    }
    )),
    pn(Ne$1, e, Ae$1)),
    e
}
function ln(e, t, n) {
    return Ce$1[n = void 0 === n ? Ae$1 : n] && void 0 !== Ce$1[n][e] ? Ce$1[n][e] : void 0 === t ? null : t
}
function pn(e, t, n) {
    var r;
    Ce$1[n = void 0 === n ? Ae$1 : n] || (Ce$1[r = void 0 === (r = n) ? Ae$1 : r] = ze$1(Ce$1[r] || {}, {})),
    Ce$1[n][e] = t
}
function dn(e, t) {
    return ln(e, t = void 0 === t ? null : t, Ie)
}
function fn() {
    pn(De$1, [], Ie)
}
function hn(e) {
    return JSON.parse(JSON.stringify(e))
}
function gn(e) {
    try {
        var t;
        if (window && window.localStorage && "undefined" != typeof Storage && window.localStorage instanceof Storage)
            return function(e, t) {
                try {
                    if (window && window.localStorage)
                        return window.localStorage.setItem(e, JSON.stringify(t)),
                        !0
                } catch (n) {
                    return !1
                }
            }(e, (t = 1e8 < (t = Number(function(e) {
                try {
                    if (window && window.localStorage) {
                        var t = window.localStorage.getItem(e);
                        if (t)
                            try {
                                return JSON.parse(t)
                            } catch (n) {
                                return t
                            }
                    }
                } catch (n) {
                    return null
                }
                return null
            }(e)) || 0) + 1 ? 0 : t) + 1),
            t
    } catch (n) {}
}
function mn(e) {
    var t, n, r = {};
    e = e.split("&");
    try {
        for (var o = function(e) {
            var t = "function" == typeof Symbol && Symbol.iterator
              , n = t && e[t]
              , r = 0;
            if (n)
                return n.call(e);
            if (e && "number" == typeof e.length)
                return {
                    next: function() {
                        return {
                            value: (e = e && r >= e.length ? void 0 : e) && e[r++],
                            done: !e
                        }
                    }
                };
            throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }(e), i = o.next(); !i.done; i = o.next()) {
            var a = ve$1(i.value.split("="), 2)
              , s = a[0]
              , c = a[1];
            s in r ? r[s]instanceof Array ? r[s].push(c) : r[s] = [r[s], c] : r[s] = c
        }
    } catch (l) {
        t = {
            error: l
        }
    } finally {
        try {
            i && !i.done && (n = o.return) && n.call(o)
        } finally {
            if (t)
                throw t.error
        }
    }
    return r
}
function vn(e) {
    throw new Error("radar error " + e)
}
var yn = function() {
    return (yn = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function _n(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function Sn(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var bn = ["c_dimension1", "c_dimension2", "c_dimension3", "release_tag", "product_version", "sub_app"]
  , wn = function() {
    function e(e) {
        var t, n = this, r = (this.queueConfig = {
            wait: 1e3,
            maxBatchLength: 200
        },
        this.logQueue = [],
        this.preStoredLogQueue = [],
        this.batchTimer = 0,
        this.eventName = "onpagehide"in window ? "pagehide" : "beforeunload",
        this.customDimension = {},
        this.runtimeIdMap = {},
        this.randomSampling = Math.random(),
        this.commonDimension = {},
        this.isInYoda = !1,
        this.sampleData = {
            isHit: !0,
            core: 1
        },
        this.ignoreList = ["https://web-trace.ksapisrv.com/ktrace/collect"],
        this.broadcastSample = on(),
        this.didRate = void 0,
        this.collect = function(e, t, r, o) {
            var i, a = hn({
                key: e,
                dimension: t = void 0 === t ? {} : t,
                value: r = void 0 === r ? {} : r
            });
            if (!n.sampleData || !1 !== n.sampleData.isHit) {
                if (!((i = a) ? Object.keys(_e).map((function(e) {
                    return _e[e]
                }
                )).indexOf(i.key) < 0 ? (Oe$1("117"),
                0) : cn[i.key](i) : (Oe$1("116"),
                0)))
                    return Oe$1("107", "key: ".concat(a.key)),
                    void n.collect(_e.EVENT, {
                        sample_rate: t.sample_rate,
                        message: "radar上报日志类型错误",
                        name: "radar_log_error",
                        extra_info: JSON.stringify(a)
                    }, {});
                Object.keys(a.value).forEach((function(e) {
                    a.value[e] = a.value[e].toString()
                }
                )),
                n.decorateLog(a);
                var s = ze$1(n.getCommonData(), o || {})
                  , c = s.app_version_name;
                if (delete s.app_version_name,
                (e = new Pe((function(e, t) {
                    e.dimension.app_version_name = c,
                    e.dimension.did_rate = n.didRate;
                    var r = (null == (r = null == e ? void 0 : e.dimension) ? void 0 : r.event_client_timestamp) || Date.now()
                      , o = (null == (o = null == e ? void 0 : e.dimension) ? void 0 : o.radar_session_id) || n.radarSessionId;
                    return ze$1(e, s, {
                        event_client_timestamp: r,
                        radar_session_id: o
                    })
                }
                ))).use((function(e, t) {
                    return e.key && "load" === e.key && (e.dimension = yn(yn({}, e.dimension), {
                        load_device_increase_id: gn("LOAD_DEVICE_INCREASE_ID"),
                        load_session_increase_id: n.genSessionIncreaseId("LOAD_SESSION_INCREASE_ID")
                    })),
                    e.key && "load" !== e.key && (e.dimension = yn(yn({}, e.dimension), {
                        other_device_increase_id: gn("OTHER_DEVICE_INCREASE_ID"),
                        other_session_increase_id: n.genSessionIncreaseId("OTHER_SESSION_INCREASE_ID")
                    })),
                    t()
                }
                )),
                (a = e.invoke(a))instanceof Error)
                    throw a;
                try {
                    window.dispatchEvent(new CustomEvent("get-radar-next-data",{
                        detail: {
                            kv: hn(a)
                        }
                    }))
                } catch (i) {}
                if (delete a.dimension.broadcast_info,
                n.weblog ? n.logQueue.push(a) : (a.base_href = location.href,
                n.preStoredLogQueue.push(a)),
                function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++)
                        t[n - 1] = arguments[n];
                    1 == +mn(location.search.slice(1)).debug && ke$1.apply(void 0, ye$1(["[radar] ".concat(e, ": ")], ve$1(t), !1))
                }("radarLogNext", JSON.parse(JSON.stringify(a))),
                n.logQueue.length > n.queueConfig.maxBatchLength - 1)
                    return n.flush(),
                    clearTimeout(n.batchTimer),
                    void (n.batchTimer = 0);
                n.batchTimer || (n.batchTimer = window.setTimeout((function() {
                    n.flush(),
                    clearTimeout(n.batchTimer),
                    n.batchTimer = 0
                }
                ), n.queueConfig.wait))
            }
        }
        ,
        this.flush = function() {
            var e;
            n.logQueue.length <= 0 || (e = null,
            (e = n.config.httpReportFirst ? e : n.reportByBridge()) && !n.config.httpReportFirst || n.reportByHttp(),
            n.logQueue = [])
        }
        ,
        "object" == t$1(e) && null !== e || vn("108"),
        "string" != typeof e.projectId && vn("109"),
        un());
        this.radarSessionId = r,
        this.config = e,
        this.sampling = "number" == typeof (t = null != (r = this.config.sampling) ? r : 1) && 0 <= t && t <= 1 ? t : (Oe$1("110"),
        1),
        this.bindWeblogger(e.weblogger),
        null != (r = this.config) && r.ignoreList && Array.isArray(null == (e = this.config) ? void 0 : e.ignoreList) && (this.ignoreList = this.ignoreList.concat(this.config.ignoreList.map((function(e) {
            return e.replace(/^(https?:)?\/\//, "")
        }
        )))),
        this.queueConfig = yn(yn({}, this.queueConfig), null != (r = this.config) && r.queueConfig ? this.config.queueConfig : {}),
        null != (e = this.config) && e.customDimensions && this.setDimensions(null == (r = this.config) ? void 0 : r.customDimensions),
        Xe(window, this.eventName, this.flush),
        "undefined" != typeof window && window.yodaCollectErrorDataDestroy && window.yodaCollectErrorDataDestroy()
    }
    return e.prototype.genSessionIncreaseId = function(e) {
        return this.runtimeIdMap[e] || (this.runtimeIdMap[e] = 0),
        this.runtimeIdMap[e]++
    }
    ,
    e.prototype.bindWeblogger = function(e) {
        var t, n = this;
        if (null != e && "object" != t$1(e))
            vn("106");
        else {
            if (this.weblog)
                return void ke$1("122");
            this.weblog = e,
            this.updateUrlPackage(),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url),
            this.isInYoda = !(null == (t = null == (e = this.weblog) ? void 0 : e.Utils) || !t.yoda),
            this.getSampleData()
        }
        0 < this.preStoredLogQueue.length && (this.preStoredLogQueue.forEach((function(e) {
            if (void 0 !== (t = n.sampleData["load" === e.key ? "core" : e.key]) && (e.dimension.sample_rate = t),
            "load" === e.key ? n.sampleData.core : e.dimension.sample_rate * n.sampleData.core >= n.randomSampling) {
                var t = n.getCommonData()
                  , r = (e.dimension.app_version_name = t.app_version_name,
                e.h5_extra_attr = JSON.stringify(yn(yn({}, null == (t = n.weblog.commonPackage) ? void 0 : t.getH5ExtraAttr()), JSON.parse(e.h5_extra_attr))),
                function(e) {
                    if (-1 === (n = (e = void 0 === e ? location.href : e).lastIndexOf("?")))
                        return {
                            page: e
                        };
                    var t = e.slice(0, n)
                      , n = e.slice(n + 1);
                    return {
                        url: e,
                        page: t,
                        params: mn(n)
                    }
                }(e.base_href))
                  , o = null == (t = n.weblog.logConfig) ? void 0 : t.urlMap;
                if (t = {},
                "function" == typeof o)
                    try {
                        var i = o(r);
                        "string" == typeof i ? t = {
                            page: i
                        } : "object" == t$1(i) && (t = {
                            page: i.page,
                            params: i.params
                        })
                    } catch (c) {}
                else if ("object" == t$1(o)) {
                    var a, s = "";
                    for (a in o)
                        if (-1 < (r.page || r.url || "").indexOf(a)) {
                            s = o[a];
                            break
                        }
                    s && (t = {
                        page: s
                    })
                }
                e.url_package = {
                    page: t && t.page || r.page
                },
                i = n.referUrlPackage && n.referUrlPackage.toJSON(),
                e.refer_url_package = i,
                delete e.base_href,
                n.logQueue.push(e)
            }
        }
        )),
        this.preStoredLogQueue = [],
        this.flush())
    }
    ,
    e.prototype.getSampleData = function() {
        var e, t, n = this;
        this.isInYoda ? (this.sampleData = {
            isHit: !0,
            core: this.sampling,
            api: 1,
            resource: .1,
            error: 1,
            event: 1
        },
        t = window.updateYodaSampleRateWithParams,
        window.updateYodaSampleRateWithParams = function(e) {
            Ee$1("104", e),
            n.updateYodaSampleRate(e),
            n.broadcastSample.emit(n.sampleData),
            t && t(e)
        }
        ,
        window.__yodaCommonDataObject__ && window.__yodaCommonDataObject__.sampleData ? (this.updateYodaSampleRate(window.__yodaCommonDataObject__.sampleData),
        this.collect(_e.EVENT, {
            name: "客户端采样率注入成功",
            event_type: "radar_sample_inject_success"
        }, {})) : "function" == typeof (null == (e = null == (e = null == (e = this.weblog) ? void 0 : e.Utils) ? void 0 : e.yoda) ? void 0 : e.getWebviewLoadPerf) && null != (e = this.weblog) && e.Utils.yoda.getWebviewLoadPerf().then((function(e) {
            null != e && e.sampleData && n.updateYodaSampleRate(e.sampleData)
        }
        ))) : this.sampleData = {
            isHit: this.samplingControl(this.sampling),
            core: this.sampling
        }
    }
    ,
    e.prototype.updateYodaSampleRate = function(e) {
        var t = this
          , n = null;
        try {
            var r = e;
            n = "string" == typeof r ? JSON.parse(r) : r
        } catch (o) {
            return void Ee$1("error: ", o)
        }
        n && Object.keys(n).forEach((function(e) {
            "load" === e ? t.sampleData.core = n[e] : "did_rate" === e ? t.didRate = n[e] : t.sampleData[e] = n[e]
        }
        ))
    }
    ,
    e.prototype.updateUrlPackage = function() {
        var e;
        null != (e = this.weblog) && e.currentUrlPackage && (this.currentUrlPackage = this.weblog.currentUrlPackage,
        this.referUrlPackage = this.weblog.referUrlPackage)
    }
    ,
    e.prototype.setDimensions = function(e) {
        var t = this
          , n = Object.keys(e);
        n.some((function(e) {
            return -1 === bn.indexOf(e)
        }
        )) && Oe$1("113", "".concat(n.join("、"))),
        n.forEach((function(n) {
            null == e[n] ? delete t.customDimension[n] : t.customDimension[n] = e[n]
        }
        ))
    }
    ,
    e.prototype.setCommonDimension = function(e, t, n) {
        this.commonDimension[e] = (n = void 0 === n || n) || null == (n = this.commonDimension[e]) ? t : n
    }
    ,
    e.prototype.decorateLog = function(e) {
        this.currentUrlPackage || this.updateUrlPackage(),
        0 < Object.keys(this.customDimension).length && Object.assign(e.dimension, this.customDimension),
        0 < Object.keys(this.commonDimension).length && Object.assign(e.dimension, this.commonDimension),
        this.currentUrlPackage && this.currentUrlPackage.page !== (null == (e = null == (e = this.weblog) ? void 0 : e.currentUrlPackage) ? void 0 : e.page) && (this.flush(),
        this.updateUrlPackage())
    }
    ,
    e.prototype.samplingControl = function(e) {
        return null !== e && "number" == typeof e && this.randomSampling < e
    }
    ,
    e.prototype.getCommonData = function() {
        var e, t = null == (t = null == (t = null == (t = this.weblog) ? void 0 : t.commonPackage) ? void 0 : t.app_package) ? void 0 : t.version_name;
        return t = {
            h5_extra_attr: JSON.stringify(yn(yn({}, null == (e = null == (e = this.weblog) ? void 0 : e.commonPackage) ? void 0 : e.getH5ExtraAttr()), {
                app_version_name: t,
                url: location.href,
                hash: location.hash,
                online: null === navigator || void 0 === navigator ? void 0 : navigator.onLine,
                downlink: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.downlink,
                rtt: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.rtt
            })),
            url_package: this.currentUrlPackage && this.currentUrlPackage.toJSON(),
            refer_url_package: this.referUrlPackage && this.referUrlPackage.toJSON(),
            app_version_name: t,
            project_id: null == (e = this.config) ? void 0 : e.projectId,
            event_trigger_source: "H5"
        },
        "1" === an("radar_report_test") && (t.is_report_test = !0),
        t
    }
    ,
    e.prototype.reportByHttp = function() {
        var e = this.getCommonData()
          , t = (e = {
            project_id: this.config.projectId,
            radar_session_id: this.radarSessionId,
            h5_extra_attr: e.h5_extra_attr
        },
        this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )))
          , n = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        Array.isArray(t) && t.length && this.collectLog(e, t, "radarSDK"),
        Array.isArray(n) && n.length && this.collectLog(e, n, "radarSDKSupplement")
    }
    ,
    e.prototype.collectLog = function(e, t, n) {
        var r;
        "function" != typeof (null == (r = this.weblog) ? void 0 : r.collect) && "function" != typeof (null == (r = this.weblog) ? void 0 : r.sendByHttp) ? Oe$1("114") : (this.weblog.sendByHttp || this.weblog.collect).call(this.weblog, "RADAR", {
            name: "radar_log",
            params: yn(yn({}, e), {
                data: Sn([], _n(t), !1)
            }),
            serviceName: n
        })
    }
    ,
    e.prototype.reportByBridge = function() {
        var e = null == (n = null == (n = this.weblog) ? void 0 : n.Utils) ? void 0 : n.yoda;
        if (!e)
            return !1;
        var t, n = this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )), r = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        try {
            return n.forEach((function(t) {
                "function" == typeof (null == (t = e.sendSummarizedLog({
                    key: "h5_load",
                    data: t
                })) ? void 0 : t.catch) && t.catch((function(e) {
                    Oe$1("123", e)
                }
                ))
            }
            )),
            r.length && "function" == typeof (null == (t = e.sendRadarLog({
                data: r
            })) ? void 0 : t.catch) && t.catch((function(e) {
                Oe$1("124", e)
            }
            )),
            !0
        } catch (o) {
            return !1
        }
    }
    ,
    e
}()
  , En = function(e, t) {
    return (En = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , kn = function() {
    return (kn = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function On(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
var Pn = {
    redirect: {
        end: "redirectEnd",
        start: "redirectStart"
    },
    dns: {
        end: "domainLookupEnd",
        start: "domainLookupStart"
    },
    dns_start: {
        end: "domainLookupEnd",
        start: "navigationStart"
    },
    tcp: {
        end: "connectEnd",
        start: "connectStart"
    },
    tcp_start: {
        end: "connectEnd",
        start: "navigationStart"
    },
    redirect_count: {
        custom: function(e, t) {
            return t.redirectCount
        }
    },
    ssl: {
        custom: function(e, t) {
            return t.connectEnd && t.secureConnectionStart ? t.connectEnd - t.secureConnectionStart : null
        }
    },
    ssl_start: {
        custom: function(e, t) {
            return t.secureConnectionStart && t.navigationStart ? t.secureConnectionStart - t.navigationStart : null
        }
    },
    ttfb: {
        end: "responseStart",
        start: "requestStart"
    },
    request_start: {
        end: "requestStart",
        start: "navigationStart"
    },
    trans: {
        end: "responseEnd",
        start: "responseStart"
    },
    dom_parse: {
        end: "domInteractive",
        start: "responseEnd"
    },
    dom_parse_start: {
        end: "domInteractive",
        start: "navigationStart"
    },
    blank: {
        end: "domLoading",
        start: "navigationStart"
    },
    fb: {
        end: "responseStart",
        start: "navigationStart"
    },
    dom_ready: {
        end: "domContentLoadedEventEnd",
        start: "navigationStart"
    },
    total: {
        end: "loadEventStart",
        start: "navigationStart"
    },
    resource: {
        end: "loadEventStart",
        start: "domInteractive"
    },
    fp: {
        custom: function() {
            if ("function" != typeof performance.getEntries)
                return null;
            var e = performance.getEntries().filter((function(e) {
                return "first-paint" === e.name
            }
            ))[0];
            return e ? Math.ceil(e.startTime + e.duration) : null
        }
    },
    js_cost: {
        custom: function() {
            if ("function" != typeof performance.getEntries)
                return null;
            var e, t, n = (t = "undefined" != typeof window ? window.performance : null) && t.timing ? "function" == typeof t.timing.toJSON ? ((e = t.timing.toJSON()) && !e.redirectStart && (e.redirectStart = e.navigationStart),
            e) : t.timing : null, r = performance.getEntries(), o = performance.getEntries().filter((function(e) {
                return "navigation" === e.initiatorType
            }
            ))[0];
            return r = r.filter((function(e) {
                return "script" === e.initiatorType
            }
            ))[0],
            o = o ? o.domComplete : n.domComplete - n.navigationStart,
            r && o ? o - r.fetchStart : null
        }
    },
    tti: {
        end: "domInteractive",
        start: "navigationStart"
    },
    protocol: {
        custom: function(e, t) {
            return t.nextHopProtocol
        }
    },
    dom_num: {
        custom: function() {
            return "undefined" != typeof document && void 0 !== document.all ? document.all.length : null
        }
    }
}
  , Tn = {
    main_api: {
        end: "apiEnd",
        start: "apiStart",
        notCatchIfUndefined: !0
    },
    main_api_offset: {
        end: "apiStart",
        start: "responseEnd",
        notCatchIfUndefined: !0
    },
    fmp: {
        end: "fmp_time",
        start: "navigationStart",
        notCatchIfUndefined: !0
    }
}
  , Ln = {
    navigation_start_time: "navigationStart",
    fetch_start_time: "fetchStart",
    dns_start_time: "domainLookupStart",
    dns_end_time: "domainLookupEnd",
    connect_start_time: "connectStart",
    ssl_start_time: "secureConnectionStart",
    request_start_time: "requestStart",
    response_start_time: "responseStart",
    response_end_time: "responseEnd",
    dom_interactive_time: "domInteractive",
    dom_loading_time: "domLoading",
    dom_ready_time: "domContentLoadedEventEnd",
    load_event_time: "loadEventStart",
    connect_end_time: "connectEnd",
    load_event_end: "loadEventEnd",
    dom_complete: "domComplete",
    dom_content_loaded_event_start: "domContentLoadedEventStart",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    radar_init_time: "radar_init_time",
    fmp_time: "fmp_time"
};
function Cn(e, t) {
    if (!Array.isArray(t))
        return -1;
    var n = -1;
    return t.forEach((function(t, r) {
        new RegExp(t).test(e) && (n = r)
    }
    )),
    n
}
var An = function(e) {
    function t(t) {
        var n = this;
        return (n = e.call(this, {
            core: t.core,
            key: _e.LOAD,
            version: "1.2.8",
            name: "RadarNavigationCollect"
        }) || this).hasFMP = !1,
        n.syncMetricNum = 0,
        n.customKeys = [],
        n.custom_metric = {},
        n.optionsMainAPI = [],
        n.mainAPIList = [],
        n.radarMainApiList = [],
        n.mainJSList = [],
        n.radarMainJSList = [],
        n.radarTiming = {
            radar_init_time: void 0,
            fmp_time: void 0,
            fmp: void 0,
            apiStart: void 0,
            apiEnd: void 0
        },
        n.h5Load = function() {
            var e = n.getPerformanceData();
            n.collect(kn({
                event_name: "h5_load"
            }, e))
        }
        ,
        n.dealAPI = function(e) {
            return n.cacheAndCalculateMainAPI(e),
            n.addMainApiResult(e),
            n.mainAPIList.filter((function(e) {
                return !!e.url
            }
            )).length !== n.mainAPIList.length || void 0 === n.radarTiming.fmp
        }
        ,
        n.addMainJSResult = function(e) {
            if (!n.mainJSList || 0 === n.mainJSList.length)
                return !1;
            var t, r, o, i, a, s, c, l, u, p, d, f, h, g, m, y = Cn((e.file || "").replace(/\?.+$/, ""), n.mainJSList);
            return -1 < y && !n.radarMainJSList[y].file && (t = e.file,
            r = e.cached,
            o = e.size,
            i = e.failed,
            a = e.res_type,
            s = e.protocol,
            c = e.fb,
            l = e.dns,
            u = e.tcp,
            p = e.ssl,
            d = e.ttfb,
            f = e.trans,
            h = e.total,
            g = e.fetch_start,
            m = e.duration,
            e = e.start_time,
            n.radarMainJSList[y] = {
                file: t,
                cached: r,
                size: o,
                failed: i,
                res_type: a,
                protocol: s,
                fb: c,
                dns: l,
                tcp: u,
                ssl: p,
                ttfb: d,
                trans: f,
                total: h,
                fetch_start: g,
                duration: m,
                start_time: e,
                reg: n.mainJSList[y]
            }),
            n.radarMainJSList.filter((function(e) {
                return !!e.file
            }
            )).length !== n.mainJSList.length
        }
        ,
        t.core || vn("212"),
        "string" == typeof t.mainApi ? (n.optionsMainAPI.push(t.mainApi),
        n.mainAPIList.push({}),
        n.radarMainApiList.push({})) : Array.isArray(t.mainApi) && (3 < t.mainApi.length && ke$1("207"),
        n.optionsMainAPI = t.mainApi.slice(0, 3),
        n.optionsMainAPI.forEach((function() {
            n.mainAPIList.push({}),
            n.radarMainApiList.push({})
        }
        ))),
        "string" == typeof t.mainJs ? (n.mainJSList.push(t.mainJs),
        n.radarMainJSList.push({})) : Array.isArray(t.mainJs) && (3 < t.mainJs.length && ke$1("211"),
        n.mainJSList = t.mainJs.slice(0, 3),
        n.mainJSList.forEach((function() {
            return n.radarMainJSList.push({})
        }
        ))),
        performance.timing ? n.init() : (null != (t = n.core) && t.collect("event", {
            name: "radar_error",
            message: "performance.timing 不存在无法收集数据",
            category: _e.LOAD
        }),
        Oe$1("208")),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return En(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t = dn(Re$1);
        t = this.core.config.projectId === t ? dn("radar_init_time") : null,
        this.radarTiming.radar_init_time = t || Date.now(),
        t || (t = this.getPerformanceData(),
        this.collect(kn({
            event_name: "radar_init"
        }, t))),
        null != (e = (t = this.core).setCommonDimension) && e.call(t, "happen_stage", "during_fmp"),
        0 < performance.timing.loadEventStart ? this.h5Load() : Xe(window, "load", this.h5Load)
    }
    ,
    t.prototype.customStage = function(e, t) {
        var n, r;
        void 0 === t && (t = {
            sendTimeline: !0
        }),
        this.isHit ? (void 0 !== e && "string" == typeof e && "" !== e || vn("206"),
        this.isValidTimestamp(t.timestamp, "custom_stage " + e) && (n = t.timestamp || Date.now(),
        r = this.customKeys.length - this.syncMetricNum,
        this.customKeys.includes(e) ? Oe$1("204", e) : t.sendTimeline && 2 < this.syncMetricNum || !t.sendTimeline && 5 < r ? Oe$1("205", e) : n && (this.custom_metric[e + "_time"] = n,
        this.customKeys.push(e),
        !t || !0 !== t.sendTimeline && null != t.sendTimeline || (r = this.getPerformanceData(),
        this.collect(kn(kn({}, r), {
            stack: (new Error).stack,
            event_name: "h5_custom_metric",
            custom_metric_name: e,
            custom_metric_timestamp: n
        })),
        this.syncMetricNum++)))) : Oe$1("200")
    }
    ,
    t.prototype.isValidTimestamp = function(e, t) {
        var n;
        if (void 0 === t && (t = "fmp"),
        void 0 !== e && "number" != typeof e)
            vn("201");
        else if (void 0 !== e && e < performance.timing.navigationStart)
            return ke$1("210", "".concat(t)),
            null != (n = this.core) && n.collect("event", {
                name: "radar_error",
                message: "【210】".concat(t),
                extra_info: {
                    timestamp: e,
                    navigationStart: performance.timing.navigationStart
                }
            }),
            !1;
        return !0
    }
    ,
    t.prototype.fmp = function(e) {
        var t, n;
        this.isHit ? this.isValidTimestamp(e) && (e = e || Date.now(),
        this.hasFMP ? ke$1("202") : e && performance.timing && (null != (n = null == (t = this.core) ? void 0 : t.setCommonDimension) && n.call(t, "happen_stage", "after_fmp"),
        this.hasFMP = !0,
        this.radarTiming.fmp_time = e,
        performance.timing.radarFmp = e,
        n = this.getPerformanceData(),
        performance.timing.fmp = this.radarTiming.fmp = n.fmp,
        this.collect(kn({
            event_name: "fmp",
            stack: (new Error).stack
        }, n)))) : ke$1("200")
    }
    ,
    t.prototype.getPerformanceData = function() {
        var e = kn(kn({}, hn(performance.timing)), this.radarTiming)
          , t = Qe(kn(kn({}, Pn), Tn), e);
        return Object.keys(Ln).forEach((function(n) {
            0 <= e[Ln[n]] && (t[n] = e[Ln[n]])
        }
        )),
        ["radar_main_js_start", "lcp", "cls", "fid", "fcp"].forEach((function(e) {
            var n = ln(e);
            !n && 0 !== n || (t[e] = n)
        }
        )),
        t
    }
    ,
    t.prototype.cacheAndCalculateMainAPI = function(e) {
        var t;
        void 0 === this.radarTiming.fmp && (e.before_hook_time && (t = this.radarTiming.apiStart,
        this.radarTiming.apiStart = t ? Math.min(t, e.before_hook_time) : e.before_hook_time),
        e.after_hook_time && (t = this.radarTiming.apiEnd,
        this.radarTiming.apiEnd = t ? Math.max(t, e.after_hook_time) : e.after_hook_time))
    }
    ,
    t.prototype.addMainApiResult = function(e) {
        var t, n, r, o, i, a, s, c, l, u, p, d, f, h, g, m, y, v, b = Cn((e.api || "").replace(/\?.+$/, ""), this.optionsMainAPI);
        -1 < b && (null == (v = this.mainAPIList[b]) || !v.url) && (v = e.api,
        t = e.status,
        n = e.size,
        r = e.cached,
        o = e.method,
        c = e.perfTime,
        i = e.protocol,
        a = e.custom_failed,
        s = e.res_type,
        y = On(e, ["api", "status", "size", "cached", "method", "perfTime", "protocol", "custom_failed", "res_type"]),
        this.mainAPIList[b] = kn({
            url: v,
            status: t,
            size_radar: n,
            cached: r,
            method: o,
            perfTime: c,
            protocol: i,
            res_type: s,
            custom_failed: a
        }, y),
        c = y.fb,
        l = y.dns,
        u = y.tcp,
        p = y.ssl,
        d = y.ttfb,
        f = y.trans,
        h = y.total,
        g = y.fetch_start,
        m = y.duration,
        y = y.start_time,
        this.radarMainApiList[b] = {
            api: v,
            status: t,
            size: n,
            cached: r,
            method: o,
            protocol: i,
            fb: c,
            dns: l,
            tcp: u,
            ssl: p,
            ttfb: d,
            trans: f,
            total: h,
            fetch_start: g,
            duration: m,
            custom_failed: a,
            res_type: s,
            reg: this.optionsMainAPI[b],
            start_time: y
        },
        this.radarTiming.fmp_time && e.after_hook_time && e.after_hook_time < this.radarTiming.fmp_time && (v = this.getPerformanceData(),
        this.collect(kn({
            event_name: "main_api"
        }, v))))
    }
    ,
    t.prototype.destroy = function() {
        $e$1(window, "load", this.h5Load),
        this.customStage = this.fmp = function() {
            ke$1("213")
        }
    }
    ,
    t.prototype.collect = function(e) {
        var t = e.protocol
          , n = e.event_name
          , r = (e.custom_metric,
        e.custom_metric_name)
          , o = e.stack;
        e.main_api_list,
        e = On(e, ["protocol", "event_name", "custom_metric", "custom_metric_name", "stack", "main_api_list"]),
        this.baseCollect({
            value: e,
            dimension: {
                protocol: t,
                event_name: n,
                custom_metric_name: r,
                custom_metric: JSON.stringify(this.custom_metric),
                main_api_list: this.mainAPIList,
                radar_main_api_list: this.radarMainApiList,
                radar_main_js_list: this.radarMainJSList,
                is_official: 1,
                stack: o
            }
        }),
        null != (e = this.core) && e.flush()
    }
    ,
    t
}(Te)
  , In = function(e, t) {
    return (In = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , Nn = function() {
    return (Nn = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function Un(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
var Rn = je$1
  , xn = {
    navigation_start: "startTime",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    dns_start: "domainLookupStart",
    dns_end: "domainLookupEnd",
    connect_start: "connectStart",
    connect_end: "connectEnd",
    ssl_start: "secureConnectionStart",
    request_start: "requestStart",
    response_start: "responseStart",
    response_end: "responseEnd"
};
function Dn(e) {
    return jn(e, "Content-Type")
}
function jn(e, t) {
    if (e)
        return "function" == typeof e.get ? e.get(t) : e[t.toLowerCase()]
}
function Mn(e) {
    var t = "";
    if ("string" == typeof e)
        t = e;
    else
        try {
            t = JSON.stringify(e)
        } catch (i) {
            t = String(e)
        }
    for (var n = 0, r = 0; r < t.length; r++) {
        var o = t.charCodeAt(r);
        n += o < 128 ? 1 : o < 2048 ? 2 : o < 65536 ? 3 : o < 1 << 21 ? 4 : o < 1 << 26 ? 5 : o < 1 << 31 ? 6 : Number.NaN
    }
    return n
}
function Hn(e) {
    var t = (n = document.location).protocol
      , n = n.host;
    return 0 === e.indexOf("//") ? t + e : 0 === e.indexOf("/") ? "".concat(t, "//").concat(n).concat(e) : e
}
var Gn = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: null == (t = void 0 === t ? {} : t) ? void 0 : t.core,
            sampling: null == t ? void 0 : t.sampling,
            key: _e.API,
            version: "1.2.8",
            name: "RadarAPICollect"
        }) || this;
        return n.ignoreList = Le$1,
        n.queue = [],
        n.logList = [],
        n.perfList = [],
        n.broadcastApi = on(),
        n.initiatorTypeList = [],
        n.beforeHook = function(e) {
            var t;
            0 === (null == (t = e.url) ? void 0 : t.indexOf("data:")) || He$1(e.url, n.ignoreList) || He$1(e.url, (null == (t = n.core) ? void 0 : t.ignoreList) || []) || "js" === Ge$1(e.url) || "css" === Ge$1(e.url) || (t = {
                api: Hn(e.url),
                method: e.method,
                request: e,
                startTime: Date.now()
            },
            n.queue.push(t))
        }
        ,
        n.afterHook = function(e, t, r, o) {
            var i = n.queue.find((function(e) {
                return e.request === t
            }
            ));
            if (i) {
                delete i.request;
                var a = i.startTime
                  , s = (i = Un(i, ["startTime"]),
                Date.now())
                  , c = s - a
                  , l = r.status;
                if ("function" == typeof n.customizeRadarStatus)
                    try {
                        l = n.customizeRadarStatus(r)
                    } catch (d) {}
                e = n.customHook({
                    type: e,
                    duration: c,
                    request: t,
                    response: r,
                    error: o
                });
                var u = +jn(r.headers, "Content-Length") || 0
                  , p = function(e) {
                    function t() {
                        e = e.replace(/^\s*/, "")
                    }
                    function n(n) {
                        return t(),
                        e[0] === n && (e = e.slice(1),
                        1)
                    }
                    function r() {
                        t();
                        var n = /^([^\s,;=\\]+)(.*)/.exec(e);
                        if (n)
                            return e = n[2],
                            n[1]
                    }
                    if (e && "string" == typeof e) {
                        for (var o, i = []; o = r(); ) {
                            for (var a = {
                                name: o
                            }, s = {}; n(";"); ) {
                                var c, l, u = void 0;
                                (u = r()) && (c = void 0,
                                n("=") && (c = function() {
                                    if (t(),
                                    '"' !== e[0])
                                        return r();
                                    e = e.slice(1);
                                    for (var n = ""; e.length; ) {
                                        var o = /^([^"\\]*)(.*)/.exec(e);
                                        if (o) {
                                            if (n += o[1],
                                            '"' === o[2][0])
                                                return e = o[2].slice(1),
                                                n;
                                            n += o[2][1],
                                            e = o[2].slice(2)
                                        }
                                    }
                                }(),
                                l = void 0,
                                (l = /([,;].*)/.exec(e)) && (e = l[1])),
                                s[l = u.toLowerCase()] || (s[l] = 1,
                                "dur" === l ? a.duration = parseFloat(c) || 0 : "desc" === l ? a.description = c || "" : a[u] = c))
                            }
                            if ("sec" === a.unit && a.duration && (a.duration *= 1e3),
                            delete a.unit,
                            i.push(a),
                            !n(","))
                                break
                        }
                        return i.length ? i : void 0
                    }
                }(jn(r.headers, "Server-Timing"));
                c = Nn(Nn(Nn({
                    duration: c,
                    logTime: Date.now(),
                    status: l,
                    size: +u,
                    content_type: Dn(r.headers),
                    aborted: r.aborted || void 0,
                    custom_failed: !(200 <= l && l < 300)
                }, i), e), {
                    before_hook_time: a,
                    after_hook_time: s,
                    trace_id: t.trace_id,
                    server_timing: p
                }),
                2 === (null == (l = null == (u = jn(r.headers, "Intercept-Result")) ? void 0 : u.split(";")) ? void 0 : l.length) && null != (i = n.core) && i.setCommonDimension && (n.core.setCommonDimension("intercept_result", l[0], !1),
                n.core.setCommonDimension("intercept_result_code", l[1], !1),
                c.api_intercept_result = l[0],
                c.api_intercept_result_code = l[1]),
                r.finalUrl && (c.api = r.finalUrl),
                "string" == typeof r.text && (c.responseData = r.text),
                0 !== Nn(Nn({}, r), {
                    status: c.status
                }).status || e.intercept_report ? n.mergeAPIPerf(void 0, c) || n.logList.push(c) : (c.size && 0 != c.size || !c.responseData || (c.size = Mn(c.responseData)),
                delete c.responseData,
                delete c.server_timing,
                n.collect(c)),
                n.queue = n.queue.filter((function(e) {
                    return e.request && e.request !== t
                }
                ))
            }
        }
        ,
        void 0 !== (n.option = t) && null != t && t.core || vn("310"),
        void 0 !== t.ignoreList && (Array.isArray(t.ignoreList) || vn("309"),
        t.ignoreList.forEach((function(e) {
            "string" != typeof e && vn("309")
        }
        )),
        n.ignoreList = n.ignoreList.concat(t.ignoreList)),
        n.APIHook = t.APIHook,
        n.customizeRadarStatus = t.customizeRadarStatus,
        n.init(),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return In(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t, n, r, o = this;
        try {
            this.observer = new PerformanceObserver((function(e) {
                return o.observeAPI(e)
            }
            )),
            this.observer.observe({
                entryTypes: ["resource"]
            }),
            this.initiatorTypeList = [],
            !0 !== this.option.ignoreXHR && (this.initiatorTypeList.push("xmlhttprequest"),
            this.unhookXML = (t = function(e) {
                return o.beforeHook(e)
            }
            ,
            n = function(e, t) {
                return o.afterHook("xmlhttprequest", e, t)
            }
            ,
            (r = window.XMLHttpRequest) ? (window.XMLHttpRequest = function() {
                var e, o, i, a, s = new r, c = (s._radarRequest = {},
                s._radarResponse = {},
                tn()), l = (s._radarRequest.id = c,
                {});
                return s.addEventListener("readystatechange", (function() {
                    if (4 === s.readyState) {
                        s._radarResponse.status = s.status,
                        s._radarResponse.statusText = s.statusText;
                        var e, t, r, o, i, a = function(e, t) {
                            switch (null == t && (t = {}),
                            t$1(e)) {
                            case "object":
                                var n, r = [];
                                for (n in e) {
                                    var o = e[n]
                                      , i = n.toLowerCase();
                                    r.push("".concat(i, ":\t").concat(o))
                                }
                                return r.join("\n") + "\n";
                            case "string":
                                for (var a = 0, s = (r = e.split("\n")).length; a < s; a++) {
                                    var c = r[a];
                                    /([^:]+):\s*(.+)/.test(c) && (c = null != (c = RegExp.$1) ? c.toLowerCase() : void 0,
                                    o = RegExp.$2,
                                    c && null == t[c] && (t[c] = o))
                                }
                                return t
                            }
                        }(s.getAllResponseHeaders());
                        for (e in a)
                            r = a[e],
                            s._radarResponse && s._radarResponse.headers && !s._radarResponse.headers[e] && (t = e.toLowerCase(),
                            s._radarResponse.headers[t] = r);
                        if (s.responseType && "text" !== s.responseType)
                            "document" === s.responseType ? (s._radarResponse.xml = s.responseXML,
                            s._radarResponse.data = s.responseXML) : s._radarResponse.data = s.response;
                        else {
                            s._radarResponse.text = s.responseText,
                            s._radarResponse.data = s.responseText;
                            try {
                                s._radarResponse.xml = s.responseXML
                            } catch (u) {}
                        }
                        "responseURL"in s && (s._radarResponse.finalUrl = s.responseURL);
                        try {
                            var c = null != (o = l["ktrace-str"]) ? o : "";
                            c && window.parseWedTraceId && (s._radarRequest.trace_id = window.parseWedTraceId(null != (i = c.split("|")[1]) ? i : ""))
                        } catch (u) {
                            ke$1("traceId 解析异常")
                        }
                        n(s._radarRequest, s._radarResponse)
                    }
                }
                )),
                "function" == typeof s.abort && (e = s.abort,
                s.abort = function() {
                    return s._radarResponse.aborted = !0,
                    e.apply(this, Fe(arguments))
                }
                ),
                "function" == typeof s.setRequestHeader && (o = s.setRequestHeader,
                s.setRequestHeader = function() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    return Ze$1.includes(e[0]) && (l[e[0]] = e[1]),
                    o.apply(this, e)
                }
                ),
                "function" == typeof s.open && (i = s.open,
                s.open = function(e, t, n, r, o) {
                    var a = [].slice.call(arguments);
                    return this._radarRequest = he$1({
                        method: e,
                        url: t,
                        async: n,
                        user: r,
                        pass: o
                    }, this._radarRequest),
                    this._radarResponse.headers = {},
                    i.apply(this, a)
                }
                ),
                "function" == typeof s.send && (a = s.send,
                s.send = function() {
                    var e = [].slice.call(arguments);
                    return this._radarRequest._config = e[0],
                    t(this._radarRequest),
                    a.apply(this, e)
                }
                ),
                s
            }
            ,
            ["DONE", "HEADERS_RECEIVED", "LOADING", "OPENED", "UNSENT"].forEach((function(e) {
                window.XMLHttpRequest[e] = r[e]
            }
            )),
            window.XMLHttpRequest.prototype = r.prototype,
            function() {
                r && (window.XMLHttpRequest = r)
            }
            ) : (Oe$1("118"),
            !1))),
            !0 !== this.option.ignoreFetch && (this.initiatorTypeList.push("fetch"),
            this.unhookFetch = function(e, t) {
                var n = function(e) {
                    if ("function" != typeof e.fetch)
                        return null;
                    var t, n = e.fetch;
                    return e.fetch = (t = e.fetch,
                    function() {
                        for (var e = [], n = 0; n < arguments.length; n++)
                            e[n] = arguments[n];
                        return rn.apply(void 0, ye$1([t], ve$1(e), !1))
                    }
                    ),
                    {
                        register: function(e) {
                            return en.push(e),
                            function() {
                                var t = en.indexOf(e);
                                0 <= t && en.splice(t, 1)
                            }
                        },
                        clear: function() {
                            en = []
                        },
                        unRegister: function() {
                            n && (e.fetch = n)
                        }
                    }
                }("function" == typeof importScripts ? self : window);
                return n && n.register({
                    request: function(t, n) {
                        e(t)
                    },
                    response: function(e, n) {
                        t(n, e)
                    },
                    responseError: function(e, n) {
                        t(n, {
                            status: 0,
                            statusText: e
                        }, e)
                    }
                }),
                null == n ? void 0 : n.unRegister
            }((function(e) {
                return o.beforeHook(e)
            }
            ), (function(e, t, n) {
                return o.afterHook("fetch", e, t, n)
            }
            )))
        } catch (t2) {
            Oe$1("308"),
            null != (e = this.core) && e.collect("event", {
                name: "radar_error",
                message: "PerformanceObserver 不存在无法收集数据",
                category: _e.API
            })
        }
    }
    ,
    t.prototype.customHook = function(e) {
        var t = {};
        if (void 0 === this.APIHook)
            return t;
        if ("function" != typeof this.APIHook)
            return ke$1("300"),
            t;
        var n = {};
        try {
            n = this.APIHook(e)
        } catch (c) {
            return ke$1("301", c),
            {}
        }
        if (!n)
            return ke$1("302"),
            t;
        e = n.response_msg;
        var r = n.response_code
          , o = n.status
          , i = n.custom_failed
          , a = n.intercept_report;
        if (n = n.broadcast_info,
        !0 === Boolean(a) && (t.intercept_report = !0),
        void 0 !== e)
            try {
                var s = JSON.stringify(e);
                100 < s.length && ke$1("307"),
                t.response_msg = s.slice(0, 100)
            } catch (c) {
                t.response_msg = "response_msg返回结果异常",
                ke$1("303")
            }
        return void 0 !== r && (a = Number(r),
        isNaN(a) ? ke$1("304") : t.response_code = a),
        void 0 !== o && (e = Number(o),
        isNaN(e) ? ke$1("305") : t.status = e),
        void 0 !== i && (!0 === i || !1 === i ? t.custom_failed = i : ke$1("306")),
        t.broadcast_info = n,
        t
    }
    ,
    t.prototype.observeAPI = function(e) {
        var t = this;
        e.getEntriesByType("resource").forEach((function(e) {
            var n, r, o;
            if (0 === (null == (o = e.name) ? void 0 : o.indexOf("data:")) || He$1(e.name, t.ignoreList) || He$1(e.name, (null == (o = t.core) ? void 0 : o.ignoreList) || []))
                return !1;
            "api" === Ke$1(e) && ((o = Qe(Rn, e)).perfTime = Date.now(),
            null != (n = null == (n = e.serverTiming) ? void 0 : n.map((function(e) {
                return {
                    name: e.name,
                    duration: e.duration,
                    description: e.description || void 0
                }
            }
            ))) && n.length || (n = void 0),
            r = {
                encoded_body_size: e.encodedBodySize,
                decoded_body_size: e.decodedBodySize
            },
            Object.keys(xn).forEach((function(t) {
                r[t] = Number(e[xn[t]] + performance.timing.navigationStart)
            }
            )),
            o = Nn(Nn(Nn(Nn({}, o), {
                api: o.file
            }), r), {
                server_timing: n
            }),
            t.mergeAPIPerf(o) || t.perfList.push(o))
        }
        ))
    }
    ,
    t.prototype.destroy = function() {
        this.unhookXML && this.unhookXML(),
        this.unhookFetch && this.unhookFetch(),
        this.observer && this.observer.disconnect()
    }
    ,
    t.prototype.mergeAPIPerf = function(e, t) {
        if (e ? t = this.takeItem(e, this.logList) : t && (e = this.takeItem(t, this.perfList)),
        !e || !t)
            return !1;
        if (!0 === t.intercept_report)
            return !0;
        var n, r = Object.assign({}, t, e, {
            size: e.size || t.size
        });
        return delete r.file,
        r.size && 0 != r.size || !r.responseData || (r.size = Mn(r.responseData)),
        delete r.responseData,
        (t = t.server_timing || e.server_timing) && (n = null,
        t.map((function(e) {
            "total-timing" === e.name && (n = null != (e = e.duration) ? e : null)
        }
        )),
        r.total_server_timing = n,
        r.server_data_list = JSON.stringify(t)),
        delete r.server_timing,
        this.collect(r),
        !0
    }
    ,
    t.prototype.takeItem = function(e, t) {
        var n, r = (e.api || "").replace(/\?.+$/, "");
        if (-1 !== (e = t.findIndex((function(e) {
            return e = (e.api || "").replace(/\?.+$/, ""),
            r === e
        }
        ))))
            return n = t[e],
            t.splice(e, 1),
            n
    }
    ,
    t.prototype.collect = function(e) {
        var t, n = this, r = e.res_type, o = e.protocol, i = e.api, a = e.custom_failed, s = e.status, c = e.cached, l = e.method, u = e.response_code, p = e.response_msg, d = (e.has_fmp,
        e.server_data_list), f = e.content_type, h = e.broadcast_info, g = e.before_hook_time, m = e.after_hook_time, y = e.api_intercept_result, v = e.api_intercept_result_code, b = e.trace_id, _ = e.has_timing_allow, S = e.aborted, w = {
            dimension: {
                before_hook_time: g,
                after_hook_time: m,
                res_type: r,
                protocol: o,
                api: i,
                custom_failed: a,
                status: s,
                cached: c,
                method: l,
                response_code: u,
                response_msg: p,
                content_type: f,
                broadcast_info: h,
                is_official: 1,
                server_data_list: d,
                trace_id: b,
                api_intercept_result: y,
                api_intercept_result_code: v,
                has_timing_allow: _,
                aborted: S
            },
            value: Un(e, ["res_type", "protocol", "api", "custom_failed", "status", "cached", "method", "response_code", "response_msg", "has_fmp", "server_data_list", "content_type", "broadcast_info", "before_hook_time", "after_hook_time", "api_intercept_result", "api_intercept_result_code", "trace_id", "has_timing_allow", "aborted"])
        };
        this.broadcastApi.emit(hn(e)),
        0 !== s ? this.baseCollect(w) : (m = (g = this.option).ignoreAborted,
        t = g.isIgnoreInvalidStatusCode,
        S && m ? Ee$1("311") : Be$1(t) ? new Promise((function(n, r) {
            var o, i, a = t(e);
            (i = a) && Be$1(i.then) && Be$1(i.catch) ? (o = setTimeout((function() {
                return n(!1)
            }
            ), 2e3),
            a.then((function(e) {
                clearTimeout(o),
                n(!0 === e)
            }
            ), r)) : n(!0 === a)
        }
        )).then((function(e) {
            e ? ke$1("异步拦截日志") : n.baseCollect(w)
        }
        ), (function(e) {
            n.baseCollect(w),
            Oe$1(e)
        }
        )) : this.baseCollect(w))
    }
    ,
    t
}(Te)
  , Vn = function(e, t) {
    return (Vn = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}
  , Bn = function() {
    return (Bn = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
}
  , Wn = Object.assign({}, je$1, {
    duration: {
        end: "responseEnd",
        start: "fetchStart"
    },
    cached_type: {
        custom: function(e, t) {
            var n = "hit_browser";
            if (0 === t.transferSize || 0 === t.duration)
                return n;
            if (null == t.transferSize && (0 === t.domainLookupStart || t.responseStart === t.fetchStart))
                return n;
            if (t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            ))) {
                if (t.serverTiming.some((function(e) {
                    return "miss" === e.name
                }
                )))
                    return "miss_cdn";
                if (t.serverTiming.some((function(e) {
                    return "hit" === e.name
                }
                )))
                    return "hit_cdn"
            }
            return "miss_browser"
        },
        crossOriginSkip: !0
    },
    cdn_duration: {
        custom: function(e, t) {
            return t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            )) ? null == (t = null == (t = t.serverTiming) ? void 0 : t.find((function(e) {
                return "total-timing" === e.name
            }
            ))) ? void 0 : t.duration : null
        },
        crossOriginSkip: !0,
        cachedSkip: !0
    },
    cdn_ip: {
        custom: function(e, t) {
            if (t.serverTiming && t.serverTiming.some((function(e) {
                return "cdn" === e.name
            }
            )))
                return null == (t = t.serverTiming.find((function(e) {
                    return "miss" === e.name || "hit" === e.name
                }
                ))) ? void 0 : t.description
        },
        crossOriginSkip: !0,
        cachedSkip: !0
    }
})
  , Fn = {
    fetch_start_time: "fetchStart",
    redirect_start: "redirectStart",
    redirect_end: "redirectEnd",
    dns_start: "domainLookupStart",
    dns_end: "domainLookupEnd",
    connect_start: "connectStart",
    connect_end: "connectEnd",
    ssl_start: "secureConnectionStart",
    request_start: "requestStart",
    response_start: "responseStart",
    response_end: "responseEnd"
};
function Jn(e) {
    return Array.isArray(e) ? e.map((function(e) {
        var t = e.id
          , n = e.getAttribute ? e.getAttribute("class") : e.className || "";
        return e = e.tagName || "",
        t && (e += "#" + t),
        n && (e += n.split(/\s+/g).map((function(e) {
            return "." + e
        }
        )).join("")),
        e
    }
    )).filter((function(e) {
        return e
    }
    )).join(",") : ""
}
var Kn, qn, zn, Qn, Yn = function(e) {
    function t(t) {
        var n, r = this;
        return (r = e.call(this, {
            core: null == t ? void 0 : t.core,
            sampling: null != (n = null == t ? void 0 : t.sampling) ? n : .1,
            version: "1.2.8",
            key: _e.RES,
            name: "RadarResourceCollect"
        }) || this).ignoreList = Le$1,
        r.broadcastJs = on(),
        r.onResError = function(e, t) {
            var n, o;
            (o = e).message || null != o.lineno || (n = (e.target.src || e.target.href || "").toString(),
            n = {
                failed: !0,
                file: n = "function" != typeof e.target.getAttribute || "" !== e.target.getAttribute("src") && "" !== e.target.getAttribute("href") ? n : "",
                res_path: Jn(e && e.path || e && e.composedPath && e.composedPath())
            },
            r.collect(n, t),
            r.broadcastJs.emit(n))
        }
        ,
        r.observeResource = function(e) {
            e.getEntriesByType("resource").forEach((function(e) {
                var t, n, o;
                if (0 === e.name.indexOf("data:") || He$1(e.name, r.ignoreList) || He$1(e.name, (null == (t = r.core) ? void 0 : t.ignoreList) || []))
                    return !1;
                "resource" === Ke$1(e) && (t = Qe(Wn, e),
                n = {
                    encoded_body_size: e.encodedBodySize,
                    decoded_body_size: e.decodedBodySize
                },
                Object.keys(Fn).forEach((function(t) {
                    n[t] = Number(e[Fn[t]] + performance.timing.navigationStart)
                }
                )),
                o = Bn(Bn({
                    failed: !1
                }, t), n),
                r.collect(o),
                setTimeout((function() {
                    r.broadcastJs.emit(o)
                }
                )))
            }
            ))
        }
        ,
        r.resourceHook = t.resourceHook,
        void 0 !== t.ignoreList && (Array.isArray(t.ignoreList) || vn("802"),
        t.ignoreList.forEach((function(e) {
            "string" != typeof e && vn("802")
        }
        )),
        r.ignoreList = r.ignoreList.concat(t.ignoreList)),
        r.init(),
        t.seedLogs && r.parseSeedLog(t.seedLogs),
        r
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return Vn(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        var e, t = this;
        try {
            this.observeResource(performance),
            this.observer = new PerformanceObserver((function(e) {
                return t.observeResource(e)
            }
            )),
            this.observer.observe({
                entryTypes: ["resource"]
            })
        } catch (n) {
            Oe$1("801"),
            null != (e = this.core) && e.collect("event", {
                name: "radar_error",
                message: "PerformanceObserver 不存在无法收集数据",
                category: _e.RES
            })
        }
        Xe(window, "error", (function(e) {
            return t.onResError(e)
        }
        ), !0)
    }
    ,
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        e.map((function(e) {
            var n, r = e.data;
            (n = {})[Ue] = e[Ue],
            n[xe$1] = e[xe$1],
            t.onResError(r, n)
        }
        ))
    }
    ,
    t.prototype.collect = function(e, t) {
        var n = e.cached
          , r = e.failed
          , o = e.file
          , i = e.protocol
          , a = e.res_type
          , s = e.res_path
          , c = e.cached_type
          , l = e.cdn_ip
          , u = e.has_timing_allow;
        e = function(e, t) {
            var n = {};
            for (o in e)
                Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
            if (null != e && "function" == typeof Object.getOwnPropertySymbols)
                for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                    t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
            return n
        }(e, ["cached", "failed", "file", "protocol", "res_type", "res_path", "cached_type", "cdn_ip", "has_timing_allow"]);
        try {
            var p = this.resourceHook && this.resourceHook({
                file: o,
                cached: n,
                protocol: i,
                res_type: a,
                failed: r
            });
            if (null != p && p.intercept_report)
                return
        } catch (d) {
            Oe$1("803", d)
        }
        this.baseCollect(((p = {
            value: e,
            dimension: Bn({
                cached: n,
                failed: r,
                file: o,
                protocol: i,
                res_type: a,
                res_path: s,
                sample_rate: this.sampling,
                is_official: 1,
                cached_type: c,
                cdn_ip: l,
                has_timing_allow: u
            }, t && t[Ue] || {})
        })[xe$1] = t ? t[xe$1] : void 0,
        p))
    }
    ,
    t.prototype.destroy = function() {
        this.isHit && ($e$1(window, "error", this.onResError, !0),
        this.observer && this.observer.disconnect())
    }
    ,
    t
}(Te), Xn = function(e, t) {
    return (Xn = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, $n = function() {
    return "".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12)
}, Zn = function(e) {
    return {
        name: e,
        value: 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : -1,
        delta: 0,
        entries: [],
        id: $n(),
        isFinal: !1
    }
}, tr = function(e, t) {
    try {
        var n;
        if (PerformanceObserver.supportedEntryTypes.includes(e))
            return (n = new PerformanceObserver((function(e) {
                return e.getEntries().map(t)
            }
            ))).observe({
                type: e,
                buffered: !0
            }),
            n
    } catch (r) {}
}, er = !1, nr = !1, rr = function(e) {
    er = !e.persisted
}, or = function() {
    addEventListener("pagehide", rr),
    addEventListener("beforeunload", (function() {}
    ))
}, ir = function(e) {
    var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
    nr || (or(),
    nr = !0),
    addEventListener("visibilitychange", (function(t) {
        t = t.timeStamp,
        "hidden" === document.visibilityState && e({
            timeStamp: t,
            isUnloading: er
        })
    }
    ), {
        capture: !0,
        once: t
    })
}, ar = function(e, t, n, r) {
    var o;
    return function() {
        n && t.isFinal && n.disconnect(),
        0 <= t.value && (r || t.isFinal || "hidden" === document.visibilityState) && (t.delta = t.value - (o || 0),
        (t.delta || t.isFinal || void 0 === o) && (e(t),
        o = t.value))
    }
}, sr = function() {
    return void 0 === Kn && (Kn = "hidden" === document.visibilityState ? 0 : 1 / 0,
    ir((function(e) {
        return e = e.timeStamp,
        Kn = e
    }
    ), !0)),
    {
        get timeStamp() {
            return Kn
        }
    }
}, cr = function() {
    return qn = qn || new Promise((function(e) {
        return ["scroll", "keydown", "pointerdown"].map((function(t) {
            addEventListener(t, e, {
                once: !0,
                passive: !0,
                capture: !0
            })
        }
        ))
    }
    ))
}, ur = [{
    name: "fid",
    collectFn: function(e) {
        function t(e) {
            e.startTime < r.timeStamp && (n.value = e.processingStart - e.startTime,
            n.entries.push(e),
            n.isFinal = !0,
            i())
        }
        var n = Zn("FID")
          , r = sr()
          , o = tr("first-input", t)
          , i = ar(e, n, o);
        o ? ir((function() {
            o.takeRecords().map(t),
            o.disconnect()
        }
        ), !0) : window.perfMetrics && window.perfMetrics.onFirstInputDelay && window.perfMetrics.onFirstInputDelay((function(e, t) {
            t.timeStamp < r.timeStamp && (n.value = e,
            n.isFinal = !0,
            n.entries = [{
                entryType: "first-input",
                name: t.type,
                target: t.target,
                cancelable: t.cancelable,
                startTime: t.timeStamp,
                processingStart: t.timeStamp + e
            }],
            i())
        }
        ))
    }
}, {
    name: "lcp",
    collectFn: function(e) {
        function t(e) {
            var t = e.startTime;
            t < i.timeStamp ? (o.value = t,
            o.entries.push(e)) : o.isFinal = !0,
            n()
        }
        var n, r = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = Zn("LCP"), i = sr(), a = tr("largest-contentful-paint", t);
        a && (n = ar(e, o, a, r),
        r = function() {
            o.isFinal || (a.takeRecords().map(t),
            o.isFinal = !0,
            n())
        }
        ,
        cr().then(r),
        ir(r, !0))
    }
}, {
    name: "cls",
    collectFn: function(e) {
        function t(e) {
            e.hadRecentInput || (o.value += e.value,
            o.entries.push(e),
            n())
        }
        var n, r = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = Zn("CLS", 0), i = tr("layout-shift", t);
        i && (n = ar(e, o, i, r),
        ir((function(e) {
            e = e.isUnloading,
            i.takeRecords().map(t),
            e && (o.isFinal = !0),
            n()
        }
        )))
    }
}, {
    name: "fcp",
    collectFn: function(e) {
        var t, n = Zn("FCP"), r = sr(), o = tr("paint", (function(e) {
            "first-contentful-paint" === e.name && e.startTime < r.timeStamp && (n.value = e.startTime,
            n.isFinal = !0,
            n.entries.push(e),
            t())
        }
        ));
        o && (t = ar(e, n, o))
    }
}], lr = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            version: "1.2.8",
            key: _e.EVENT,
            name: "RadarChromeMetricsCollect"
        }) || this;
        return n.options = {
            lcp: !1,
            cls: !1,
            fid: !1,
            fcp: !1
        },
        n.init = function() {
            var e = n.options;
            ur.forEach((function(t) {
                var r = t.name;
                e && !e[r] || t.collectFn((function(e) {
                    var t = e.name;
                    e = e.value,
                    pn(t.toLocaleLowerCase(), Number(e)),
                    n.baseCollect({
                        dimension: {
                            name: t.toLocaleLowerCase(),
                            is_official: 1
                        },
                        value: {
                            duration: Number(e)
                        }
                    })
                }
                ))
            }
            ))
        }
        ,
        Object.assign(n.options, t.options),
        ur.forEach((function(e) {
            var t = an("radar_" + e.name);
            t && (n.options[e.name] = "1" === t)
        }
        )),
        n.init(),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return Xn(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t
}(Te), pr = function(e, t) {
    return (pr = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, dr = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            key: _e.EVENT,
            version: "1.2.8",
            name: "RadarEventCollect"
        }) || this;
        return n.action = {
            start: function(e) {
                n._checkActionDimension(e),
                n.event({
                    name: e.name,
                    extra_info: e.extra_info,
                    event_type: "radar_action_start"
                })
            },
            end: function(e) {
                n._checkActionDimension(e),
                n.event({
                    name: e.name,
                    extra_info: e.extra_info,
                    result_type: e.result_type,
                    event_type: "radar_action_end"
                })
            }
        },
        t.seedLogs && n.parseSeedLog(t.seedLogs),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return pr(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        e.map((function(e) {
            var n = e.dimension
              , r = e.value;
            t.event(n, r, e[xe$1])
        }
        ))
    }
    ,
    t.prototype.event = function(e, t, n) {
        this.isHit ? (e || vn("402"),
        void 0 !== e.name && "string" == typeof e.name || vn("402"),
        127 < e.name.length && (Oe$1("403"),
        e.name = e.name.slice(0, 127)),
        e.is_official = 1,
        t && void 0 !== t.duration && ("number" != typeof t.duration || t.duration < 0) && vn("404"),
        t && void 0 !== t.event_count && ("number" != typeof t.event_count || t.event_count < 0) && vn("405，".concat(t.event_count)),
        (t = {
            dimension: e,
            value: t
        })[xe$1] = n,
        n = t,
        e && e.extra_info && "object" == t$1(e.extra_info) && (n.dimension.extra_info = JSON.stringify(e.extra_info)),
        this.baseCollect(n)) : ke$1("401")
    }
    ,
    t.prototype.destroy = function() {
        this.event = function() {
            ke$1("407")
        }
        ,
        this.action = {
            start: function() {
                ke$1("407")
            },
            end: function() {
                ke$1("407")
            }
        }
    }
    ,
    t.prototype._checkActionDimension = function(e) {
        if (!e)
            throw Error("408");
        void 0 === e.extra_info || e.extra_info instanceof Object || vn("406")
    }
    ,
    t
}(Te), fr = function(e, t) {
    return (fr = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, hr = function() {
    return (hr = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function gr(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
(Qn = zn = zn || {}).SCRIPT = "script",
Qn.RES = "res",
Qn.API = "api",
Qn.VIDEO = "video";
var mr = [];
function vr(e, t, n) {
    var r, o;
    if (t && (t instanceof Error || "object" == t$1(t) && "string" == typeof t.message))
        if ("BridgeError" === (r = t.name || "ErrorLikeObject") && "function" == typeof t.toJSON)
            try {
                var i = t.toJSON();
                delete i.name,
                delete i.message,
                o = "".concat(t.message, " (").concat(JSON.stringify(i), ")")
            } catch (a) {
                o = t.message || ""
            }
        else
            o = t.message || "";
    else
        o = null == t && "Script error." === (null == n ? void 0 : n.message) ? (r = "CrossOriginError",
        "".concat(e, " - message: ").concat((null == n ? void 0 : n.message) || "<UNKNOWN>")) : null === t && null != n && n.message && "Uncaught null" !== n.message ? (r = "Error",
        "".concat(e, " - message: ").concat(n.message)) : (r = null == t ? "".concat(t) : t$1(t),
        i = function(e) {
            var t;
            try {
                t = e.toString(),
                e && "object" == t$1(e) && (t = JSON.stringify(e))
            } catch (n) {}
            return "string" != typeof t || "" === t ? t = null === e ? "<NULL>" : void 0 === e ? "<UNDEFINED>" : "" === t ? "<EMPTY>" : "<UNKNOWN>" : 2e3 < t.length && (t = t.substring(0, 2e3) + "<<< ……"),
            t
        }(t),
        "".concat(e, " - value: ").concat(i));
    return {
        error_type: zn.SCRIPT,
        error_cons_type: r,
        msg: o,
        stack: t && t.stack || n && n.stack || void 0
    }
}
function yr(e) {
    for (var t = 0; t < mr.length; t++)
        if (_r(mr[t], e))
            return t;
    return -1
}
function _r(e, t) {
    return e.msg === t.msg && e.stack === t.stack && e.file === t.file && e.line === t.line && e.col === t.col
}
var Sr = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            key: _e.ERROR,
            version: "1.2.8",
            name: "RadarErrorCollect"
        }) || this;
        return n.onError = function(e, t) {
            var r;
            !(r = e).message && null == r.lineno || (e = hr(hr({}, vr("Global Uncaught Exception", e.error, e)), {
                file: e.filename,
                line: e.lineno,
                col: e.colno
            }),
            n.isSameErrorAndReport(e, t))
        }
        ,
        n.onPromiseError = function(e, t) {
            e = vr("Unhandled Promise Rejection", e.reason),
            n.isSameErrorAndReport(e, t)
        }
        ,
        n.core = t.core,
        n.init(),
        t.seedLogs && n.parseSeedLog(t.seedLogs),
        n
    }
    var n = t
      , r = e;
    if ("function" != typeof r && null !== r)
        throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    function o() {
        this.constructor = n
    }
    return fr(n, r),
    n.prototype = null === r ? Object.create(r) : (o.prototype = r.prototype,
    new o),
    t.prototype.init = function() {
        mr.splice(0),
        Xe(window, "error", this.onError, !0),
        Xe(window, "unhandledrejection", this.onPromiseError)
    }
    ,
    t.prototype.destroy = function() {
        $e$1(window, "error", this.onError, !0),
        $e$1(window, "unhandledrejection", this.onPromiseError),
        this.captureException = function() {
            ke$1("600")
        }
    }
    ,
    t.prototype.parseSeedLog = function(e) {
        var t = this;
        (e || []).map((function(e) {
            var n, r = e.data;
            (n = {})[Ue] = e[Ue],
            n[xe$1] = e[xe$1],
            e = n,
            r && r.type ? "unhandledrejection" === r.type ? t.onPromiseError(r, e) : t.onError(r, e) : t.captureException(r)
        }
        ))
    }
    ,
    t.prototype.isSameErrorAndReport = function(e, t) {
        0 <= yr(e) || (mr.push(e),
        setTimeout((function() {
            mr.splice(yr(e), 1)
        }
        ), 2e3),
        this.collect(e, t))
    }
    ,
    t.prototype.collect = function(e, t) {
        n = (l = e).error_cons_type,
        r = l.file,
        o = l.error_type,
        i = l.msg,
        a = l.col,
        s = l.line,
        c = l.stack;
        var n, r, o, i, a, s, c, l = ze$1((e = {
            key: "error",
            value: gr(l, ["error_cons_type", "file", "error_type", "msg", "col", "line", "stack"]),
            dimension: {
                error_cons_type: n,
                file: r,
                error_type: o,
                msg: i,
                col: a,
                line: s,
                stack: c
            }
        })[Ue], t && t[Ue] || {});
        this.baseCollect(((l = {
            dimension: l,
            value: e.value
        })[xe$1] = t ? t[xe$1] : void 0,
        l))
    }
    ,
    t.prototype.captureException = function(e) {
        this.isSameErrorAndReport(vr("Captured Exception", e))
    }
    ,
    t
}(Te)
  , br = function() {
    function e(e) {
        var t = this
          , n = (this.core = new wn({
            weblogger: e.weblog,
            projectId: e.projectId,
            sampling: null != (o = e.sampling) ? o : 1,
            httpReportFirst: e.httpReportFirst,
            customDimensions: e.customDimensions
        }),
        this.navigationCollect = new An({
            core: this.core,
            mainApi: e.mainApi,
            mainJs: e.mainJs
        }),
        e.unuseAPIPlugin || (this.apiCollect = new Gn({
            core: this.core,
            sampling: e.apiSampling,
            APIHook: e.APIHook,
            customizeRadarStatus: e.customizeRadarStatus,
            ignoreList: e.ignoreList,
            ignoreXHR: e.ignoreXHR,
            ignoreFetch: e.ignoreFetch,
            ignoreAborted: e.ignoreAborted,
            isIgnoreInvalidStatusCode: e.isIgnoreInvalidStatusCode
        }),
        this.apiCollect.broadcastApi.on((function(e) {
            return t.navigationCollect.dealAPI(e)
        }
        ))),
        o = function(e) {
            var t = dn(Re$1);
            if (!t || e !== t)
                return {};
            if (!(e = dn(De$1, [])).length)
                return {};
            var n = []
              , r = []
              , o = [];
            return e.map((function(e) {
                "error" === e.key ? n.push(e) : "resource" === e.key ? r.push(e) : "event" === e.key && o.push(e)
            }
            )),
            fn(),
            {
                errorQueue: n,
                resourceQueue: r,
                eventQueue: o
            }
        }(this.core.config.projectId)).errorQueue
          , r = o.resourceQueue
          , o = o.eventQueue;
        e.unuseResourcePlugin || (this.resourceCollect = new Yn({
            sampling: e.resourceSampling,
            core: this.core,
            ignoreList: e.ignoreList,
            resourceHook: e.resourceHook,
            seedLogs: r
        }),
        this.resourceCollect.broadcastJs.on((function(e) {
            return t.navigationCollect.addMainJSResult(e)
        }
        ))),
        this.chromeMetricsCollect = new lr({
            core: this.core,
            options: {
                lcp: e.lcp,
                cls: e.cls,
                fid: e.fid,
                fcp: e.fcp
            }
        }),
        this.eventCollect = new dr({
            core: this.core,
            seedLogs: o
        }),
        this.action = this.eventCollect.action,
        e.unuseErrorPlugin || (this.errorCollect = new Sr({
            core: this.core,
            seedLogs: n
        })),
        Ce$1[Ie] && (Ce$1[Ie].isCoreReady = !0)
    }
    return e.prototype.apply = function(e) {
        this.bindWeblogger(e)
    }
    ,
    e.prototype.bindWeblogger = function(e) {
        this.weblogger = e,
        this.core.bindWeblogger(this.weblogger)
    }
    ,
    e.prototype.event = function(e, t) {
        this.eventCollect.event(e, t)
    }
    ,
    e.prototype.customStage = function(e, t) {
        this.navigationCollect.customStage(e, t)
    }
    ,
    e.prototype.setDimensions = function(e) {
        this.core.setDimensions(e)
    }
    ,
    e.prototype.fmp = function(e) {
        "number" == typeof e ? this.navigationCollect.fmp(e) : "object" == t$1(e) && e.timestamp ? this.navigationCollect.fmp(e.timestamp) : this.navigationCollect.fmp()
    }
    ,
    e.prototype.captureException = function(e) {
        var t;
        this.errorCollect && null != (t = this.errorCollect) && t.captureException(e)
    }
    ,
    e.prototype.destroy = function() {
        var e;
        null != (e = this.navigationCollect) && e.destroy(),
        null != (e = this.apiCollect) && e.destroy(),
        null != (e = this.resourceCollect) && e.destroy(),
        null != (e = this.eventCollect) && e.destroy(),
        null != (e = this.errorCollect) && e.destroy()
    }
    ,
    e.key = "radar",
    e.version = "1.2.8",
    e
}();
"undefined" != typeof window && "function" != typeof window.Radar && (window.Radar = br);
var wr, Er = [], kr = function(e) {
    function t(t, n) {
        var r = e.call(this) || this;
        return r.options = n || t,
        r.validOption() ? ((null == t ? void 0 : t.collect) && r.apply(t),
        r) : r
    }
    return n$2(t, e),
    t.prototype.apply = function(e) {
        var t;
        this.weblog = e,
        this.radarInstance = new br(a$2(a$2({}, this.options), {
            weblog: e
        })),
        this.action = null === (t = this.radarInstance) || void 0 === t ? void 0 : t.action
    }
    ,
    t.prototype.destroy = function() {
        var e;
        null === (e = this.radarInstance) || void 0 === e || e.destroy()
    }
    ,
    t.prototype.collect = function(e, t) {
        var n;
        0 !== e.indexOf("c_") && Er.indexOf(e) < 0 ? w$3("[error 305]", "[Radar] 传入的自定义指标 ".concat(e, " 必须为 c_ 开头")) : (b$3("[radar]:Radar+之后将不再支持collect方法，请用event方法替代。"),
        null === (n = this.radarInstance) || void 0 === n || n.event({
            name: e
        }, {
            duration: t
        }))
    }
    ,
    t.prototype.fmp = function(e) {
        var t;
        null === (t = this.radarInstance) || void 0 === t || t.fmp(e)
    }
    ,
    t.prototype.event = function(e, t) {
        var n;
        null === (n = this.radarInstance) || void 0 === n || n.event(e, t)
    }
    ,
    t.prototype.customStage = function(e, t) {
        var n;
        null === (n = this.radarInstance) || void 0 === n || n.customStage(e, t)
    }
    ,
    t.prototype.headlessTestReport = function() {
        b$3("[radar]:Radar+已不支持不再支持headlessTestReport方法")
    }
    ,
    t.prototype.playClicked = function(e) {
        b$3("[radar]:Radar+已不支持不再支持playClicked方法")
    }
    ,
    t.prototype.playIDR = function(e) {
        b$3("[radar]:Radar+已不支持不再支持playIDR方法")
    }
    ,
    t.prototype.playBlock = function(e) {
        b$3("[radar]:Radar+已不支持不再支持playBlock方法")
    }
    ,
    t.prototype.playError = function(e) {
        b$3("[radar]:Radar+已不支持不再支持playError方法")
    }
    ,
    t.prototype.setDimensions = function(e) {
        var t;
        null === (t = this.radarInstance) || void 0 === t || t.setDimensions(e)
    }
    ,
    t.prototype.validOption = function() {
        var e = this;
        if (!this.options)
            return !1;
        var t = this.options
          , n = t.sampling
          , r = void 0 === n ? 1 : n;
        return !("string" != typeof t.projectId || r > 1 || r < 0 || (["apiSampling", "errorSampling", "resourceSampling", "eventSampling"].forEach((function(t) {
            var n = e.options[t];
            void 0 !== n && "number" == typeof n && 0 === n && w$3("[error 304]", "[Radar] 采样率 ".concat(t, " 不能被设置为 0，将改用默认值"))
        }
        )),
        0))
    }
    ,
    t.prototype.captureException = function(e) {
        var t;
        null === (t = this.radarInstance) || void 0 === t || t.captureException(e)
    }
    ,
    t.key = "radar",
    t
}(ne$1), Or = !1, Pr = "hashchange", Tr = function(e) {
    function t(t, n) {
        var r = e.call(this) || this;
        return r.beginTime = (new Date).valueOf(),
        r.visibilityChange = function() {
            var e = document.visibilityState;
            "visible" === e && (Or = !1),
            r.weblog && !Or && r.autoPVFilter(location.href, null, e) && ("hidden" !== e && "visible" !== e || ("visible" === e && (r.beginTime = (new Date).valueOf()),
            r.weblog.sendImmediately("PV", {
                type: e,
                auto: !0,
                beginTime: r.beginTime
            })))
        }
        ,
        r.proxyPushState = function(e, t, n) {
            var o;
            return r.urlChange(),
            null === (o = r.oldPushState) || void 0 === o ? void 0 : o.call(history, e, t, n)
        }
        ,
        r.proxyReplaceState = function(e, t, n) {
            var o;
            return r.urlChange(),
            null === (o = r.oldReplaceState) || void 0 === o ? void 0 : o.call(history, e, t, n)
        }
        ,
        r.urlChange = function() {
            r.weblog && setTimeout((function() {
                var e = C$2({
                    url: location.href
                }, r.weblog.logConfig.urlMap)
                  , t = e.page
                  , n = e.params
                  , o = e.coPage;
                t && t === r.weblog.currentUrlPackage.page ? r.weblog.currentUrlPackage.update(t, n) : (r.autoPVFilter(location.href, r.weblog.currentUrlPackage.page, "leave") && r.weblog.sendImmediately("PV", {
                    type: "leave",
                    auto: !0,
                    beginTime: r.beginTime,
                    urlPage: r.weblog.currentUrlPackage.toJSON(),
                    coPage: o
                }),
                r.autoPVFilter(location.href, r.weblog.currentUrlPackage.page, "enter") && (r.weblog.updateReferUrlPackage(r.weblog.currentUrlPackage),
                r.weblog.updateCurrentUrlPackage(location.href),
                r.weblog.currentUrlPackage.page.indexOf("http"),
                r.beginTime = (new Date).valueOf(),
                r.weblog.sendImmediately("PV", {
                    type: "enter",
                    auto: !0,
                    coPage: o
                })))
            }
            ), 0)
        }
        ,
        r.beforeUnload = function() {
            Or = !0,
            r.weblog && r.autoPVFilter(location.href, null, "leave") && r.weblog.sendImmediately("PV", {
                type: "leave",
                auto: !0,
                beginTime: r.beginTime
            })
        }
        ,
        r.autoPVFilter = function() {
            return !0
        }
        ,
        "undefined" == typeof window || (r.oldPushState = history.pushState,
        r.oldReplaceState = history.replaceState,
        t && ("function" == typeof t ? r.autoPVFilter = t : "function" == typeof (null == t ? void 0 : t.collect) ? ((null == n ? void 0 : n.autoPVFilter) && (r.autoPVFilter = n.autoPVFilter),
        r.apply(t)) : "autoPVFilter"in t && "function" == typeof t.autoPVFilter && (r.autoPVFilter = t.autoPVFilter)),
        n && "function" == typeof n.autoPVFilter && (r.autoPVFilter = n.autoPVFilter),
        history.pushState = r.proxyPushState,
        history.replaceState = r.proxyReplaceState),
        r
    }
    return n$2(t, e),
    t.prototype.apply = function(e) {
        var t, n;
        if ("undefined" != typeof window && e && e.sendImmediately) {
            if (this.weblog = e,
            this.autoPVFilter(location.href, null, "enter")) {
                var r = C$2({
                    url: location.href
                }, null === (n = null === (t = this.weblog) || void 0 === t ? void 0 : t.logConfig) || void 0 === n ? void 0 : n.urlMap).coPage;
                this.weblog.sendImmediately("PV", {
                    type: "enter",
                    coPage: r,
                    auto: !0
                })
            }
            var o = e.Utils.ua.supportsPushState;
            Pr = o() ? "popstate" : "hashchange",
            E$3(window, Pr, this.urlChange),
            E$3(document, "visibilitychange", this.visibilityChange)
        }
    }
    ,
    t.prototype.destroy = function() {
        k$2(window, Pr, this.urlChange),
        k$2(document, "visibilitychange", this.visibilityChange),
        this.oldReplaceState && this.oldPushState && (history.pushState = this.oldPushState,
        history.replaceState = this.oldReplaceState)
    }
    ,
    t.key = "autoPV",
    t
}(ne$1), Lr = function(e) {
    function t(t, n) {
        var r = e.call(this, t, n) || this;
        return r.initBuildInPlugins(),
        r
    }
    return n$2(t, e),
    t.prototype.initBuildInPlugins = function() {
        var e = this.logConfig
          , t = e.autoPV
          , n = e.radar
          , r = e.fps
          , o = e.timing
          , i = e.crash
          , a = e.autoPVFilter;
        r && this.plug(ce$1),
        o && this.plug(de),
        i && this.plug(oe$1),
        n && this.plug(kr, n),
        (t || void 0 === t) && this.plug(Tr, {
            autoPVFilter: a
        })
    }
    ,
    t
}(ee);
wr = Lr,
void 0 !== h$2._GLOBAL_KS_WEBLOGGER_ ? h$2._GLOBAL_KS_WEBLOGGER_.Factory = wr : h$2.Weblog = wr,
(null == Yt ? void 0 : Yt.constructors) && wr && -1 === Yt.constructors.indexOf(wr) && (wr._classId = Yt.constructors.length,
Yt.constructors.push(wr)),
function() {
    if (null == Yt ? void 0 : Yt.silence)
        try {
            Yt._silenced = !!sessionStorage.getItem("WEBLOGGER_SILENCED")
        } catch (t2) {}
}(),
log_common.BasePlugin = ne$1,
Weblog = log_common.Weblog = Lr,
log_common.default = Lr;
var e$1 = function() {
    return (e$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function t(e, t, n, r) {
    return new (n = n || Promise)((function(t, o) {
        function i(e) {
            try {
                s(r.next(e))
            } catch (t) {
                o(t)
            }
        }
        function a(e) {
            try {
                s(r.throw(e))
            } catch (t) {
                o(t)
            }
        }
        function s(e) {
            var r;
            e.done ? t(e.value) : ((r = e.value)instanceof n ? r : new n((function(e) {
                e(r)
            }
            ))).then(i, a)
        }
        // s((r = r.apply(e, [])).next())
    }
    ))
}
function n$1(e, t) {
    var n, r, o, i = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    }, a = {
        next: s(0),
        throw: s(1),
        return: s(2)
    };
    return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
        return this
    }
    ),
    a;
    function s(a) {
        return function(s) {
            var c = [a, s];
            if (n)
                throw new TypeError("Generator is already executing.");
            for (; i; )
                try {
                    if (n = 1,
                    r && (o = 2 & c[0] ? r.return : c[0] ? r.throw || ((o = r.return) && o.call(r),
                    0) : r.next) && !(o = o.call(r, c[1])).done)
                        return o;
                    switch (r = 0,
                    (c = o ? [2 & c[0], o.value] : c)[0]) {
                    case 0:
                    case 1:
                        o = c;
                        break;
                    case 4:
                        return i.label++,
                        {
                            value: c[1],
                            done: !1
                        };
                    case 5:
                        i.label++,
                        r = c[1],
                        c = [0];
                        continue;
                    case 7:
                        c = i.ops.pop(),
                        i.trys.pop();
                        continue;
                    default:
                        if (!(o = 0 < (o = i.trys).length && o[o.length - 1]) && (6 === c[0] || 2 === c[0])) {
                            i = 0;
                            continue
                        }
                        if (3 === c[0] && (!o || c[1] > o[0] && c[1] < o[3])) {
                            i.label = c[1];
                            break
                        }
                        if (6 === c[0] && i.label < o[1]) {
                            i.label = o[1],
                            o = c;
                            break
                        }
                        if (o && i.label < o[2]) {
                            i.label = o[2],
                            i.ops.push(c);
                            break
                        }
                        o[2] && i.ops.pop(),
                        i.trys.pop();
                        continue
                    }
                    c = t.call(e, i)
                } catch (l) {
                    c = [6, l],
                    r = 0
                } finally {
                    n = o = 0
                }
            if (5 & c[0])
                throw c[1];
            return {
                value: c[0] ? c[1] : void 0,
                done: !0
            }
        }
    }
}
function r$1(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function o$1(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var i$1 = console, a$1 = "ksurl.cn/csHfgepO, radar:", c$1 = i$1.log.bind(i$1, a$1), s$1 = i$1.warn.bind(i$1, a$1), u$2 = i$1.error.bind(i$1, a$1), f$3, l$2, p$2 = function() {
    function e() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        this.middlewares = [],
        (e = this.middlewares).push.apply(e, o$1([], r$1(t), !1))
    }
    return e.prototype.use = function() {
        for (var e, t = [], n = 0; n < arguments.length; n++)
            t[n] = arguments[n];
        var r = this.middlewares.pop();
        (e = this.middlewares).push.apply(e, o$1([], r$1(t), !1)),
        this.middlewares.push(r)
    }
    ,
    e.prototype.invoke = function(e) {
        return (t = this.middlewares,
        function(e, n) {
            var r = -1;
            return function o(i) {
                if (i <= r)
                    return new Error("`next` 被重复调用");
                var a = t[r = i];
                if (a = i === t.length ? n : a)
                    try {
                        return a(e, o.bind(null, i + 1))
                    } catch (s) {
                        return s
                    }
            }(0)
        }
        )(e);
        var t
    }
    ,
    e
}(), d$2 = ((l$2 = f$3 = f$3 || {}).LOAD = "load",
l$2.RES = "resource",
l$2.API = "api",
l$2.ERROR = "error",
l$2.SDK_ERROR = "sdk_error",
l$2.CUSTOM = "custom",
l$2.BATCH = "batch",
l$2.EVENT = "event",
l$2.BLOOD = "blood",
l$2.RUNTIME = "runtime",
function() {
    function e(e) {
        void 0 === e && (e = {});
        var t = this;
        this.broadcastSampleFb = function() {
            var e = t.getSample(t.baseOptions.sampling);
            e !== t.sampling && (t.sampling = e,
            t.sampling && (t.isHit = t.samplingControl(t.sampling)))
        }
        ,
        void 0 === e && et$1("100"),
        e.key || et$1("101"),
        !e.core || "object" == typeof e.core.sampleData && "function" == typeof e.core.collect || et$1("121"),
        this.baseOptions = e,
        this.key = e.key,
        this.version = e.version,
        this.name = e.name,
        this.isHit = !1,
        e.core && this.updateCore(e.core)
    }
    return e.prototype.updateCore = function(e) {
        var t;
        "object" == typeof e.sampleData && "function" == typeof e.collect || et$1("121"),
        null != (t = this.core) && t.broadcastSample.off(this.broadcastSampleFb),
        this.core = e,
        this.sampling = this.getSample(this.baseOptions.sampling),
        this.sampling && (this.isHit = this.samplingControl(this.sampling)),
        null != (e = null == (t = this.core) ? void 0 : t.broadcastSample) && e.on(this.broadcastSampleFb)
    }
    ,
    e.prototype.getSample = function(e) {
        var t = null != (t = null == (t = this.core) ? void 0 : t.sampleData.core) ? t : 1;
        if (this.key === f$3.LOAD)
            return t;
        if ("number" != typeof (e = void 0 === e ? 1 : e) || e < 0 || 1 < e)
            return s$1("102", "".concat(this.key, "，采用Core的采样率").concat(null == (n = this.core) ? void 0 : n.sampleData.core)),
            t;
        var n = null != (n = this.core) && n.isInYoda ? void 0 === (null == (n = this.core) ? void 0 : n.sampleData[this.key]) ? 1 : this.core.sampleData[this.key] : e;
        return t && t < n ? (s$1("115", "".concat(this.key)),
        t) : n
    }
    ,
    e.prototype.samplingControl = function(e) {
        var t;
        return !(null == (t = this.core) || !t.sampleData.isHit) && (null == (t = this.core) ? void 0 : t.samplingControl(e / this.core.sampleData.core))
    }
    ,
    e.prototype.baseCollect = function(e) {
        if (this.core) {
            if (this.isHit) {
                var t = e.value || {};
                t = Object.keys(t).filter((function(e) {
                    return null !== t[e] && void 0 !== t[e]
                }
                )).reduce((function(e, n) {
                    return e$1(e$1({}, e), ((e = {})[n] = t[n],
                    e))
                }
                ), {});
                try {
                    this.core.collect(e.key || this.key, e$1(e$1({
                        collect_version: this.version,
                        collect_name: this.name
                    }, e.dimension), {
                        sample_rate: this.sampling
                    }), t, e[V$1])
                } catch (n) {
                    s$1("126")
                }
            }
        } else
            s$1("110", "".concat(this.key))
    }
    ,
    e
}()), y$3 = window, w$2 = "__RADAR_PERFORMANCE_TIMING_", R$1 = "radarSessionId", V$1 = "commonData", F$1 = {
    start_time: {
        custom: function(e, t) {
            return Math.round(t.startTime)
        }
    },
    fetch_start: {
        custom: function(e, t) {
            return Math.round(t.fetchStart)
        }
    },
    dns: {
        end: "domainLookupEnd",
        start: "domainLookupStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    tcp: {
        end: "connectEnd",
        start: "connectStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    ssl: {
        custom: function(e, t) {
            return t.connectEnd && t.secureConnectionStart ? t.connectEnd - t.secureConnectionStart : null
        }
    },
    ttfb: {
        end: "responseStart",
        start: "requestStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    trans: {
        end: "responseEnd",
        start: "responseStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    fb: {
        end: "responseStart",
        start: "fetchStart",
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    total: {
        end: "responseEnd",
        start: "fetchStart"
    },
    size: {
        custom: function(e, t) {
            return t.encodedBodySize
        },
        cachedSkip: !0,
        crossOriginSkip: !0
    },
    protocol: {
        custom: function(e, t) {
            return t.nextHopProtocol
        }
    },
    file: {
        custom: function(e, t) {
            return t.name
        }
    },
    res_type: {
        custom: function(e, t) {
            return t.initiatorType
        }
    },
    cached: {
        custom: function(e, t) {
            return 0 === t.transferSize || 0 === t.duration || null == t.transferSize && (0 === t.domainLookupStart || t.responseStart === t.fetchStart)
        },
        crossOriginSkip: !0
    },
    has_timing_allow: {
        custom: function(e, t) {
            return re(t)
        }
    }
}, z$1 = /^(https?:)?\/\//;
function K$1(e, t) {
    if (!e)
        return !1;
    var n = e.replace(z$1, "");
    return t.some((function(e) {
        return 0 <= n.indexOf(e.replace(z$1, ""))
    }
    ))
}
function Y$1(e) {
    if ("string" != typeof e)
        return "";
    try {
        var t = e.lastIndexOf(".");
        return e.substr(t + 1)
    } catch (n) {
        return ""
    }
}
function G$1(e) {
    return "object" == typeof e && Object.keys(e).every((function(t) {
        return "number" == typeof e[t]
    }
    ))
}
var te = Array.prototype.slice;
function ne(e) {
    return te.call(e)
}
function re(e) {
    return void 0 === e.nextHopProtocol ? null : "" !== e.nextHopProtocol
}
function oe(e) {
    return "resource" === e.entryType ? "fetch" !== (null == e ? void 0 : e.initiatorType) && "xmlhttprequest" !== (null == e ? void 0 : e.initiatorType) || "js" === Y$1(e.name) || "css" === Y$1(e.name) ? "resource" : "api" : "other"
}
function ae() {
    for (var e = arguments, t = e[0], n = 1; n < e.length; n++) {
        var r = e[n];
        if (r)
            for (var o in r)
                t[o] = r[o]
    }
    return t
}
function ce(e, t, n) {
    return void 0 === n && (n = {}),
    (Object.assign || ae)({}, e, t, n)
}
function ue(e, t) {
    var n = {};
    return Object.keys(e).forEach((function(r) {
        var o = fe(r, e, t);
        null != o && (n[r] = o)
    }
    )),
    n
}
function fe(e, t, n) {
    var r = t[e];
    if (r || et$1("129，".concat(e)),
    !r.crossOriginSkip || re(n)) {
        if (r.cachedSkip && fe("cached", t, n))
            return;
        return "function" == typeof r.custom ? r.custom(e, n) : (t = r.end,
        e = r.start,
        !r.notCatchIfUndefined || void 0 !== n[t] && void 0 !== n[e] ? (+n[t] || 0) - (+n[e] || 0) : void 0)
    }
}
function le(e, t, n, r) {
    return e.addEventListener(t, n, r)
}
function he(e) {
    return "__radar_".concat(e = void 0 === e ? "" : e).concat(Math.random().toString(36).substring(2, 8))
}
function ve(e, t) {
    var n = window.XMLHttpRequest;
    return n ? (window.XMLHttpRequest = function() {
        var r, o, i, a, s = new n, c = (s._radarRequest = {},
        s._radarResponse = {},
        he());
        return s._radarRequest.id = c,
        s.addEventListener("readystatechange", (function() {
            if (4 === s.readyState && "function" == typeof t) {
                s._radarResponse.status = s.status,
                s._radarResponse.statusText = s.statusText;
                var e, n, r, o, i = function(e, t) {
                    switch (null == t && (t = {}),
                    typeof e) {
                    case "object":
                        var n, r = [];
                        for (n in e) {
                            var o = e[n]
                              , i = n.toLowerCase();
                            r.push("".concat(i, ":\t").concat(o))
                        }
                        return r.join("\n") + "\n";
                    case "string":
                        for (var a = 0, s = (r = e.split("\n")).length; a < s; a++) {
                            var c = r[a];
                            /([^:]+):\s*(.+)/.test(c) && (c = null != (c = RegExp.$1) ? c.toLowerCase() : void 0,
                            o = RegExp.$2,
                            c && null == t[c] && (t[c] = o))
                        }
                        return t
                    }
                }(s.getAllResponseHeaders());
                for (e in i)
                    r = i[e],
                    s._radarResponse && s._radarResponse.headers && !s._radarResponse.headers[e] && (n = e.toLowerCase(),
                    s._radarResponse.headers[n] = r);
                if (s.responseType && "text" !== s.responseType)
                    "document" === s.responseType ? (s._radarResponse.xml = s.responseXML,
                    s._radarResponse.data = s.responseXML) : s._radarResponse.data = s.response;
                else {
                    s._radarResponse.text = s.responseText,
                    s._radarResponse.data = s.responseText;
                    try {
                        s._radarResponse.xml = s.responseXML
                    } catch (c) {}
                }
                "responseURL"in s && (s._radarResponse.finalUrl = s.responseURL);
                try {
                    var a = s._radarRequest.headers && s._radarRequest.headers["ktrace-str"];
                    a && window.parseWedTraceId && (s._radarRequest.trace_id = window.parseWedTraceId(null != (o = a.split("|")[1]) ? o : ""))
                } catch (c) {
                    s$1("traceId 解析异常")
                }
                t(s._radarRequest, s._radarResponse)
            }
        }
        )),
        "function" == typeof s.abort && (r = s.abort,
        s.abort = function() {
            return s._radarResponse.aborted = !0,
            r.apply(this, ne(arguments))
        }
        ),
        "function" == typeof s.setRequestHeader && (o = s.setRequestHeader,
        s.setRequestHeader = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            return s._radarRequest.headers[e[0]] = e[1],
            o.apply(this, e)
        }
        ),
        "function" == typeof s.open && (i = s.open,
        s.open = function(e, t, n, r, o) {
            var a = [].slice.call(arguments);
            return this._radarRequest = e$1({
                method: e,
                url: t,
                async: n,
                user: r,
                pass: o,
                headers: {}
            }, this._radarRequest),
            this._radarResponse.headers = {},
            i.apply(this, a)
        }
        ),
        "function" == typeof s.send && (a = s.send,
        s.send = function() {
            var t = [].slice.call(arguments);
            return "function" == typeof e && (this._radarRequest._config = t[0],
            e(this._radarRequest)),
            a.apply(this, t)
        }
        ),
        s
    }
    ,
    ["DONE", "HEADERS_RECEIVED", "LOADING", "OPENED", "UNSENT"].forEach((function(e) {
        window.XMLHttpRequest[e] = n[e]
    }
    )),
    window.XMLHttpRequest.prototype = n.prototype,
    function() {
        n && (window.XMLHttpRequest = n)
    }
    ) : (("118"),
    !1)
}
function me(e, t) {
    var n = function(e) {
        if ("function" != typeof e.fetch)
            return null;
        var t, n = e.fetch;
        return e.fetch = (t = e.fetch,
        function() {
            for (var e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            return be.apply(void 0, o$1([t], r$1(e), !1))
        }
        ),
        {
            register: function(e) {
                return ye.push(e),
                function() {
                    var t = ye.indexOf(e);
                    0 <= t && ye.splice(t, 1)
                }
            },
            clear: function() {
                ye = []
            },
            unRegister: function() {
                n && (e.fetch = n)
            }
        }
    }("function" == typeof importScripts ? self : window);
    return n && n.register({
        request: function(t, n) {
            "function" == typeof e && e(t)
        },
        response: function(e, n) {
            "function" == typeof t && t(n, e)
        },
        responseError: function(e, n) {
            "function" == typeof t && t(n, {
                status: 0,
                statusText: e
            }, e)
        }
    }),
    null == n ? void 0 : n.unRegister
}
var ye = []
  , ge = ["application/json", "text/html", "text/plain"];
function be(e) {
    for (var n = this, r = [], o = 1; o < arguments.length; o++)
        r[o - 1] = arguments[o];
    var i = ye.reduce((function(e, t) {
        return [t].concat(e)
    }
    ), [])
      , a = "string" == typeof r[0] ? new Request(r[0],r[1]) : r[0]
      , s = (a.id = he(),
    i.forEach((function(e) {
        e = e.request,
        a = e(a) || a
    }
    )),
    a.clone())
      , c = e.apply(void 0, o$1([], r$1(r), !1))
      , l = null
      , u = null
      , p = !1;
    return c.then((function(e) {
        var t, n = null == (t = e.headers) ? void 0 : t.get("content-type");
        return n && ge.some((function(e) {
            return -1 < n.indexOf(e)
        }
        )) ? (p = !0,
        t = e.clone(),
        l = t.clone(),
        t.clone().text()) : (l = e,
        "[object Object]")
    }
    )).then((function(e) {
        return t(n, void 0, void 0, (function() {
            return n$1(this, (function(t) {
                switch (t.label) {
                case 0:
                    u = e,
                    t.label = 1;
                case 1:
                    return t.trys.push([1, 3, , 4]),
                    [4, s.text()];
                case 2:
                    return [2, t.sent()];
                case 3:
                    return t.sent(),
                    [2, "Radar: Request.text()失败"];
                case 4:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    )).then((function(e) {
        a._config = e;
        var t = null;
        return p ? (t = l.clone()).data = u : t = l,
        i.forEach((function(e) {
            (e = e.response) && (t = e(t, a) || t)
        }
        )),
        l
    }
    ), (function(e) {
        throw i.forEach((function(t) {
            (t = t.responseError) && (e = t(e, a) || e)
        }
        )),
        e
    }
    ))
}
function we() {
    var e = [];
    function t(t) {
        -1 !== (t = e.indexOf(t)) && e.splice(t, 1)
    }
    function n(n) {
        return e.push(n),
        t.bind(void 0, n)
    }
    return {
        on: n,
        off: t,
        once: function(e) {
            var t = n((function(n) {
                e(n),
                t()
            }
            ));
            return t
        },
        emit: function(t) {
            e.forEach((function(e) {
                return e(t)
            }
            ))
        }
    }
}
function xe(e) {
    return (e = new RegExp("(?:^|; ?)".concat(e, "=(1|0)(;|$)")).exec(document.cookie)) && e[1]
}
var Se = ["radar_init", "h5_load", "fmp", "main_api", "h5_custom_metric"];
function Re(e) {
    var t = e.dimension
      , n = e.value;
    if (e = t.event_name,
    Se.indexOf(e) < 0)
        return !1;
    if (!G$1(n))
        return !1;
    switch (e) {
    case "fmp":
        var r = n.fmp_time;
        return !(!n.fmp || !r);
    case "h5_load":
        return r = n.total,
        !(!n.load_event_time || !r);
    case "h5_custom_metric":
        return r = n.custom_metric_timestamp,
        !(!t.custom_metric_name || !r)
    }
    return !0
}
function Oe(e) {
    var t = e.dimension
      , n = (e = e.value,
    t.custom_failed)
      , r = t.api
      , o = t.status
      , i = t.res_type
      , a = t.protocol
      , s = (t = t.cached,
    e.duration)
      , c = e.size;
    return "boolean" == typeof (void 0 !== n && n) && "string" == typeof (void 0 === r ? "" : r) && "number" == typeof (void 0 === o ? 0 : o) && "string" == typeof (void 0 === i ? "" : i) && "string" == typeof (void 0 === a ? "" : a) && "boolean" == typeof (void 0 !== t && t) && "number" == typeof (void 0 === s ? 0 : s) && "number" == typeof (void 0 === c ? 0 : c) && G$1(e)
}
function ke(e) {
    if ([(e = e.dimension).error_cons_type, e.msg].some((function(e) {
        return null == e
    }
    )))
        return !1;
    var t = e.col
      , n = e.line;
    return e.sample_rate,
    e.event_client_timestamp,
    e = function(e, t) {
        var n = {};
        for (o in e)
            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols)
            for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
                t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
        return n
    }(e, ["col", "line", "sample_rate", "event_client_timestamp"]),
    !(t && "number" != typeof t || n && "number" != typeof n) && function(e) {
        return "object" == typeof e && Object.keys(e).every((function(t) {
            return void 0 === e[t] || "string" == typeof e[t]
        }
        ))
    }(e)
}
function Ee(e) {
    var t = e.dimension
      , n = (e = e.value,
    t.failed);
    if ("boolean" != typeof n)
        return !1;
    if (n) {
        var r = t.res_path;
        if ("string" != typeof t.file || "string" != typeof r)
            return !1
    }
    return !!n || "string" == typeof t.file && G$1(e)
}
function je(e) {
    var t = e.value;
    return e = e.dimension.name,
    !(void 0 !== t && !G$1(t) || !e)
}
function qe(e) {
    var t = !0;
    if ((e = e.dimension.data)instanceof Array) {
        if (0 === e.length)
            return !1;
        e.forEach((function(e) {
            "string" != typeof e.com && (t = !1)
        }
        ))
    }
    return t
}
var Le = {
    load: Re,
    api: Oe,
    resource: Ee,
    error: ke,
    event: je,
    blood: qe
};
function He(e) {
    return e ? Object.keys(f$3).map((function(e) {
        return f$3[e]
    }
    )).indexOf(e.key) < 0 ? (u$2("117"),
    !1) : Le[e.key](e) : (u$2("116"),
    !1)
}
function Ce() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
        var t = 16 * Math.random() | 0;
        return ("x" === e ? t : 3 & t | 8).toString(16)
    }
    ))
}
function De(e, t) {
    y$3[e = void 0 === e ? w$2 : e] = ce(y$3[e] || {}, t)
}
function Ae() {
    var e = Ne(R$1, null, w$2);
    return e || (e = Ce(),
    Me(R$1, e, w$2)),
    e
}
function Ne(e, t, n) {
    return y$3[n = void 0 === n ? w$2 : n] && void 0 !== y$3[n][e] ? y$3[n][e] : void 0 === t ? null : t
}
function Me(e, t, n) {
    y$3[n = void 0 === n ? w$2 : n] || De(n, {}),
    y$3[n][e] = t
}
function ze(e) {
    return JSON.parse(JSON.stringify(e))
}
function Ke(e) {
    try {
        if (window && window.localStorage) {
            var t = window.localStorage.getItem(e);
            if (t)
                try {
                    return JSON.parse(t)
                } catch (n) {
                    return t
                }
        }
    } catch (n) {
        return null
    }
    return null
}
function Ye(e, t) {
    try {
        if (window && window.localStorage)
            return window.localStorage.setItem(e, JSON.stringify(t)),
            !0
    } catch (n) {
        return !1
    }
    return !1
}
function Be(e) {
    try {
        var t;
        if (window && window.localStorage && "undefined" != typeof Storage && window.localStorage instanceof Storage)
            return Ye(e, (t = 1e8 < (t = Number(Ke(e)) || 0) + 1 ? 0 : t) + 1),
            t
    } catch (n) {}
}
function Ge(e) {
    for (var t = [], n = 1; n < arguments.length; n++)
        t[n - 1] = arguments[n];
    1 == +$e(location.search.slice(1)).debug && s$1.apply(void 0, o$1(["[radar] ".concat(e, ": ")], r$1(t), !1))
}
function $e(e) {
    var t, n, r = {};
    e = e.split("&");
    try {
        for (var o = function(e) {
            var t = "function" == typeof Symbol && Symbol.iterator
              , n = t && e[t]
              , r = 0;
            if (n)
                return n.call(e);
            if (e && "number" == typeof e.length)
                return {
                    next: function() {
                        return {
                            value: (e = e && r >= e.length ? void 0 : e) && e[r++],
                            done: !e
                        }
                    }
                };
            throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }(e), i = o.next(); !i.done; i = o.next()) {
            var a = r$1(i.value.split("="), 2)
              , s = a[0]
              , c = a[1];
            s in r ? r[s]instanceof Array ? r[s].push(c) : r[s] = [r[s], c] : r[s] = c
        }
    } catch (l) {
        t = {
            error: l
        }
    } finally {
        try {
            i && !i.done && (n = o.return) && n.call(o)
        } finally {
            if (t)
                throw t.error
        }
    }
    return r
}
function Ze(e) {
    if (-1 === (n = (e = void 0 === e ? location.href : e).lastIndexOf("?")))
        return {
            page: e
        };
    var t = e.slice(0, n)
      , n = e.slice(n + 1);
    return {
        url: e,
        page: t,
        params: $e(n)
    }
}
function et$1(e) {
    throw new Error("radar error " + e)
}
var f$2 = function() {
    return (f$2 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function v$2(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || 0 < t--) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function _$2(e, t, n) {
    if (2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || ((r = r || Array.prototype.slice.call(t, 0, o))[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
var y$2 = ["c_dimension1", "c_dimension2", "c_dimension3", "release_tag", "product_version", "sub_app"], b$2 = function() {
    function e(e) {
        var t = this
          , n = (this.queueConfig = {
            wait: 1e3,
            maxBatchLength: 200
        },
        this.logQueue = [],
        this.preStoredLogQueue = [],
        this.batchTimer = 0,
        this.eventName = "onpagehide"in window ? "pagehide" : "beforeunload",
        this.customDimension = {},
        this.runtimeIdMap = {},
        this.randomSampling = Math.random(),
        this.commonDimension = {},
        this.isInYoda = !1,
        this.sampleData = {
            isHit: !0,
            core: 1
        },
        this.ignoreList = ["https://web-trace.ksapisrv.com/ktrace/collect"],
        this.broadcastSample = we(),
        this.didRate = void 0,
        this.collect = function(e, n, r, o) {
            var i = ze({
                key: e,
                dimension: n = void 0 === n ? {} : n,
                value: r = void 0 === r ? {} : r
            });
            if (!t.sampleData || !1 !== t.sampleData.isHit) {
                if (!He(i))
                    return u$2("107", "key: ".concat(i.key)),
                    void t.collect(f$3.EVENT, {
                        sample_rate: n.sample_rate,
                        message: "radar上报日志类型错误",
                        name: "radar_log_error",
                        extra_info: JSON.stringify(i)
                    }, {});
                Object.keys(i.value).forEach((function(e) {
                    i.value[e] = i.value[e].toString()
                }
                )),
                t.decorateLog(i);
                var a = ce(t.getCommonData(), o || {})
                  , s = a.app_version_name;
                if (delete a.app_version_name,
                e = new p$2((function(e, n) {
                    e.dimension.app_version_name = s,
                    e.dimension.did_rate = t.didRate;
                    var r = (null == (r = null == e ? void 0 : e.dimension) ? void 0 : r.event_client_timestamp) || Date.now()
                      , o = (null == (o = null == e ? void 0 : e.dimension) ? void 0 : o.radar_session_id) || t.radarSessionId;
                    return ce(e, a, {
                        event_client_timestamp: r,
                        radar_session_id: o
                    })
                }
                )),
                e.use((function(e, n) {
                    return e.key && "load" === e.key && (e.dimension = f$2(f$2({}, e.dimension), {
                        load_device_increase_id: Be("LOAD_DEVICE_INCREASE_ID"),
                        load_session_increase_id: t.genSessionIncreaseId("LOAD_SESSION_INCREASE_ID")
                    })),
                    e.key && "load" !== e.key && (e.dimension = f$2(f$2({}, e.dimension), {
                        other_device_increase_id: Be("OTHER_DEVICE_INCREASE_ID"),
                        other_session_increase_id: t.genSessionIncreaseId("OTHER_SESSION_INCREASE_ID")
                    })),
                    n()
                }
                )),
                (i = e.invoke(i))instanceof Error)
                    throw i;
                try {
                    window.dispatchEvent(new CustomEvent("get-radar-next-data",{
                        detail: {
                            kv: ze(i)
                        }
                    }))
                } catch (c) {}
                if (delete i.dimension.broadcast_info,
                t.weblog ? t.logQueue.push(i) : (i.base_href = location.href,
                t.preStoredLogQueue.push(i)),
                Ge("radarLogNext", JSON.parse(JSON.stringify(i))),
                t.logQueue.length > t.queueConfig.maxBatchLength - 1)
                    return t.flush(),
                    clearTimeout(t.batchTimer),
                    void (t.batchTimer = 0);
                t.batchTimer || (t.batchTimer = window.setTimeout((function() {
                    t.flush(),
                    clearTimeout(t.batchTimer),
                    t.batchTimer = 0
                }
                ), t.queueConfig.wait))
            }
        }
        ,
        this.flush = function() {
            var e;
            t.logQueue.length <= 0 || (e = null,
            (e = t.config.httpReportFirst ? e : t.reportByBridge()) && !t.config.httpReportFirst || t.reportByHttp(),
            t.logQueue = [])
        }
        ,
        "object" == typeof e && null !== e || et$1("108"),
        "string" != typeof e.projectId && et$1("109"),
        Ae());
        this.radarSessionId = n,
        this.config = e,
        this.sampling = function(e) {
            return "number" == typeof e && 0 <= e && e <= 1 ? e : (u$2("110"),
            1)
        }(null != (n = this.config.sampling) ? n : 1),
        void 0 !== e.weblogger && this.bindWeblogger(e.weblogger),
        null != (n = this.config) && n.ignoreList && Array.isArray(null == (e = this.config) ? void 0 : e.ignoreList) && (this.ignoreList = this.ignoreList.concat(this.config.ignoreList.map((function(e) {
            return e.replace(/^(https?:)?\/\//, "")
        }
        )))),
        this.queueConfig = f$2(f$2({}, this.queueConfig), null != (n = this.config) && n.queueConfig ? this.config.queueConfig : {}),
        null != (e = this.config) && e.customDimensions && this.setDimensions(null == (n = this.config) ? void 0 : n.customDimensions),
        le(window, this.eventName, this.flush),
        "undefined" != typeof window && window.yodaCollectErrorDataDestroy && window.yodaCollectErrorDataDestroy()
    }
    return e.prototype.genSessionIncreaseId = function(e) {
        return this.runtimeIdMap[e] || (this.runtimeIdMap[e] = 0),
        this.runtimeIdMap[e]++
    }
    ,
    e.prototype.bindWeblogger = function(e) {
        var t, n = this;
        if (e && "object" == typeof e) {
            if (this.weblog)
                return void s$1("122");
            this.weblog = e,
            this.updateUrlPackage(),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.radarUrl),
            void 0 !== (null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url) && this.ignoreList.push(null == (t = null == e ? void 0 : e.logger) ? void 0 : t.url),
            this.isInYoda = !(null == (t = null == (e = this.weblog) ? void 0 : e.Utils) || !t.yoda),
            this.getSampleData()
        } else
            et$1("106");
        0 < this.preStoredLogQueue.length && (this.preStoredLogQueue.forEach((function(e) {
            if (void 0 !== (t = n.sampleData["load" === e.key ? "core" : e.key]) && (e.dimension.sample_rate = t),
            "load" === e.key ? n.sampleData.core : e.dimension.sample_rate * n.sampleData.core >= n.randomSampling) {
                var t = n.getCommonData()
                  , r = (e.dimension.app_version_name = t.app_version_name,
                e.h5_extra_attr = JSON.stringify(f$2(f$2({}, null == (t = n.weblog.commonPackage) ? void 0 : t.getH5ExtraAttr()), JSON.parse(e.h5_extra_attr))),
                Ze(e.base_href))
                  , o = null == (t = n.weblog.logConfig) ? void 0 : t.urlMap;
                if (t = {},
                "function" == typeof o)
                    try {
                        var i = o(r);
                        "string" == typeof i ? t = {
                            page: i
                        } : "object" == typeof i && (t = {
                            page: i.page,
                            params: i.params
                        })
                    } catch (c) {}
                else if ("object" == typeof o) {
                    var a, s = "";
                    for (a in o)
                        if (-1 < (r.page || r.url || "").indexOf(a)) {
                            s = o[a];
                            break
                        }
                    s && (t = {
                        page: s
                    })
                }
                e.url_package = {
                    page: t && t.page || r.page
                },
                i = n.referUrlPackage && n.referUrlPackage.toJSON(),
                e.refer_url_package = i,
                delete e.base_href,
                n.logQueue.push(e)
            }
        }
        )),
        this.preStoredLogQueue = [],
        this.flush())
    }
    ,
    e.prototype.getSampleData = function() {
        var e, t, n = this;
        this.isInYoda ? (this.sampleData = {
            isHit: !0,
            core: this.sampling,
            api: 1,
            resource: .1,
            error: 1,
            event: 1
        },
        t = window.updateYodaSampleRateWithParams,
        window.updateYodaSampleRateWithParams = function(e) {
            c$1("104", e),
            n.updateYodaSampleRate(e),
            t && t(e)
        }
        ,
        window.__yodaCommonDataObject__ && window.__yodaCommonDataObject__.sampleData ? (this.updateYodaSampleRate(window.__yodaCommonDataObject__.sampleData),
        this.collect(f$3.EVENT, {
            name: "客户端采样率注入成功",
            event_type: "radar_sample_inject_success",
            extra_info: this.sampleData
        }, {})) : "function" == typeof (null == (e = null == (e = null == (e = this.weblog) ? void 0 : e.Utils) ? void 0 : e.yoda) ? void 0 : e.getWebviewLoadPerf) && null != (e = this.weblog) && e.Utils.yoda.getWebviewLoadPerf().then((function(e) {
            null != e && e.sampleData && n.updateYodaSampleRate(e.sampleData)
        }
        ))) : (this.sampleData = {
            isHit: this.samplingControl(this.sampling),
            core: this.sampling
        },
        this.broadcastSample.emit(this.sampleData))
    }
    ,
    e.prototype.updateYodaSampleRate = function(e) {
        var t = this
          , n = null;
        try {
            var r = e;
            n = "string" == typeof r ? JSON.parse(r) : r
        } catch (o) {
            return void c$1("error: ", o)
        }
        try {
            n.extra && (n = f$2(f$2({}, n), n.extra))
        } catch (o) {
            c$1("error: ", o)
        }
        n && (Object.keys(n).forEach((function(e) {
            "load" === e ? t.sampleData.core = n[e] : "did_rate" === e ? t.didRate = n[e] : t.sampleData[e] = n[e]
        }
        )),
        this.broadcastSample.emit(this.sampleData))
    }
    ,
    e.prototype.updateUrlPackage = function() {
        var e;
        null != (e = this.weblog) && e.currentUrlPackage && (this.currentUrlPackage = this.weblog.currentUrlPackage,
        this.referUrlPackage = this.weblog.referUrlPackage)
    }
    ,
    e.prototype.setDimensions = function(e) {
        var t = this
          , n = Object.keys(e);
        n.some((function(e) {
            return -1 === y$2.indexOf(e)
        }
        )) && u$2("113", "".concat(n.join("、"))),
        n.forEach((function(n) {
            null == e[n] ? delete t.customDimension[n] : t.customDimension[n] = e[n]
        }
        ))
    }
    ,
    e.prototype.setCommonDimension = function(e, t, n) {
        this.commonDimension[e] = (n = void 0 === n || n) || null == (n = this.commonDimension[e]) ? t : n
    }
    ,
    e.prototype.decorateLog = function(e) {
        this.currentUrlPackage || this.updateUrlPackage(),
        0 < Object.keys(this.customDimension).length && Object.assign(e.dimension, this.customDimension),
        0 < Object.keys(this.commonDimension).length && Object.assign(e.dimension, this.commonDimension),
        this.currentUrlPackage && this.currentUrlPackage.page !== (null == (e = null == (e = this.weblog) ? void 0 : e.currentUrlPackage) ? void 0 : e.page) && (this.flush(),
        this.updateUrlPackage())
    }
    ,
    e.prototype.samplingControl = function(e) {
        return null !== e && "number" == typeof e && this.randomSampling < e
    }
    ,
    e.prototype.getCommonData = function() {
        var e, t = null == (t = null == (t = null == (t = this.weblog) ? void 0 : t.commonPackage) ? void 0 : t.app_package) ? void 0 : t.version_name;
        return t = {
            h5_extra_attr: JSON.stringify(f$2(f$2({}, null == (e = null == (e = this.weblog) ? void 0 : e.commonPackage) ? void 0 : e.getH5ExtraAttr()), {
                app_version_name: t,
                url: location.href,
                hash: location.hash,
                online: null === navigator || void 0 === navigator ? void 0 : navigator.onLine,
                downlink: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.downlink,
                rtt: null == (e = null === navigator || void 0 === navigator ? void 0 : navigator.connection) ? void 0 : e.rtt
            })),
            url_package: this.currentUrlPackage && this.currentUrlPackage.toJSON(),
            refer_url_package: this.referUrlPackage && this.referUrlPackage.toJSON(),
            app_version_name: t,
            project_id: null == (e = this.config) ? void 0 : e.projectId,
            event_trigger_source: "H5"
        },
        "1" === xe("radar_report_test") && (t.is_report_test = !0),
        t
    }
    ,
    e.prototype.reportByHttp = function() {
        var e = this.getCommonData()
          , t = (e = {
            project_id: this.config.projectId,
            radar_session_id: this.radarSessionId,
            h5_extra_attr: e.h5_extra_attr
        },
        this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )))
          , n = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        Array.isArray(t) && t.length && this.collectLog(e, t, "radarSDK"),
        Array.isArray(n) && n.length && this.collectLog(e, n, "radarSDKSupplement")
    }
    ,
    e.prototype.collectLog = function(e, t, n) {
        var r;
        "function" != typeof (null == (r = this.weblog) ? void 0 : r.collect) && "function" != typeof (null == (r = this.weblog) ? void 0 : r.sendByHttp) ? u$2("114") : (this.weblog.sendByHttp || this.weblog.collect).call(this.weblog, "RADAR", {
            name: "radar_log",
            params: f$2(f$2({}, e), {
                data: _$2([], v$2(t), !1)
            }),
            serviceName: n
        })
    }
    ,
    e.prototype.reportByBridge = function() {
        var e = null == (n = null == (n = this.weblog) ? void 0 : n.Utils) ? void 0 : n.yoda;
        if (!e)
            return !1;
        var t, n = this.logQueue.filter((function(e) {
            return "load" === e.key
        }
        )), r = this.logQueue.filter((function(e) {
            return "load" !== e.key
        }
        ));
        try {
            return n.forEach((function(t) {
                "function" == typeof (null == (t = e.sendSummarizedLog({
                    key: "h5_load",
                    data: t
                })) ? void 0 : t.catch) && t.catch((function(e) {
                    u$2("123", e)
                }
                ))
            }
            )),
            r.length && "function" == typeof (null == (t = e.sendRadarLog({
                data: r
            })) ? void 0 : t.catch) && t.catch((function(e) {
                u$2("124", e)
            }
            )),
            !0
        } catch (o) {
            return !1
        }
    }
    ,
    e
}(), u$1 = function(e, t) {
    return (u$1 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
}, p$1, l$1, f$1 = function() {
    return (f$1 = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ).apply(this, arguments)
};
function y$1(e, t) {
    var n = {};
    for (o in e)
        Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols)
        for (var r = 0, o = Object.getOwnPropertySymbols(e); r < o.length; r++)
            t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);
    return n
}
(l$1 = p$1 = p$1 || {}).SCRIPT = "script",
l$1.RES = "res",
l$1.API = "api",
l$1.VIDEO = "video";
var m$1 = [];
function d$1(e, t, n) {
    var r, o, i, a;
    return (a = t) && (a instanceof Error || "object" == typeof a && "string" == typeof a.message) ? (o = t.name || "ErrorLikeObject",
    i = t.message,
    r = t.stack || void 0) : (o = null == t ? "".concat(t) : typeof t,
    t = function(e) {
        var t;
        try {
            t = e.toString()
        } catch (n) {}
        return "string" != typeof t || "" === t ? t = null === e ? "<NULL>" : void 0 === e ? "<UNDEFINED>" : "" === t ? "<EMPTY>" : "<UNKNOWN>" : 2e3 < t.length && (t = t.substring(0, 2e3) + "<<< ……"),
        t
    }(t),
    i = "".concat(e, " - value: ").concat(t)),
    {
        error_type: p$1.SCRIPT,
        error_cons_type: o,
        msg: i,
        stack: r
    }
}
function _$1(e) {
    for (var t = 0; t < m$1.length; t++)
        if (h$1(m$1[t], e))
            return t;
    return -1
}
function h$1(e, t) {
    return e.msg === t.msg && e.stack === t.stack && e.file === t.file && e.line === t.line && e.col === t.col
}
function g$1(e) {
    if (!(0 <= _$1(e)))
        return m$1.push(e),
        setTimeout((function() {
            m$1.splice(_$1(e), 1)
        }
        ), 2e3),
        function(e) {
            var t = e.error_cons_type
              , n = e.file
              , r = e.error_type
              , o = e.msg
              , i = e.col
              , a = e.line
              , s = e.stack;
            return {
                key: "error",
                value: y$1(e, ["error_cons_type", "file", "error_type", "msg", "col", "line", "stack"]),
                dimension: {
                    error_cons_type: t,
                    file: n,
                    error_type: r,
                    msg: o,
                    col: i,
                    line: a,
                    stack: s
                }
            }
        }(e)
}
var v$1, O$1 = [], b$1 = [], w$1 = [], k$1 = [];
function j$1(e) {
    var t, n, r;
    O$1 = (v$1 = e).whiteUrlList;
    try {
        (r = new PerformanceObserver((function(e) {
            e.getEntriesByType("resource").forEach((function(e) {
                if (!K$1(e.name, O$1))
                    return !1;
                "api" === oe(e) && ((e = ue(N$1, e)).perfTime = Date.now(),
                T$1(e = f$1(f$1({}, e), {
                    api: e.file
                })) || w$1.push(e))
            }
            ))
        }
        ))).observe({
            entryTypes: ["resource"]
        }),
        t = ve((function(e) {
            return E$2(e)
        }
        ), (function(e, t) {
            return x$1(e, t)
        }
        )),
        n = me((function(e) {
            return E$2(e)
        }
        ), (function(e, t) {
            return x$1(e, t)
        }
        ))
    } catch (o) {
        u$2("308"),
        null != (e = v$1.core) && e.collect("event", {
            name: "radar_error",
            message: "PerformanceObserver 不存在无法收集数据",
            category: "api"
        })
    }
    return function() {
        "function" == typeof t && t(),
        "function" == typeof n && n(),
        r && r.disconnect()
    }
}
var E$2 = function(e) {
    K$1(e.url, O$1) && "js" !== Y$1(e.url) && "css" !== Y$1(e.url) && (e = {
        api: C$1(e.url),
        method: e.method,
        request: e,
        startTime: Date.now()
    },
    k$1.push(e))
}
  , x$1 = function(e, t) {
    var n, r, o, i, a, s, c, l, u, p, d = k$1.find((function(t) {
        return t.request === e
    }
    ));
    d && (delete d.request,
    n = d.startTime,
    d = y$1(d, ["startTime"]),
    n = Date.now() - n,
    o = t.status,
    r = (p = t.headers) ? "function" == typeof p.get ? +p.get("Content-Length") || 0 : +p["content-length"] || 0 : 0,
    n = f$1({
        duration: n,
        logTime: Date.now(),
        status: o,
        size: +r,
        custom_failed: !(200 <= o && o < 300)
    }, d),
    "string" == typeof t.text && (n.responseData = t.text),
    function(e) {
        return 0 === e.status
    }(f$1(f$1({}, t), {
        status: o
    })) ? (r = n.res_type,
    d = n.protocol,
    t = n.api,
    o = n.custom_failed,
    i = n.status,
    a = n.cached,
    s = n.method,
    c = n.response_code,
    l = n.response_msg,
    u = y$1(n, ["res_type", "protocol", "api", "custom_failed", "status", "cached", "method", "response_code", "response_msg"]),
    v$1.baseCollect({
        key: "api",
        value: u,
        dimension: {
            res_type: r,
            protocol: d,
            api: t,
            custom_failed: o,
            status: i,
            cached: a,
            method: s,
            response_code: c,
            response_msg: l
        }
    })) : T$1(null, n) || b$1.push(n),
    k$1 = k$1.filter((function(t) {
        return t.request && t.request !== e
    }
    )))
};
function T$1(e, t) {
    var n = e || t;
    if (t = e ? b$1 : w$1,
    n) {
        var r, o, i, a, s, c, l, u, p, d = -1;
        if (t.forEach((function(e, t) {
            var r = (n.api || "").replace(/\?.+$/, "")
              , o = (e.api || "").replace(/\?.+$/, "")
              , i = n.size;
            r === o && (Object.assign(n, e),
            Object.assign(n, n.apiTime),
            delete n.file,
            i && (n.size = i),
            n.size && 0 != n.size || !n.responseData || (n.size = function(e) {
                var t = "";
                if ("string" == typeof e)
                    t = e;
                else
                    try {
                        t = JSON.stringify(e)
                    } catch (i) {
                        t = String(e)
                    }
                for (var n = 0, r = 0; r < t.length; r++) {
                    var o = t.charCodeAt(r);
                    n += o < 128 ? 1 : o < 2048 ? 2 : o < 65536 ? 3 : o < 1 << 21 ? 4 : o < 1 << 26 ? 5 : o < 1 << 31 ? 6 : Number.NaN
                }
                return n
            }(n.responseData)),
            delete n.responseData,
            d = t)
        }
        )),
        -1 !== d)
            return t.splice(d, 1),
            e = n.res_type,
            t = n.protocol,
            r = n.api,
            o = n.custom_failed,
            i = n.status,
            a = n.cached,
            s = n.method,
            c = n.response_code,
            l = n.response_msg,
            u = n.has_timing_allow,
            p = y$1(n, ["res_type", "protocol", "api", "custom_failed", "status", "cached", "method", "response_code", "response_msg", "has_timing_allow"]),
            v$1.baseCollect({
                key: "api",
                dimension: {
                    has_timing_allow: u,
                    res_type: e,
                    protocol: t,
                    api: r,
                    custom_failed: o,
                    status: i,
                    cached: a,
                    method: s,
                    response_code: c,
                    response_msg: l
                },
                value: p
            }),
            !0
    }
    return !1
}
function C$1(e) {
    var t = (n = document.location).protocol
      , n = n.host;
    return 0 === e.indexOf("//") ? t + e : 0 === e.indexOf("/") ? "".concat(t, "//").concat(n).concat(e) : e
}
var N$1 = F$1
  , P$1 = function(e) {
    function t(t) {
        var n = e.call(this, {
            core: t.core,
            sampling: t.sampling,
            key: "COMPONENT",
            version: "1.2.9",
            name: "RadarComponentCollect"
        }) || this;
        return n.whiteUrlList = [],
        n.whiteUrlList = t.whiteUrlList || [],
        n.unhook = j$1(n),
        n
    }
    return function(e, t) {
        if ("function" != typeof t && null !== t)
            throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
        function n() {
            this.constructor = e
        }
        u$1(e, t),
        e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
        new n)
    }(t, e),
    t.prototype.event = function(e, t) {
        void 0 === t && (t = {}),
        void 0 === (e = void 0 === e ? {} : e).name ? u$2("700") : void 0 !== (t = t.duration) && "number" != typeof t ? u$2("701") : (e && e.extra_info && "object" == typeof e.extra_info && (e.extra_info = JSON.stringify(e.extra_info)),
        this.baseCollect({
            key: "event",
            dimension: e,
            value: {
                duration: t
            }
        }))
    }
    ,
    t.prototype.captureException = function(e) {
        (e = g$1(d$1("Captured Exception", e))) && this.baseCollect({
            key: "error",
            dimension: e.dimension,
            value: e.value
        })
    }
    ,
    t.prototype.destroy = function() {
        this.unhook && this.unhook()
    }
    ,
    t
}(d$2);
function _isPlaceholder(e) {
    return null != e && "object" == typeof e && !0 === e["@@functional/placeholder"]
}
function _curry1(e) {
    return function t(n) {
        return 0 === arguments.length || _isPlaceholder(n) ? t : e.apply(this, arguments)
    }
}
function _curry2(e) {
    return function t(n, r) {
        switch (arguments.length) {
        case 0:
            return t;
        case 1:
            return _isPlaceholder(n) ? t : _curry1((function(t) {
                return e(n, t)
            }
            ));
        default:
            return _isPlaceholder(n) && _isPlaceholder(r) ? t : _isPlaceholder(n) ? _curry1((function(t) {
                return e(t, r)
            }
            )) : _isPlaceholder(r) ? _curry1((function(t) {
                return e(n, t)
            }
            )) : e(n, r)
        }
    }
}
function _curry3(e) {
    return function t(n, r, o) {
        switch (arguments.length) {
        case 0:
            return t;
        case 1:
            return _isPlaceholder(n) ? t : _curry2((function(t, r) {
                return e(n, t, r)
            }
            ));
        case 2:
            return _isPlaceholder(n) && _isPlaceholder(r) ? t : _isPlaceholder(n) ? _curry2((function(t, n) {
                return e(t, r, n)
            }
            )) : _isPlaceholder(r) ? _curry2((function(t, r) {
                return e(n, t, r)
            }
            )) : _curry1((function(t) {
                return e(n, r, t)
            }
            ));
        default:
            return _isPlaceholder(n) && _isPlaceholder(r) && _isPlaceholder(o) ? t : _isPlaceholder(n) && _isPlaceholder(r) ? _curry2((function(t, n) {
                return e(t, n, o)
            }
            )) : _isPlaceholder(n) && _isPlaceholder(o) ? _curry2((function(t, n) {
                return e(t, r, n)
            }
            )) : _isPlaceholder(r) && _isPlaceholder(o) ? _curry2((function(t, r) {
                return e(n, t, r)
            }
            )) : _isPlaceholder(n) ? _curry1((function(t) {
                return e(t, r, o)
            }
            )) : _isPlaceholder(r) ? _curry1((function(t) {
                return e(n, t, o)
            }
            )) : _isPlaceholder(o) ? _curry1((function(t) {
                return e(n, r, t)
            }
            )) : e(n, r, o)
        }
    }
}
function _has(e, t) {
    return Object.prototype.hasOwnProperty.call(t, e)
}
function _isObject(e) {
    return "[object Object]" === Object.prototype.toString.call(e)
}
var mergeWithKey = _curry3((function(e, t, n) {
    var r, o = {};
    for (r in n = n || {},
    t = t || {})
        _has(r, t) && (o[r] = _has(r, n) ? e(r, t[r], n[r]) : t[r]);
    for (r in n)
        _has(r, n) && !_has(r, o) && (o[r] = n[r]);
    return o
}
))
  , mergeDeepWithKey = _curry3((function e(t, n, r) {
    return mergeWithKey((function(n, r, o) {
        return _isObject(r) && _isObject(o) ? e(t, r, o) : t(n, r, o)
    }
    ), n, r)
}
))
  , mergeDeepLeft = _curry2((function(e, t) {
    return mergeDeepWithKey((function(e, t, n) {
        return t
    }
    ), e, t)
}
))
  , pickBy$1 = _curry2((function(e, t) {
    var n = {};
    for (var r in t)
        e(t[r], r, t) && (n[r] = t[r]);
    return n
}
))
  , commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function getDefaultExportFromCjs(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
}
var lodash_merge = {
    exports: {}
};
lodash_merge.exports,
function(e, t) {
    var n = "__lodash_hash_undefined__"
      , r = 9007199254740991
      , o = "[object Arguments]"
      , i = "[object AsyncFunction]"
      , a = "[object Function]"
      , s = "[object GeneratorFunction]"
      , c = "[object Null]"
      , l = "[object Object]"
      , u = "[object Proxy]"
      , p = "[object Undefined]"
      , d = /^\[object .+?Constructor\]$/
      , f = /^(?:0|[1-9]\d*)$/
      , h = {};
    h["[object Float32Array]"] = h["[object Float64Array]"] = h["[object Int8Array]"] = h["[object Int16Array]"] = h["[object Int32Array]"] = h["[object Uint8Array]"] = h["[object Uint8ClampedArray]"] = h["[object Uint16Array]"] = h["[object Uint32Array]"] = !0,
    h[o] = h["[object Array]"] = h["[object ArrayBuffer]"] = h["[object Boolean]"] = h["[object DataView]"] = h["[object Date]"] = h["[object Error]"] = h[a] = h["[object Map]"] = h["[object Number]"] = h[l] = h["[object RegExp]"] = h["[object Set]"] = h["[object String]"] = h["[object WeakMap]"] = !1;
    var g = "object" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal
      , m = "object" == typeof self && self && self.Object === Object && self
      , y = g || m || Function("return this")()
      , v = t && !t.nodeType && t
      , b = v && e && !e.nodeType && e
      , _ = b && b.exports === v
      , S = _ && g.process
      , w = function() {
        try {
            var e = b && b.require && b.require("util").types;
            return e || S && S.binding && S.binding("util")
        } catch (e2) {}
    }()
      , $ = w && w.isTypedArray;
    var k = Array.prototype
      , E = Function.prototype
      , T = Object.prototype
      , O = y["__core-js_shared__"]
      , P = E.toString
      , x = T.hasOwnProperty
      , C = function() {
        var e = /[^.]+$/.exec(O && O.keys && O.keys.IE_PROTO || "");
        return e ? "Symbol(src)_1." + e : ""
    }()
      , I = T.toString
      , A = P.call(Object)
      , L = RegExp("^" + P.call(x).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$")
      , R = _ ? y.Buffer : void 0
      , N = y.Symbol
      , j = y.Uint8Array;
    R && R.allocUnsafe;
    var M, D, U = (M = Object.getPrototypeOf,
    D = Object,
    function(e) {
        return M(D(e))
    }
    ), H = Object.create, G = T.propertyIsEnumerable, F = k.splice, K = N ? N.toStringTag : void 0, V = function() {
        try {
            var e = ge(Object, "defineProperty");
            return e({}, "", {}),
            e
        } catch (e2) {}
    }(), W = R ? R.isBuffer : void 0, z = Math.max, B = Date.now, Z = ge(y, "Map"), X = ge(Object, "create"), Y = function() {
        function e() {}
        return function(t) {
            if (!Oe(t))
                return {};
            if (H)
                return H(t);
            e.prototype = t;
            var n = new e;
            return e.prototype = void 0,
            n
        }
    }();
    function J(e) {
        var t = -1
          , n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }
    function Q(e) {
        var t = -1
          , n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }
    function q(e) {
        var t = -1
          , n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
            var r = e[t];
            this.set(r[0], r[1])
        }
    }
    function ee(e) {
        var t = this.__data__ = new Q(e);
        this.size = t.size
    }
    function te(e, t) {
        var n = we(e)
          , r = !n && Se(e)
          , o = !n && !r && ke(e)
          , i = !n && !r && !o && xe(e)
          , a = n || r || o || i
          , s = a ? function(e, t) {
            for (var n = -1, r = Array(e); ++n < e; )
                r[n] = t(n);
            return r
        }(e.length, String) : []
          , c = s.length;
        for (var l in e)
            a && ("length" == l || o && ("offset" == l || "parent" == l) || i && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || me(l, c)) || s.push(l);
        return s
    }
    function ne(e, t, n) {
        (void 0 !== n && !_e(e[t], n) || void 0 === n && !(t in e)) && ie(e, t, n)
    }
    function re(e, t, n) {
        var r = e[t];
        x.call(e, t) && _e(r, n) && (void 0 !== n || t in e) || ie(e, t, n)
    }
    function oe(e, t) {
        for (var n = e.length; n--; )
            if (_e(e[n][0], t))
                return n;
        return -1
    }
    function ie(e, t, n) {
        "__proto__" == t && V ? V(e, t, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : e[t] = n
    }
    J.prototype.clear = function() {
        this.__data__ = X ? X(null) : {},
        this.size = 0
    }
    ,
    J.prototype.delete = function(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0,
        t
    }
    ,
    J.prototype.get = function(e) {
        var t = this.__data__;
        if (X) {
            var r = t[e];
            return r === n ? void 0 : r
        }
        return x.call(t, e) ? t[e] : void 0
    }
    ,
    J.prototype.has = function(e) {
        var t = this.__data__;
        return X ? void 0 !== t[e] : x.call(t, e)
    }
    ,
    J.prototype.set = function(e, t) {
        var r = this.__data__;
        return this.size += this.has(e) ? 0 : 1,
        r[e] = X && void 0 === t ? n : t,
        this
    }
    ,
    Q.prototype.clear = function() {
        this.__data__ = [],
        this.size = 0
    }
    ,
    Q.prototype.delete = function(e) {
        var t = this.__data__
          , n = oe(t, e);
        return !(n < 0) && (n == t.length - 1 ? t.pop() : F.call(t, n, 1),
        --this.size,
        !0)
    }
    ,
    Q.prototype.get = function(e) {
        var t = this.__data__
          , n = oe(t, e);
        return n < 0 ? void 0 : t[n][1]
    }
    ,
    Q.prototype.has = function(e) {
        return oe(this.__data__, e) > -1
    }
    ,
    Q.prototype.set = function(e, t) {
        var n = this.__data__
          , r = oe(n, e);
        return r < 0 ? (++this.size,
        n.push([e, t])) : n[r][1] = t,
        this
    }
    ,
    q.prototype.clear = function() {
        this.size = 0,
        this.__data__ = {
            hash: new J,
            map: new (Z || Q),
            string: new J
        }
    }
    ,
    q.prototype.delete = function(e) {
        var t = he(this, e).delete(e);
        return this.size -= t ? 1 : 0,
        t
    }
    ,
    q.prototype.get = function(e) {
        return he(this, e).get(e)
    }
    ,
    q.prototype.has = function(e) {
        return he(this, e).has(e)
    }
    ,
    q.prototype.set = function(e, t) {
        var n = he(this, e)
          , r = n.size;
        return n.set(e, t),
        this.size += n.size == r ? 0 : 1,
        this
    }
    ,
    ee.prototype.clear = function() {
        this.__data__ = new Q,
        this.size = 0
    }
    ,
    ee.prototype.delete = function(e) {
        var t = this.__data__
          , n = t.delete(e);
        return this.size = t.size,
        n
    }
    ,
    ee.prototype.get = function(e) {
        return this.__data__.get(e)
    }
    ,
    ee.prototype.has = function(e) {
        return this.__data__.has(e)
    }
    ,
    ee.prototype.set = function(e, t) {
        var n = this.__data__;
        if (n instanceof Q) {
            var r = n.__data__;
            if (!Z || r.length < 199)
                return r.push([e, t]),
                this.size = ++n.size,
                this;
            n = this.__data__ = new q(r)
        }
        return n.set(e, t),
        this.size = n.size,
        this
    }
    ;
    var ae = function(e, t, n) {
        for (var r = -1, o = Object(e), i = n(e), a = i.length; a--; ) {
            var s = i[++r];
            if (!1 === t(o[s], s, o))
                break
        }
        return e
    };
    function se(e) {
        return null == e ? void 0 === e ? p : c : K && K in Object(e) ? function(e) {
            var t = x.call(e, K)
              , n = e[K];
            try {
                e[K] = void 0;
                var r = !0
            } catch (e2) {}
            var o = I.call(e);
            r && (t ? e[K] = n : delete e[K]);
            return o
        }(e) : function(e) {
            return I.call(e)
        }(e)
    }
    function ce(e) {
        return Pe(e) && se(e) == o
    }
    function le(e) {
        return !(!Oe(e) || function(e) {
            return !!C && C in e
        }(e)) && (Ee(e) ? L : d).test(function(e) {
            if (null != e) {
                try {
                    return P.call(e)
                } catch (e2) {}
                try {
                    return e + ""
                } catch (e2) {}
            }
            return ""
        }(e))
    }
    function ue(e) {
        if (!Oe(e))
            return function(e) {
                var t = [];
                if (null != e)
                    for (var n in Object(e))
                        t.push(n);
                return t
            }(e);
        var t = ye(e)
          , n = [];
        for (var r in e)
            ("constructor" != r || !t && x.call(e, r)) && n.push(r);
        return n
    }
    function pe(e, t, n, r, o) {
        e !== t && ae(t, (function(i, a) {
            if (o || (o = new ee),
            Oe(i))
                !function(e, t, n, r, o, i, a) {
                    var s = ve(e, n)
                      , c = ve(t, n)
                      , u = a.get(c);
                    if (u)
                        return void ne(e, n, u);
                    var p = i ? i(s, c, n + "", e, t, a) : void 0
                      , d = void 0 === p;
                    if (d) {
                        var f = we(c)
                          , h = !f && ke(c)
                          , g = !f && !h && xe(c);
                        p = c,
                        f || h || g ? we(s) ? p = s : Pe(m = s) && $e(m) ? p = function(e, t) {
                            var n = -1
                              , r = e.length;
                            t || (t = Array(r));
                            for (; ++n < r; )
                                t[n] = e[n];
                            return t
                        }(s) : h ? (d = !1,
                        p = c.slice()) : g ? (d = !1,
                        p = function(e, t) {
                            var n = (r = e.buffer,
                            o = new r.constructor(r.byteLength),
                            new j(o).set(new j(r)),
                            o);
                            var r, o;
                            return new e.constructor(n,e.byteOffset,e.length)
                        }(c)) : p = [] : function(e) {
                            if (!Pe(e) || se(e) != l)
                                return !1;
                            var t = U(e);
                            if (null === t)
                                return !0;
                            var n = x.call(t, "constructor") && t.constructor;
                            return "function" == typeof n && n instanceof n && P.call(n) == A
                        }(c) || Se(c) ? (p = s,
                        Se(s) ? p = function(e) {
                            return function(e, t, n, r) {
                                var o = !n;
                                n || (n = {});
                                var i = -1
                                  , a = t.length;
                                for (; ++i < a; ) {
                                    var s = t[i]
                                      , c = void 0;
                                    void 0 === c && (c = e[s]),
                                    o ? ie(n, s, c) : re(n, s, c)
                                }
                                return n
                            }(e, Ce(e))
                        }(s) : Oe(s) && !Ee(s) || (p = function(e) {
                            return "function" != typeof e.constructor || ye(e) ? {} : Y(U(e))
                        }(c))) : d = !1
                    }
                    var m;
                    d && (a.set(c, p),
                    o(p, c, r, i, a),
                    a.delete(c));
                    ne(e, n, p)
                }(e, t, a, n, pe, r, o);
            else {
                var s = r ? r(ve(e, a), i, a + "", e, t, o) : void 0;
                void 0 === s && (s = i),
                ne(e, a, s)
            }
        }
        ), Ce)
    }
    function de(e, t) {
        return be(function(e, t, n) {
            return t = z(void 0 === t ? e.length - 1 : t, 0),
            function() {
                for (var r = arguments, o = -1, i = z(r.length - t, 0), a = Array(i); ++o < i; )
                    a[o] = r[t + o];
                o = -1;
                for (var s = Array(t + 1); ++o < t; )
                    s[o] = r[o];
                return s[t] = n(a),
                function(e, t, n) {
                    switch (n.length) {
                    case 0:
                        return e.call(t);
                    case 1:
                        return e.call(t, n[0]);
                    case 2:
                        return e.call(t, n[0], n[1]);
                    case 3:
                        return e.call(t, n[0], n[1], n[2])
                    }
                    return e.apply(t, n)
                }(e, this, s)
            }
        }(e, t, Le), e + "")
    }
    var fe = V ? function(e, t) {
        return V(e, "toString", {
            configurable: !0,
            enumerable: !1,
            value: (n = t,
            function() {
                return n
            }
            ),
            writable: !0
        });
        var n
    }
    : Le;
    function he(e, t) {
        var n, r, o = e.__data__;
        return ("string" == (r = typeof (n = t)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? o["string" == typeof t ? "string" : "hash"] : o.map
    }
    function ge(e, t) {
        var n = function(e, t) {
            return null == e ? void 0 : e[t]
        }(e, t);
        return le(n) ? n : void 0
    }
    function me(e, t) {
        var n = typeof e;
        return !!(t = null == t ? r : t) && ("number" == n || "symbol" != n && f.test(e)) && e > -1 && e % 1 == 0 && e < t
    }
    function ye(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || T)
    }
    function ve(e, t) {
        if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t)
            return e[t]
    }
    var be = function(e) {
        var t = 0
          , n = 0;
        return function() {
            var r = B()
              , o = 16 - (r - n);
            if (n = r,
            o > 0) {
                if (++t >= 800)
                    return arguments[0]
            } else
                t = 0;
            return e.apply(void 0, arguments)
        }
    }(fe);
    function _e(e, t) {
        return e === t || e != e && t != t
    }
    var Se = ce(function() {
        return arguments
    }()) ? ce : function(e) {
        return Pe(e) && x.call(e, "callee") && !G.call(e, "callee")
    }
      , we = Array.isArray;
    function $e(e) {
        return null != e && Te(e.length) && !Ee(e)
    }
    var ke = W || function() {
        return !1
    }
    ;
    function Ee(e) {
        if (!Oe(e))
            return !1;
        var t = se(e);
        return t == a || t == s || t == i || t == u
    }
    function Te(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= r
    }
    function Oe(e) {
        var t = typeof e;
        return null != e && ("object" == t || "function" == t)
    }
    function Pe(e) {
        return null != e && "object" == typeof e
    }
    var xe = $ ? function(e) {
        return function(t) {
            return e(t)
        }
    }($) : function(e) {
        return Pe(e) && Te(e.length) && !!h[se(e)]
    }
    ;
    function Ce(e) {
        return $e(e) ? te(e) : ue(e)
    }
    var Ie, Ae = (Ie = function(e, t, n) {
        pe(e, t, n)
    }
    ,
    de((function(e, t) {
        var n = -1
          , r = t.length
          , o = r > 1 ? t[r - 1] : void 0
          , i = r > 2 ? t[2] : void 0;
        for (o = Ie.length > 3 && "function" == typeof o ? (r--,
        o) : void 0,
        i && function(e, t, n) {
            if (!Oe(n))
                return !1;
            var r = typeof t;
            return !!("number" == r ? $e(n) && me(t, n.length) : "string" == r && t in n) && _e(n[t], e)
        }(t[0], t[1], i) && (o = r < 3 ? void 0 : o,
        r = 1),
        e = Object(e); ++n < r; ) {
            var a = t[n];
            a && Ie(e, a, n, o)
        }
        return e
    }
    )));
    function Le(e) {
        return e
    }
    e.exports = Ae
}(lodash_merge, lodash_merge.exports);
var lodash_mergeExports = lodash_merge.exports
  , merge$2 = getDefaultExportFromCjs(lodash_mergeExports)
  , tinyEmitter = {
    exports: {}
};
function E$1() {}
E$1.prototype = {
    on: function(e, t, n) {
        var r = this.e || (this.e = {});
        return (r[e] || (r[e] = [])).push({
            fn: t,
            ctx: n
        }),
        this
    },
    once: function(e, t, n) {
        var r = this;
        function o() {
            r.off(e, o),
            t.apply(n, arguments)
        }
        return o._ = t,
        this.on(e, o, n)
    },
    emit: function(e) {
        for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), r = 0, o = n.length; r < o; r++)
            n[r].fn.apply(n[r].ctx, t);
        return this
    },
    off: function(e, t) {
        var n = this.e || (this.e = {})
          , r = n[e]
          , o = [];
        if (r && t)
            for (var i = 0, a = r.length; i < a; i++)
                r[i].fn !== t && r[i].fn._ !== t && o.push(r[i]);
        return o.length ? n[e] = o : delete n[e],
        this
    }
},
tinyEmitter.exports = E$1;
var TinyEmitter = tinyEmitter.exports.TinyEmitter = E$1
  , _createClass = function() {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(e, r.key, r)
        }
    }
    return function(t, n, r) {
        return n && e(t.prototype, n),
        r && e(t, r),
        t
    }
}();
function _classCallCheck(e, t) {
    if (!(e instanceof t))
        throw new TypeError("Cannot call a class as a function")
}
var NA_VERSION$1 = "-1"
  , NA = {
    name: "na",
    version: NA_VERSION$1
};
function typeOf(e) {
    return function(t) {
        return Object.prototype.toString.call(t) === "[object " + e + "]"
    }
}
var isString$1 = typeOf("String")
  , isRegExp$2 = typeOf("RegExp")
  , isObject$1 = typeOf("Object")
  , isFunction$1 = typeOf("Function");
function each(e, t) {
    for (var n = 0, r = e.length; n < r && !1 !== t.call(e, e[n], n); n++)
        ;
}
function detect(e, t, n) {
    var r = isFunction$1(t) ? t.call(null, n) : t;
    if (!r)
        return null;
    var o = {
        name: e,
        version: NA_VERSION$1,
        codename: ""
    };
    if (!0 === r)
        return o;
    if (isString$1(r)) {
        if (-1 !== n.indexOf(r))
            return o
    } else {
        if (isObject$1(r))
            return r.hasOwnProperty("version") && (o.version = r.version),
            o;
        if (isRegExp$2(r)) {
            var i = r.exec(n);
            if (i)
                return i.length >= 2 && i[1] ? o.version = i[1].replace(/_/g, ".") : o.version = NA_VERSION$1,
                o
        }
    }
}
function init$1(e, t, n, r) {
    var o = NA;
    each(t, (function(t) {
        var n = detect(t[0], t[1], e);
        if (n)
            return o = n,
            !1
    }
    )),
    n.call(r, o.name, o.version)
}
var Detector$1 = function() {
    function e(t) {
        _classCallCheck(this, e),
        this._rules = t
    }
    return _createClass(e, [{
        key: "parse",
        value: function(e) {
            e = (e || "").toLowerCase();
            var t = {};
            init$1(e, this._rules.device, (function(e, n) {
                var r = parseFloat(n);
                t.device = {
                    name: e,
                    version: r,
                    fullVersion: n
                },
                t.device[e] = r
            }
            ), t),
            init$1(e, this._rules.os, (function(e, n) {
                var r = parseFloat(n);
                t.os = {
                    name: e,
                    version: r,
                    fullVersion: n
                },
                t.os[e] = r
            }
            ), t);
            var n = this.IEMode(e);
            return init$1(e, this._rules.engine, (function(e, r) {
                var o = r;
                n && (r = n.engineVersion || n.engineMode,
                o = n.engineMode);
                var i = parseFloat(r);
                t.engine = {
                    name: e,
                    version: i,
                    fullVersion: r,
                    mode: parseFloat(o),
                    fullMode: o,
                    compatible: !!n && n.compatible
                },
                t.engine[e] = i
            }
            ), t),
            init$1(e, this._rules.browser, (function(e, r) {
                var o = r;
                n && ("ie" === e && (r = n.browserVersion),
                o = n.browserMode);
                var i = parseFloat(r);
                t.browser = {
                    name: e,
                    version: i,
                    fullVersion: r,
                    mode: parseFloat(o),
                    fullMode: o,
                    compatible: !!n && n.compatible
                },
                t.browser[e] = i
            }
            ), t),
            t
        }
    }, {
        key: "IEMode",
        value: function(e) {
            if (!this._rules.re_msie.test(e))
                return null;
            var t, n, r = void 0, o = void 0, i = void 0;
            if (-1 !== e.indexOf("trident/") && (r = /\btrident\/([0-9.]+)/.exec(e)) && r.length >= 2) {
                o = r[1];
                var a = r[1].split(".");
                a[0] = parseInt(a[0], 10) + 4,
                i = a.join(".")
            }
            n = (r = this._rules.re_msie.exec(e))[1];
            var s = r[1].split(".");
            return void 0 === i && (i = n),
            s[0] = parseInt(s[0], 10) - 4,
            t = s.join("."),
            void 0 === o && (o = t),
            {
                browserVersion: i,
                browserMode: n,
                engineVersion: o,
                engineMode: t,
                compatible: o !== t
            }
        }
    }]),
    e
}()
  , detector$2 = Detector$1
  , win = "undefined" == typeof window ? commonjsGlobal : window
  , external = win.external
  , re_msie = /\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/
  , re_blackberry_10 = /\bbb10\b.+?\bversion\/([\d.]+)/
  , re_blackberry_6_7 = /\bblackberry\b.+\bversion\/([\d.]+)/
  , re_blackberry_4_5 = /\bblackberry\d+\/([\d.]+)/
  , NA_VERSION = "-1"
  , DEVICES = [["nokia", function(e) {
    return -1 !== e.indexOf("nokia ") ? /\bnokia ([0-9]+)?/ : /\bnokia([a-z0-9]+)?/
}
], ["samsung", function(e) {
    return -1 !== e.indexOf("samsung") ? /\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/ : /\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/
}
], ["wp", function(e) {
    return -1 !== e.indexOf("windows phone ") || -1 !== e.indexOf("xblwp") || -1 !== e.indexOf("zunewp") || -1 !== e.indexOf("windows ce")
}
], ["pc", "windows"], ["ipad", "ipad"], ["ipod", "ipod"], ["iphone", /\biphone\b|\biph(\d)/], ["mac", "macintosh"], ["mi", /\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/], ["hongmi", /\bhm[ \-]?([a-z0-9]+)/], ["aliyun", /\baliyunos\b(?:[\-](\d+))?/], ["meizu", function(e) {
    return e.indexOf("meizu") >= 0 ? /\bmeizu[\/ ]([a-z0-9]+)\b/ : /\bm([0-9cx]{1,4})\b/
}
], ["nexus", /\bnexus ([0-9s.]+)/], ["huawei", function(e) {
    var t = /\bmediapad (.+?)(?= build\/huaweimediapad\b)/;
    return -1 !== e.indexOf("huawei-huawei") ? /\bhuawei\-huawei\-([a-z0-9\-]+)/ : t.test(e) ? t : /\bhuawei[ _\-]?([a-z0-9]+)/
}
], ["lenovo", function(e) {
    return -1 !== e.indexOf("lenovo-lenovo") ? /\blenovo\-lenovo[ \-]([a-z0-9]+)/ : /\blenovo[ \-]?([a-z0-9]+)/
}
], ["zte", function(e) {
    return /\bzte\-[tu]/.test(e) ? /\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/ : /\bzte[ _\-]?([a-su-z0-9\+]+)/
}
], ["vivo", /\bvivo(?: ([a-z0-9]+))?/], ["htc", function(e) {
    return /\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e) ? /\bhtc[ _\-]?([a-z0-9 ]+(?= build))/ : /\bhtc[ _\-]?([a-z0-9 ]+)/
}
], ["oppo", /\boppo[_]([a-z0-9]+)/], ["konka", /\bkonka[_\-]([a-z0-9]+)/], ["sonyericsson", /\bmt([a-z0-9]+)/], ["coolpad", /\bcoolpad[_ ]?([a-z0-9]+)/], ["lg", /\blg[\-]([a-z0-9]+)/], ["android", /\bandroid\b|\badr\b/], ["blackberry", function(e) {
    return e.indexOf("blackberry") >= 0 ? /\bblackberry\s?(\d+)/ : "bb10"
}
]]
  , OS = [["wp", function(e) {
    return -1 !== e.indexOf("windows phone ") ? /\bwindows phone (?:os )?([0-9.]+)/ : -1 !== e.indexOf("xblwp") ? /\bxblwp([0-9.]+)/ : -1 !== e.indexOf("zunewp") ? /\bzunewp([0-9.]+)/ : "windows phone"
}
], ["windows", /\bwindows nt ([0-9.]+)/], ["macosx", /\bmac os x ([0-9._]+)/], ["ios", function(e) {
    return /\bcpu(?: iphone)? os /.test(e) ? /\bcpu(?: iphone)? os ([0-9._]+)/ : -1 !== e.indexOf("iph os ") ? /\biph os ([0-9_]+)/ : /\bios\b/
}
], ["yunos", /\baliyunos ([0-9.]+)/], ["android", function(e) {
    return e.indexOf("android") >= 0 ? /\bandroid[ \/-]?([0-9.x]+)?/ : e.indexOf("adr") >= 0 ? e.indexOf("mqqbrowser") >= 0 ? /\badr[ ]\(linux; u; ([0-9.]+)?/ : /\badr(?:[ ]([0-9.]+))?/ : "android"
}
], ["chromeos", /\bcros i686 ([0-9.]+)/], ["linux", "linux"], ["windowsce", /\bwindows ce(?: ([0-9.]+))?/], ["symbian", /\bsymbian(?:os)?\/([0-9.]+)/], ["blackberry", function(e) {
    var t = e.match(re_blackberry_10) || e.match(re_blackberry_6_7) || e.match(re_blackberry_4_5);
    return t ? {
        version: t[1]
    } : "blackberry"
}
]];
function checkTW360External(e) {
    if (external)
        try {
            var t = external.twGetRunPath.toLowerCase()
              , n = external.twGetSecurityID(win)
              , r = external.twGetVersion(n);
            if (t && -1 === t.indexOf(e))
                return !1;
            if (r)
                return {
                    version: r
                }
        } catch (o) {}
}
var ENGINE = [["edgehtml", /edge\/([0-9.]+)/], ["trident", re_msie], ["blink", function() {
    return "chrome"in win && "CSS"in win && /\bapplewebkit[\/]?([0-9.+]+)/
}
], ["webkit", /\bapplewebkit[\/]?([0-9.+]+)/], ["gecko", function(e) {
    var t = e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);
    if (t)
        return {
            version: t[1] + "." + t[2]
        }
}
], ["presto", /\bpresto\/([0-9.]+)/], ["androidwebkit", /\bandroidwebkit\/([0-9.]+)/], ["coolpadwebkit", /\bcoolpadwebkit\/([0-9.]+)/], ["u2", /\bu2\/([0-9.]+)/], ["u3", /\bu3\/([0-9.]+)/]]
  , BROWSER = [["edge", /edge\/([0-9.]+)/], ["sogou", function(e) {
    return e.indexOf("sogoumobilebrowser") >= 0 ? /sogoumobilebrowser\/([0-9.]+)/ : e.indexOf("sogoumse") >= 0 || / se ([0-9.x]+)/
}
], ["theworld", function() {
    var e = checkTW360External("theworld");
    return void 0 !== e ? e : /theworld(?: ([\d.])+)?/
}
], ["360", function(e) {
    var t = checkTW360External("360se");
    return void 0 !== t ? t : -1 !== e.indexOf("360 aphone browser") ? /\b360 aphone browser \(([^\)]+)\)/ : /\b360(?:se|ee|chrome|browser)\b/
}
], ["maxthon", function() {
    try {
        if (external && (external.mxVersion || external.max_version))
            return {
                version: external.mxVersion || external.max_version
            }
    } catch (e) {}
    return /\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/
}
], ["micromessenger", /\bmicromessenger\/([\d.]+)/], ["qq", /\bm?qqbrowser\/([0-9.]+)/], ["green", "greenbrowser"], ["tt", /\btencenttraveler ([0-9.]+)/], ["liebao", function(e) {
    if (e.indexOf("liebaofast") >= 0)
        return /\bliebaofast\/([0-9.]+)/;
    if (-1 === e.indexOf("lbbrowser"))
        return !1;
    var t = void 0;
    try {
        external && external.LiebaoGetVersion && (t = external.LiebaoGetVersion())
    } catch (n) {}
    return {
        version: t || NA_VERSION
    }
}
], ["tao", /\btaobrowser\/([0-9.]+)/], ["coolnovo", /\bcoolnovo\/([0-9.]+)/], ["saayaa", "saayaa"], ["baidu", /\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/], ["ie", re_msie], ["mi", /\bmiuibrowser\/([0-9.]+)/], ["opera", function(e) {
    var t = /\bopera.+version\/([0-9.ab]+)/;
    return t.test(e) ? t : /\bopr\/([0-9.]+)/
}
], ["oupeng", /\boupeng\/([0-9.]+)/], ["yandex", /yabrowser\/([0-9.]+)/], ["ali-ap", function(e) {
    return e.indexOf("aliapp") > 0 ? /\baliapp\(ap\/([0-9.]+)\)/ : /\balipayclient\/([0-9.]+)\b/
}
], ["ali-ap-pd", /\baliapp\(ap-pd\/([0-9.]+)\)/], ["ali-am", /\baliapp\(am\/([0-9.]+)\)/], ["ali-tb", /\baliapp\(tb\/([0-9.]+)\)/], ["ali-tb-pd", /\baliapp\(tb-pd\/([0-9.]+)\)/], ["ali-tm", /\baliapp\(tm\/([0-9.]+)\)/], ["ali-tm-pd", /\baliapp\(tm-pd\/([0-9.]+)\)/], ["uc", function(e) {
    return e.indexOf("ucbrowser/") >= 0 ? /\bucbrowser\/([0-9.]+)/ : e.indexOf("ubrowser/") >= 0 ? /\bubrowser\/([0-9.]+)/ : /\buc\/[0-9]/.test(e) ? /\buc\/([0-9.]+)/ : e.indexOf("ucweb") >= 0 ? /\bucweb([0-9.]+)?/ : /\b(?:ucbrowser|uc)\b/
}
], ["chrome", / (?:chrome|crios|crmo)\/([0-9.]+)/], ["android", function(e) {
    if (-1 !== e.indexOf("android"))
        return /\bversion\/([0-9.]+(?: beta)?)/
}
], ["blackberry", function(e) {
    var t = e.match(re_blackberry_10) || e.match(re_blackberry_6_7) || e.match(re_blackberry_4_5);
    return t ? {
        version: t[1]
    } : "blackberry"
}
], ["safari", /\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//], ["webview", /\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/], ["firefox", /\bfirefox\/([0-9.ab]+)/], ["nokia", /\bnokiabrowser\/([0-9.]+)/]]
  , webRules = {
    device: DEVICES,
    os: OS,
    browser: BROWSER,
    engine: ENGINE,
    re_msie: re_msie
}
  , Detector = detector$2
  , WebRules = webRules
  , userAgent = navigator.userAgent || ""
  , appVersion = navigator.appVersion || ""
  , vendor = navigator.vendor || ""
  , ua = userAgent + " " + appVersion + " " + vendor
  , detector$1 = new Detector(WebRules);
function IEMode(e) {
    if (!WebRules.re_msie.test(e))
        return null;
    var t, n, r = void 0, o = void 0, i = void 0;
    if (-1 !== e.indexOf("trident/") && (r = /\btrident\/([0-9.]+)/.exec(e)) && r.length >= 2) {
        o = r[1];
        var a = r[1].split(".");
        a[0] = parseInt(a[0], 10) + 4,
        i = a.join(".")
    }
    n = (r = WebRules.re_msie.exec(e))[1];
    var s = r[1].split(".");
    return void 0 === i && (i = n),
    s[0] = parseInt(s[0], 10) - 4,
    t = s.join("."),
    void 0 === o && (o = t),
    {
        browserVersion: i,
        browserMode: n,
        engineVersion: o,
        engineMode: t,
        compatible: o !== t
    }
}
function WebParse(e) {
    var t = detector$1.parse(e)
      , n = IEMode(e);
    if (n) {
        var r = t.engine.name
          , o = n.engineVersion || n.engineMode
          , i = parseFloat(o)
          , a = n.engineMode;
        t.engine = {
            name: r,
            version: i,
            fullVersion: o,
            mode: parseFloat(a),
            fullMode: a,
            compatible: !!n && n.compatible
        },
        t.engine[t.engine.name] = i;
        var s = t.browser.name
          , c = t.browser.fullVersion;
        "ie" === s && (c = n.browserVersion);
        var l = n.browserMode
          , u = parseFloat(c);
        t.browser = {
            name: s,
            version: u,
            fullVersion: c,
            mode: parseFloat(l),
            fullMode: l,
            compatible: !!n && n.compatible
        },
        t.browser[s] = u
    }
    return t
}
var Tan = WebParse(ua);
Tan.parse = WebParse;
var webDetector = Tan
  , _detector = getDefaultExportFromCjs(webDetector);
let State = function(e) {
    return e[e.LAUNCH = 0] = "LAUNCH",
    e[e.DOWNLOAD = 1] = "DOWNLOAD",
    e[e.LAUNCH_OR_DOWNLOAD = 2] = "LAUNCH_OR_DOWNLOAD",
    e
}({})
  , LaunchSource = function(e) {
    return e.UNIVERSAL_LINK = "uLink",
    e.SCHEME = "scheme",
    e.YYB = "yyb",
    e.WX_SDK = "wxSDK",
    e.UNKNOWN = "unknown",
    e
}({})
  , ErrorCodes = function(e) {
    return e[e.LAUNCH_TIMEOUT = 0] = "LAUNCH_TIMEOUT",
    e[e.USERAGENT_VALIDATION_ERROR = 1] = "USERAGENT_VALIDATION_ERROR",
    e[e.REQUIRED_VALIDATION_CONFIG = 2] = "REQUIRED_VALIDATION_CONFIG",
    e[e.WX_JSSDK_INVOKE_ERROR = 3] = "WX_JSSDK_INVOKE_ERROR",
    e[e.NOT_MATCH_STATE = 4] = "NOT_MATCH_STATE",
    e
}({});
const locationCall = e => {
    window.location.href = e
}
  , iframeCall = (e, t=2e3) => {
    const n = document.createElement("iframe");
    n.setAttribute("src", e),
    n.setAttribute("style", "display:none"),
    document.body.appendChild(n),
    setTimeout(( () => {
        document.body.removeChild(n)
    }
    ), t)
}
;
function aTagCall(e) {
    const t = document.createElement("a");
    t.href = e,
    t.click()
}
!function(e) {
    var t, n, r = function() {
        try {
            return !!Symbol.iterator
        } catch (e) {
            return !1
        }
    }(), o = function(e) {
        var t = {
            next: function() {
                var t = e.shift();
                return {
                    done: void 0 === t,
                    value: t
                }
            }
        };
        return r && (t[Symbol.iterator] = function() {
            return t
        }
        ),
        t
    }, i = function(e) {
        return encodeURIComponent(e).replace(/%20/g, "+")
    }, a = function(e) {
        return decodeURIComponent(String(e).replace(/\+/g, " "))
    };
    (function() {
        try {
            var t = e.URLSearchParams;
            return "a=1" === new t("?a=1").toString() && "function" == typeof t.prototype.set && "function" == typeof t.prototype.entries
        } catch (e2) {
            return !1
        }
    }
    )() || ((n = (t = function(e) {
        Object.defineProperty(this, "_entries", {
            writable: !0,
            value: {}
        });
        var n = typeof e;
        if ("undefined" === n)
            ;
        else if ("string" === n)
            "" !== e && this._fromString(e);
        else if (e instanceof t) {
            var r = this;
            e.forEach((function(e, t) {
                r.append(t, e)
            }
            ))
        } else {
            if (null === e || "object" !== n)
                throw new TypeError("Unsupported input's type for URLSearchParams");
            if ("[object Array]" === Object.prototype.toString.call(e))
                for (var o = 0; o < e.length; o++) {
                    var i = e[o];
                    if ("[object Array]" !== Object.prototype.toString.call(i) && 2 === i.length)
                        throw new TypeError("Expected [string, any] as entry at index " + o + " of URLSearchParams's input");
                    this.append(i[0], i[1])
                }
            else
                for (var a in e)
                    e.hasOwnProperty(a) && this.append(a, e[a])
        }
    }
    ).prototype).append = function(e, t) {
        e in this._entries ? this._entries[e].push(String(t)) : this._entries[e] = [String(t)]
    }
    ,
    n.delete = function(e) {
        delete this._entries[e]
    }
    ,
    n.get = function(e) {
        return e in this._entries ? this._entries[e][0] : null
    }
    ,
    n.getAll = function(e) {
        return e in this._entries ? this._entries[e].slice(0) : []
    }
    ,
    n.has = function(e) {
        return e in this._entries
    }
    ,
    n.set = function(e, t) {
        this._entries[e] = [String(t)]
    }
    ,
    n.forEach = function(e, t) {
        var n;
        for (var r in this._entries)
            if (this._entries.hasOwnProperty(r)) {
                n = this._entries[r];
                for (var o = 0; o < n.length; o++)
                    e.call(t, n[o], r, this)
            }
    }
    ,
    n.keys = function() {
        var e = [];
        return this.forEach((function(t, n) {
            e.push(n)
        }
        )),
        o(e)
    }
    ,
    n.values = function() {
        var e = [];
        return this.forEach((function(t) {
            e.push(t)
        }
        )),
        o(e)
    }
    ,
    n.entries = function() {
        var e = [];
        return this.forEach((function(t, n) {
            e.push([n, t])
        }
        )),
        o(e)
    }
    ,
    r && (n[Symbol.iterator] = n.entries),
    n.toString = function() {
        var e = [];
        return this.forEach((function(t, n) {
            e.push(i(n) + "=" + i(t))
        }
        )),
        e.join("&")
    }
    ,
    e.URLSearchParams = t);
    var s = e.URLSearchParams.prototype;
    "function" != typeof s.sort && (s.sort = function() {
        var e = this
          , t = [];
        this.forEach((function(n, r) {
            t.push([r, n]),
            e._entries || e.delete(r)
        }
        )),
        t.sort((function(e, t) {
            return e[0] < t[0] ? -1 : e[0] > t[0] ? 1 : 0
        }
        )),
        e._entries && (e._entries = {});
        for (var n = 0; n < t.length; n++)
            this.append(t[n][0], t[n][1])
    }
    ),
    "function" != typeof s._fromString && Object.defineProperty(s, "_fromString", {
        enumerable: !1,
        configurable: !1,
        writable: !1,
        value: function(e) {
            if (this._entries)
                this._entries = {};
            else {
                var t = [];
                this.forEach((function(e, n) {
                    t.push(n)
                }
                ));
                for (var n = 0; n < t.length; n++)
                    this.delete(t[n])
            }
            var r, o = (e = e.replace(/^\?/, "")).split("&");
            for (n = 0; n < o.length; n++)
                r = o[n].split("="),
                this.append(a(r[0]), r.length > 1 ? a(r[1]) : "")
        }
    })
}(void 0 !== commonjsGlobal ? commonjsGlobal : "undefined" != typeof window ? window : "undefined" != typeof self ? self : commonjsGlobal),
function(e) {
    var t, n, r;
    if (function() {
        try {
            var t = new e.URL("b","http://a");
            return t.pathname = "c d",
            "http://a/c%20d" === t.href && t.searchParams
        } catch (e2) {
            return !1
        }
    }() || (t = e.URL,
    n = function(t, n) {
        "string" != typeof t && (t = String(t)),
        n && "string" != typeof n && (n = String(n));
        var r, o = document;
        if (n && (void 0 === e.location || n !== e.location.href)) {
            n = n.toLowerCase(),
            (r = (o = document.implementation.createHTMLDocument("")).createElement("base")).href = n,
            o.head.appendChild(r);
            try {
                if (0 !== r.href.indexOf(n))
                    throw new Error(r.href)
            } catch (d) {
                throw new Error("URL unable to set base " + n + " due to " + d)
            }
        }
        var i = o.createElement("a");
        i.href = t,
        r && (o.body.appendChild(i),
        i.href = i.href);
        var a = o.createElement("input");
        if (a.type = "url",
        a.value = t,
        ":" === i.protocol || !/:/.test(i.href) || !a.checkValidity() && !n)
            throw new TypeError("Invalid URL");
        Object.defineProperty(this, "_anchorElement", {
            value: i
        });
        var s = new e.URLSearchParams(this.search)
          , c = !0
          , l = !0
          , u = this;
        ["append", "delete", "set"].forEach((function(e) {
            var t = s[e];
            s[e] = function() {
                t.apply(s, arguments),
                c && (l = !1,
                u.search = s.toString(),
                l = !0)
            }
        }
        )),
        Object.defineProperty(this, "searchParams", {
            value: s,
            enumerable: !0
        });
        var p = void 0;
        Object.defineProperty(this, "_updateSearchParams", {
            enumerable: !1,
            configurable: !1,
            writable: !1,
            value: function() {
                this.search !== p && (p = this.search,
                l && (c = !1,
                this.searchParams._fromString(this.search),
                c = !0))
            }
        })
    }
    ,
    r = n.prototype,
    ["hash", "host", "hostname", "port", "protocol"].forEach((function(e) {
        !function(e) {
            Object.defineProperty(r, e, {
                get: function() {
                    return this._anchorElement[e]
                },
                set: function(t) {
                    this._anchorElement[e] = t
                },
                enumerable: !0
            })
        }(e)
    }
    )),
    Object.defineProperty(r, "search", {
        get: function() {
            return this._anchorElement.search
        },
        set: function(e) {
            this._anchorElement.search = e,
            this._updateSearchParams()
        },
        enumerable: !0
    }),
    Object.defineProperties(r, {
        toString: {
            get: function() {
                var e = this;
                return function() {
                    return e.href
                }
            }
        },
        href: {
            get: function() {
                return this._anchorElement.href.replace(/\?$/, "")
            },
            set: function(e) {
                this._anchorElement.href = e,
                this._updateSearchParams()
            },
            enumerable: !0
        },
        pathname: {
            get: function() {
                return this._anchorElement.pathname.replace(/(^\/?)/, "/")
            },
            set: function(e) {
                this._anchorElement.pathname = e
            },
            enumerable: !0
        },
        origin: {
            get: function() {
                var e = {
                    "http:": 80,
                    "https:": 443,
                    "ftp:": 21
                }[this._anchorElement.protocol]
                  , t = this._anchorElement.port != e && "" !== this._anchorElement.port;
                return this._anchorElement.protocol + "//" + this._anchorElement.hostname + (t ? ":" + this._anchorElement.port : "")
            },
            enumerable: !0
        },
        password: {
            get: function() {
                return ""
            },
            set: function(e) {},
            enumerable: !0
        },
        username: {
            get: function() {
                return ""
            },
            set: function(e) {},
            enumerable: !0
        }
    }),
    n.createObjectURL = function(e) {
        return t.createObjectURL.apply(t, arguments)
    }
    ,
    n.revokeObjectURL = function(e) {
        return t.revokeObjectURL.apply(t, arguments)
    }
    ,
    e.URL = n),
    void 0 !== e.location && !("origin"in e.location)) {
        var o = function() {
            return e.location.protocol + "//" + e.location.hostname + (e.location.port ? ":" + e.location.port : "")
        };
        try {
            Object.defineProperty(e.location, "origin", {
                get: o,
                enumerable: !0
            })
        } catch (e2) {
            setInterval((function() {
                e.location.origin = o()
            }
            ), 100)
        }
    }
}(void 0 !== commonjsGlobal ? commonjsGlobal : "undefined" != typeof window ? window : "undefined" != typeof self ? self : commonjsGlobal);
const appendSearchParamsToUrl = (e=getLocationHref(), t={}) => {
    const n = new URL(e);
    return Object.keys(t).forEach((function(e) {
        n.searchParams.delete(e),
        n.searchParams.append(e, t[e])
    }
    )),
    n.toString()
}
  , getUrlSearchParams = (e=getLocationHref()) => {
    const t = new URL(e)
      , n = {};
    for (const r of t.searchParams.entries())
        n[r[0]] = r[1];
    return n
}
  , getLocationHref = () => window._battle_target_ ? window._battle_target_ : location.href
  , appendLaunchSource = (e="kwai://home", t=LaunchSource.UNKNOWN) => {
    const {openFrom: n, shareId: r} = getUrlSearchParams(e);
    if (!r)
        return e;
    let o = {}
      , i = {};
    if (n)
        try {
            i = JSON.parse(n),
            o = JSON.parse(i.extParams)
        } catch (a) {}
    return appendSearchParamsToUrl(e, {
        openFrom: JSON.stringify({
            ...i,
            extParams: JSON.stringify({
                ...o,
                launch_source: t
            })
        })
    })
}
;
let OpenStatus$1 = function(e) {
    return e.FAILED = "launch:failed",
    e.SUCCESS = "launch:success",
    e.UNKNOWN = "launch:unknown",
    e
}({});
const raceVisibilitychangeAndTimeout$1 = (e=2e3) => {
    let t = !1
      , n = "hidden"
      , r = "visibilitychange";
    void 0 !== document.hidden ? (n = "hidden",
    r = "visibilitychange") : void 0 !== document.msHidden ? (n = "msHidden",
    r = "msvisibilitychange") : void 0 !== document.webkitHidden && (n = "webkitHidden",
    r = "webkitvisibilitychange");
    const o = new Promise((o => {
        const i = e => {
            t = !0,
            document[n] || e.hidden || "hidden" === document.visibilityState ? o(OpenStatus$1.SUCCESS) : o(OpenStatus$1.UNKNOWN),
            document.removeEventListener(r, i)
        }
        ;
        document.addEventListener(r, i, !1),
        setTimeout(( () => {
            t || (document.removeEventListener(r, i),
            document.hidden || t ? o(OpenStatus$1.UNKNOWN) : o(OpenStatus$1.FAILED))
        }
        ), e)
    }
    ));
    return o
}
  , versionSupport$1 = (e, t) => {
    const n = null == e ? void 0 : e.split(".")
      , r = null == t ? void 0 : t.split(".");
    for (let o = 0; o < r.length; o += 1)
        if (n[o] !== r[o])
            return n[o] = Number.isNaN(n[o]) ? "0" : n[o],
            r[o] = Number.isNaN(r[o]) ? "0" : r[o],
            +n[o] - +r[o] > 0;
    return !0
}
  , isInternalApp$1 = function() {
    const e = navigator.userAgent;
    return /(Kwai|Kwai_Lite|Kwai_Pro|ksthanos|ksNebula|livemate|kswv|pearl)\//i.test(e) || api.get("appver")
}()
  , isIos$1 = () => "ios" === _detector.os.name
  , enableULink$1 = () => isIos$1() && (_detector.os.version || 0) >= 9
  , isAndroid$1 = () => "android" === _detector.os.name || navigator.userAgent.includes("OpenHarmony")
  , isWechat$2 = () => "micromessenger" === _detector.browser.name;
function isQQ(e=navigator.userAgent) {
    return / QQ\//i.test(e)
}
const isX5Core = (e=navigator.userAgent) => / TBS\/(\S+)/i.test(e)
  , isQQBrowser = () => / MQQBrowser\/(\S+)/i.test(navigator.userAgent)
  , enableWexinWl$1 = () => !!_detector.browser.fullVersion && versionSupport$1(_detector.browser.fullVersion, "6.5.16");
let TimeoutError$1 = class extends Error {
    constructor(e) {
        super(e),
        __publicField(this, "code"),
        __publicField(this, "fnKey"),
        this.name = "TimeoutError",
        this.code = ErrorCodes.LAUNCH_TIMEOUT,
        this.fnKey = e || "unknown",
        this.message = "".concat(this.fnKey, "拉端超时")
    }
}
;
class WxJssdkInvokeError extends Error {
    constructor(e, t) {
        super(e),
        __publicField(this, "code"),
        __publicField(this, "wxApi"),
        __publicField(this, "errMsg"),
        this.name = "WxJssdkInvokeError",
        this.code = ErrorCodes.WX_JSSDK_INVOKE_ERROR,
        this.wxApi = e || "unknown",
        this.errMsg = t || "",
        this.message = "".concat(this.wxApi, "调用失败:").concat(t)
    }
}
class MatchStateError extends Error {
    constructor(e) {
        super(e),
        __publicField(this, "code"),
        __publicField(this, "fnKey"),
        this.name = "MatchStateError",
        this.code = ErrorCodes.NOT_MATCH_STATE,
        this.fnKey = e || "unknown",
        this.message = "".concat(this.fnKey, "当前state下不执行")
    }
}
let RequiredValidationError$1 = class extends Error {
    constructor(e, t="") {
        super(e),
        __publicField(this, "code"),
        this.name = "RequiredValidationError",
        this.code = ErrorCodes.REQUIRED_VALIDATION_CONFIG,
        this.message = "【".concat(e, "】缺失，请检查参数配置！").concat(t)
    }
}
;
class UseragentValidationError extends Error {
    constructor(e) {
        super(e),
        __publicField(this, "code"),
        __publicField(this, "fnKey"),
        this.name = "UseragentValidationError",
        this.code = ErrorCodes.USERAGENT_VALIDATION_ERROR,
        this.fnKey = e || "unknown",
        this.message = "".concat(this.fnKey, "不能在当前环境执行")
    }
}
const needLocationCall = isInternalApp$1 || "safari" === _detector.browser.name && (_detector.os.version || !1) && "ios" === _detector.os.name
  , schemeConfig = {
    KUAISHOU: "kwai",
    NEBULA: "ksnebula",
    pearl: "pearl",
    THANOS: "ksthanos",
    KRAFT: "kraft"
}
  , KWAI_HOME$1 = "kwai://home"
  , scheme = e => {
    if (e.state === State.DOWNLOAD)
        return Promise.reject(new MatchStateError("scheme"));
    if (!e.scheme)
        return Promise.reject(new RequiredValidationError$1("拉端配置scheme"));
    const t = appendLaunchSource((e.scheme || KWAI_HOME$1).replace(/^\w+/, schemeConfig[e.kpn]), LaunchSource.SCHEME);
    return new Promise(( (n, r) => {
        var o;
        raceVisibilitychangeAndTimeout$1(null == (o = e.commonConfig) ? void 0 : o.timeout).then((t => {
            t === OpenStatus$1.SUCCESS ? n({
                config: e
            }) : r(new TimeoutError$1("scheme"))
        }
        )),
        needLocationCall ? locationCall(t) : isQQ() && isIos$1() && "KUAISHOU" !== e.kpn || isQQBrowser() && isAndroid$1() ? aTagCall(t) : iframeCall(t)
    }
    ))
}
  , uLinkConfig = {
    KUAISHOU: "https://m.ssl.kuaishou.com/app",
    NEBULA: "https://m.ssl.kuaishouapp.com/app",
    pearl: "https://x.yuncheapp.cn/ulink/pearl/download",
    THANOS: "https://m.ssl.kuaishou.com/thanosapp",
    KRAFT: "https://spaceshipapp.cn/outapp"
}
  , covertToUniversalLinkFromSchemeUrl = (e, t) => {
    var n;
    if (!e)
        return "";
    const r = t.match(/^(\w+):\/\/(.*)$/);
    return !r || r.length < 3 ? "" : e.indexOf("?") > -1 ? e.split("?").join("/".concat(null == (n = t.match(/^(\w+):\/\/(.*)$/)) ? void 0 : n[2], "&")) : "".concat(e, "/").concat(r[2])
}
  , uLink = e => {
    var t;
    if (e.state !== State.LAUNCH_OR_DOWNLOAD)
        return Promise.reject(new MatchStateError("uLink"));
    if (!enableULink$1())
        return Promise.reject(new UseragentValidationError("uLink"));
    const n = appendLaunchSource(e.scheme, LaunchSource.UNIVERSAL_LINK)
      , r = null == (t = e.commonConfig) ? void 0 : t.uLinkFallbackUrl
      , o = r ? "".concat(uLinkConfig[e.kpn], "?fallbackUrl=").concat(encodeURIComponent(r)) : uLinkConfig[e.kpn]
      , i = covertToUniversalLinkFromSchemeUrl(o, n);
    return new Promise(( (t, r) => {
        var o;
        raceVisibilitychangeAndTimeout$1(null == (o = e.commonConfig) ? void 0 : o.timeout).then((n => {
            n === OpenStatus$1.SUCCESS ? t({
                config: {
                    ...e,
                    commonConfig: {
                        link: i
                    }
                }
            }) : r(new TimeoutError$1("uLink"))
        }
        )),
        locationCall(isInternalApp$1 ? n : i)
    }
    ))
}
  , yybConfig = {
    KUAISHOU: "http://a.app.qq.com/o/simple.jsp?pkgname=com.smile.gifmaker&g_f=99",
    NEBULA: "https://a.app.qq.com/o/simple.jsp?pkgname=com.kuaishou.nebula",
    pearl: "https://a.app.qq.com/o/simple.jsp?pkgname=com.yuncheapp.android.pearl",
    THANOS: "https://a.app.qq.com/o/simple.jsp?pkgname=com.kwai.thanos",
    KRAFT: "https://a.app.qq.com/o/simple.jsp?pkgname=com.kwai.oscar"
}
  , appStoreConfig = {
    KUAISHOU: "https://itunes.apple.com/app/apple-store/id440948110?pt=572643&mt=8",
    NEBULA: "https://itunes.apple.com/app/apple-store/id1472502819?mt=8",
    pearl: "https://itunes.apple.com/cn/app/id1460780787?mt=8",
    THANOS: "https://itunes.apple.com/app/apple-store/id1439077104?pt=572643&mt=8",
    KRAFT: "https://itunes.apple.com/app/apple-store/id6505141545"
}
  , appParamForYybMap = {
    KUAISHOU: "android_scheme",
    NEBULA: "",
    pearl: "",
    THANOS: "",
    KRAFT: ""
}
  , download = e => {
    var t, n, r, o, i, a, s, c;
    if (e.state === State.LAUNCH)
        return Promise.reject(new MatchStateError("download"));
    let l = "";
    if (isIos$1()) {
        l = (null == (n = null == (t = e.commonConfig) ? void 0 : t.download) ? void 0 : n.ios) || appStoreConfig[e.kpn];
        const i = null == (o = null == (r = e.commonConfig) ? void 0 : r.download) ? void 0 : o.channel;
        i && (l = appendSearchParamsToUrl(l, {
            ct: i
        }))
    }
    if (isAndroid$1()) {
        l = (null == (a = null == (i = e.commonConfig) ? void 0 : i.download) ? void 0 : a.android) || yybConfig[e.kpn];
        const t = appParamForYybMap[e.kpn]
          , n = appendLaunchSource(e.scheme, LaunchSource.YYB);
        (null == (c = null == (s = e.commonConfig) ? void 0 : s.download) ? void 0 : c.useAppParam) && t && e.scheme && 0 !== e.scheme.indexOf("kwai://home") && (l = appendSearchParamsToUrl(l, {
            [t]: n
        }))
    }
    return l ? new Promise(( (t, n) => {
        var r;
        raceVisibilitychangeAndTimeout$1(null == (r = e.commonConfig) ? void 0 : r.timeout).then((r => {
            r === OpenStatus$1.SUCCESS ? t({
                config: {
                    ...e,
                    commonConfig: {
                        downloadUrl: l
                    }
                }
            }) : n(new TimeoutError$1("download"))
        }
        )),
        locationCall(l)
    }
    )) : Promise.reject(new RequiredValidationError$1("downloadUrl"))
}
  , wxAppIdConfig = {
    KUAISHOU: "wx9227d48257374438",
    NEBULA: "wx9227d48257374438",
    pearl: "",
    THANOS: "wx9227d48257374438",
    KRAFT: "wx9227d48257374438"
}
  , WX_LAUNCH_APP_OK_MSG = "launchApplication:ok"
  , getPathOfScheme = e => (null == e ? void 0 : e.split("://")[1]) || ""
  , wxLaunch = e => {
    var t, n;
    if (e.state === State.DOWNLOAD)
        return Promise.reject(new MatchStateError("wxLaunch"));
    const r = null == (t = e.commonConfig) ? void 0 : t.wx;
    if (!enableWexinWl$1)
        return Promise.reject(new UseragentValidationError("wxLaunch"));
    if (!r)
        return Promise.reject(new RequiredValidationError$1("拉端配置commonConfig.wx"));
    let o = "";
    if (isWechat$2() && (o = (null == (n = e.commonConfig) ? void 0 : n.wxAppId) || wxAppIdConfig[e.kpn]),
    !o)
        return Promise.reject(new RequiredValidationError$1("拉端配置commonConfig.wxAppId"));
    const i = appendLaunchSource(e.scheme, LaunchSource.WX_SDK);
    return new Promise(( (t, n) => {
        r.invoke("launchApplication", {
            appID: o,
            parameter: getPathOfScheme(i)
        }, (r => {
            r.err_msg !== WX_LAUNCH_APP_OK_MSG ? n(new WxJssdkInvokeError("launchApplication",r.err_msg)) : t({
                config: e
            })
        }
        ))
    }
    ))
}
  , pkgNameMap = {
    KUAISHOU: "com.smile.gifmaker",
    NEBULA: "com.kuaishou.nebula",
    pearl: "",
    THANOS: "",
    KRAFT: "com.kwai.oscar"
}
  , marketMap = {
    mi: e => "mimarket://details?id=".concat(e, "&back=true"),
    huawei: e => "appmarket://details?id=".concat(e, "&back=true"),
    oppo: e => "oppomarket://details?packagename=".concat(e),
    vivo: e => "vivomarket://details?id=".concat(e),
    market: e => "market://details?id=".concat(e)
}
  , getMarket = e => {
    const t = pkgNameMap[e] || pkgNameMap.KUAISHOU
      , n = _detector.device.name;
    let r = marketMap.market;
    return n && Object.keys(marketMap).includes(n) && (r = marketMap[n]),
    r(t)
}
  , market = e => {
    var t, n;
    if (e.state === State.LAUNCH)
        return Promise.reject(new MatchStateError("market"));
    let r = getMarket(e.kpn);
    return (null == (t = e.commonConfig) ? void 0 : t.market) && (r = null == (n = e.commonConfig) ? void 0 : n.market),
    new Promise(( (t, n) => {
        var o;
        raceVisibilitychangeAndTimeout$1(null == (o = e.commonConfig) ? void 0 : o.timeout).then((r => {
            r === OpenStatus$1.SUCCESS ? t({
                config: e
            }) : n(new TimeoutError$1("market"))
        }
        )),
        iframeCall(r)
    }
    ))
}
;
let LaunchAppErrorCodes = function(e) {
    return e[e.EXECUTION_LAUNCH_UNIT = 0] = "EXECUTION_LAUNCH_UNIT",
    e[e.VALIDATION_CONFIG = 1] = "VALIDATION_CONFIG",
    e[e.REQUIRED_VALIDATION_CONFIG = 2] = "REQUIRED_VALIDATION_CONFIG",
    e
}({});
class ExecutionError extends Error {
    constructor(e) {
        super(e),
        __publicField(this, "code"),
        __publicField(this, "fnKey"),
        this.name = "ExecutionError",
        this.code = LaunchAppErrorCodes.EXECUTION_LAUNCH_UNIT,
        this.fnKey = e || "unknown",
        this.message = "".concat(this.fnKey, "执行异常")
    }
}
class Chain extends TinyEmitter {
    constructor() {
        super(),
        __publicField(this, "middlewares"),
        __publicField(this, "restMiddlewares"),
        this.middlewares = [],
        this.restMiddlewares = []
    }
    use(...e) {
        return e.forEach((e => {
            "function" == typeof e && this.middlewares.push(e)
        }
        )),
        this
    }
    next(e) {
        if (this.restMiddlewares.length) {
            const n = {
                emit: (e, ...t) => this.emit(e, ...t)
            }
              , r = this.restMiddlewares.shift()
              , o = e => this.next(e);
            if (r)
                try {
                    r(n, o, e)
                } catch (t) {
                    throw new ExecutionError(r.key || r.name)
                }
        }
    }
    execute(e) {
        return this.restMiddlewares = this.middlewares.map((e => e)),
        this.next(e)
    }
    getChainList() {
        return this.middlewares
    }
}
class Dispatcher {
    constructor(e) {
        __publicField(this, "chain"),
        __publicField(this, "units", []),
        __publicField(this, "unitsList", []),
        this.units = e,
        this.chain = this.buildChain()
    }
    resolveUnits(e) {
        this.unitsList = e.map(( (t, n) => {
            const r = (r, o, i) => {
                const a = n < e.length - 1;
                var s;
                (s = i,
                r.emit("start", {
                    key: t.key,
                    index: n,
                    hasNext: a,
                    error: null
                }),
                t(s)).then((e => {
                    r.emit("success", {
                        key: t.key,
                        index: n,
                        hasNext: a,
                        error: null,
                        ...e
                    })
                }
                )).catch((e => {
                    r.emit("failed", {
                        key: t.key,
                        index: n,
                        hasNext: a,
                        config: i,
                        error: e
                    }),
                    o(i)
                }
                ))
            }
            ;
            return r.key = t.key,
            r
        }
        ))
    }
    buildChain() {
        this.resolveUnits(this.units);
        const e = new Chain;
        return this.unitsList.forEach((t => e.use(t))),
        e
    }
    execute(e) {
        this.chain.execute(e)
    }
}
var schema = {
    exports: {}
}
  , dot = {};
function isSafe(e, t) {
    return isObject(e) ? void 0 === e[t] || hasOwnProperty(e, t) : !!Array.isArray(e) && !isNaN(parseInt(t, 10))
}
function hasOwnProperty(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t)
}
function isObject(e) {
    return "[object Object]" === Object.prototype.toString.call(e)
}
dot.set = function(e, t, n) {
    for (var r = t.split("."), o = r.pop(), i = e, a = 0; a < r.length; a++) {
        var s = r[a];
        if (!isSafe(e, s))
            return i;
        e[s] = e[s] || {},
        e = e[s]
    }
    return isSafe(e, o) && (e[o] = n),
    i
}
,
dot.get = function(e, t) {
    for (var n = t.split("."), r = n.pop(), o = 0; o < n.length; o++) {
        var i = n[o];
        if (!e[i])
            return;
        e = e[i]
    }
    return e[r]
}
,
dot.delete = function(e, t) {
    for (var n = t.split("."), r = n.pop(), o = 0; o < n.length; o++) {
        var i = n[o];
        if (!e[i])
            return;
        if (!isSafe(e, i))
            return;
        e = e[i]
    }
    isSafe(e, r) && (Array.isArray(e) ? e.splice(r, 1) : delete e[r])
}
;
var typecast_1 = typecast;
function typecast(e, t) {
    var n = typecast[t];
    if ("function" != typeof n)
        throw new Error("cannot cast to " + t);
    return n(e)
}
typecast.string = function(e) {
    return e.toString()
}
,
typecast.number = function(e) {
    var t = parseFloat(e);
    return isNaN(t) ? null : t
}
,
typecast.date = function(e) {
    var t = new Date(e);
    return isNaN(t.valueOf()) ? null : t
}
,
typecast.array = function(e) {
    if (e instanceof Array)
        return e;
    for (var t = e.toString().split(","), n = 0; n < t.length; n++)
        t[n] = t[n].trim();
    return t
}
,
typecast.boolean = function(e) {
    return !!e && "false" !== e
}
;
var property = {
    exports: {}
}
  , error = {
    exports: {}
};
!function(e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    function r(e) {
        var t = s();
        return function() {
            var r, i = l(e);
            if (t) {
                var a = l(this).constructor;
                r = Reflect.construct(i, arguments, a)
            } else
                r = i.apply(this, arguments);
            return function(e, t) {
                if (t && ("object" === n(t) || "function" == typeof t))
                    return t;
                if (void 0 !== t)
                    throw new TypeError("Derived constructors may only return object or undefined");
                return o(e)
            }(this, r)
        }
    }
    function o(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function i(e) {
        var t = "function" == typeof Map ? new Map : void 0;
        return i = function(e) {
            if (null === e || (n = e,
            -1 === Function.toString.call(n).indexOf("[native code]")))
                return e;
            var n;
            if ("function" != typeof e)
                throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== t) {
                if (t.has(e))
                    return t.get(e);
                t.set(e, r)
            }
            function r() {
                return a(e, arguments, l(this).constructor)
            }
            return r.prototype = Object.create(e.prototype, {
                constructor: {
                    value: r,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            c(r, e)
        }
        ,
        i(e)
    }
    function a(e, t, n) {
        return (a = s() ? Reflect.construct : function(e, t, n) {
            var r = [null];
            r.push.apply(r, t);
            var o = new (Function.bind.apply(e, r));
            return n && c(o, n.prototype),
            o
        }
        ).apply(null, arguments)
    }
    function s() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
            return !1;
        if (Reflect.construct.sham)
            return !1;
        if ("function" == typeof Proxy)
            return !0;
        try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
            ))),
            !0
        } catch (e2) {
            return !1
        }
    }
    function c(e, t) {
        return (c = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t,
            e
        }
        )(e, t)
    }
    function l(e) {
        return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        }
        )(e)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    var u = function(e) {
        !function(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && c(e, t)
        }(i, e);
        var t, n = r(i);
        function i(e, t) {
            var r;
            return function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, i),
            r = n.call(this, e),
            p(o(r), "path", t),
            p(o(r), "expose", !0),
            p(o(r), "status", 400),
            Error.captureStackTrace && Error.captureStackTrace(o(r), i),
            r
        }
        return t = i,
        Object.defineProperty(t, "prototype", {
            writable: !1
        }),
        t
    }(i(Error));
    t.default = u;
    var p = function(e, t, n) {
        Object.defineProperty(e, t, {
            enumerable: !1,
            configurable: !0,
            writable: !0,
            value: n
        })
    };
    e.exports = t.default
}(error, error.exports);
var errorExports = error.exports
  , utils$3 = {}
  , toString = Object.prototype.toString
  , componentType = function(e) {
    switch (toString.call(e)) {
    case "[object Date]":
        return "date";
    case "[object RegExp]":
        return "regexp";
    case "[object Arguments]":
        return "arguments";
    case "[object Array]":
        return "array";
    case "[object Error]":
        return "error"
    }
    return null === e ? "null" : void 0 === e ? "undefined" : e != e ? "nan" : e && 1 === e.nodeType ? "element" : isBuffer$1(e) ? "buffer" : typeof (e = e.valueOf ? e.valueOf() : Object.prototype.valueOf.apply(e))
};
function isBuffer$1(e) {
    return !(null == e || !(e._isBuffer || e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)))
}
Object.defineProperty(utils$3, "__esModule", {
    value: !0
}),
utils$3.assign = assign$1,
utils$3.enumerate = enumerate,
utils$3.join = join,
utils$3.walk = walk;
var _dot = _interopRequireDefault(dot)
  , _componentType = _interopRequireDefault(componentType);
function _interopRequireDefault(e) {
    return e && e.__esModule ? e : {
        default: e
    }
}
function _slicedToArray(e, t) {
    return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest()
}
function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}
function _unsupportedIterableToArray(e, t) {
    if (e) {
        if ("string" == typeof e)
            return _arrayLikeToArray(e, t);
        var n = Object.prototype.toString.call(e).slice(8, -1);
        return "Object" === n && e.constructor && (n = e.constructor.name),
        "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _arrayLikeToArray(e, t) : void 0
    }
}
function _arrayLikeToArray(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var n = 0, r = new Array(t); n < t; n++)
        r[n] = e[n];
    return r
}
function _iterableToArrayLimit(e, t) {
    var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
    if (null != n) {
        var r, o, i = [], a = !0, s = !1;
        try {
            for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value),
            !t || i.length !== t); a = !0)
                ;
        } catch (c) {
            s = !0,
            o = c
        } finally {
            try {
                a || null == n.return || n.return()
            } finally {
                if (s)
                    throw o
            }
        }
        return i
    }
}
function _arrayWithHoles(e) {
    if (Array.isArray(e))
        return e
}
function assign$1(e, t, n) {
    "string" != typeof e ? Object.keys(e).forEach((function(t) {
        return n[t] = e[t]
    }
    )) : n[e] = t
}
function enumerate(e, t, n) {
    var r = e.split(/\.\$(?=\.|$)/)
      , o = r.shift()
      , i = _dot.default.get(t, o);
    if (!r.length)
        return n(o, i);
    if (Array.isArray(i))
        for (var a = 0; a < i.length; a++) {
            enumerate(join(a, o) + r.join(".$"), t, n)
        }
}
function walk(e, t, n, r) {
    var o = (0,
    _componentType.default)(e);
    if ("array" !== o) {
        if ("object" === o)
            for (var i = 0, a = Object.entries(e); i < a.length; i++) {
                var s = _slicedToArray(a[i], 2)
                  , c = s[0]
                  , l = s[1]
                  , u = join(c, n)
                  , p = join(c, r);
                t(u, p) && walk(l, t, u, p)
            }
    } else
        e.forEach((function(e, o) {
            return walk(e, t, join(o, n), join("$", r))
        }
        ))
}
function join(e, t) {
    return t ? "".concat(t, ".").concat(e) : e
}
!function(e, t) {
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    var n, r = (n = errorExports) && n.__esModule ? n : {
        default: n
    }, o = utils$3;
    function i(e) {
        return function(e) {
            if (Array.isArray(e))
                return c(e)
        }(e) || function(e) {
            if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                return Array.from(e)
        }(e) || s(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }
    function a(e, t) {
        return function(e) {
            if (Array.isArray(e))
                return e
        }(e) || function(e, t) {
            var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (null == n)
                return;
            var r, o, i = [], a = !0, s = !1;
            try {
                for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value),
                !t || i.length !== t); a = !0)
                    ;
            } catch (c) {
                s = !0,
                o = c
            } finally {
                try {
                    a || null == n.return || n.return()
                } finally {
                    if (s)
                        throw o
                }
            }
            return i
        }(e, t) || s(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }
    function s(e, t) {
        if (e) {
            if ("string" == typeof e)
                return c(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            return "Object" === n && e.constructor && (n = e.constructor.name),
            "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? c(e, t) : void 0
        }
    }
    function c(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++)
            r[n] = e[n];
        return r
    }
    function l(e, t, n) {
        return t && function(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r)
            }
        }(e.prototype, t),
        Object.defineProperty(e, "prototype", {
            writable: !1
        }),
        e
    }
    var u = function() {
        function e(t, n) {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.name = t,
            this.registry = {},
            this._schema = n,
            this._type = null,
            this.messages = {}
        }
        return l(e, [{
            key: "message",
            value: function(e) {
                "string" == typeof e && (e = {
                    default: e
                });
                for (var t = 0, n = Object.entries(e); t < n.length; t++) {
                    var r = a(n[t], 2)
                      , o = r[0]
                      , i = r[1];
                    this.messages[o] = i
                }
                return this
            }
        }, {
            key: "schema",
            value: function(e) {
                return this._schema.path(this.name, e),
                this
            }
        }, {
            key: "use",
            value: function(e) {
                var t = this;
                return Object.keys(e).forEach((function(n) {
                    var r = e[n];
                    Array.isArray(r) || (r = [r]);
                    var o = r.shift();
                    t._register(n, r, o)
                }
                )),
                this
            }
        }, {
            key: "required",
            value: function() {
                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                return this._register("required", [e])
            }
        }, {
            key: "type",
            value: function(e) {
                return this._type = e,
                this._register("type", [e])
            }
        }, {
            key: "string",
            value: function() {
                return this.type(String)
            }
        }, {
            key: "number",
            value: function() {
                return this.type(Number)
            }
        }, {
            key: "array",
            value: function() {
                return this.type(Array)
            }
        }, {
            key: "date",
            value: function() {
                return this.type(Date)
            }
        }, {
            key: "length",
            value: function(e) {
                return this._register("length", [e])
            }
        }, {
            key: "size",
            value: function(e) {
                return this._register("size", [e])
            }
        }, {
            key: "enum",
            value: function(e) {
                return this._register("enum", [e])
            }
        }, {
            key: "match",
            value: function(e) {
                return this._register("match", [e])
            }
        }, {
            key: "each",
            value: function(e) {
                return this._schema.path((0,
                o.join)("$", this.name), e),
                this
            }
        }, {
            key: "elements",
            value: function(e) {
                var t = this;
                return e.forEach((function(e, n) {
                    t._schema.path((0,
                    o.join)(n, t.name), e)
                }
                )),
                this
            }
        }, {
            key: "properties",
            value: function(e) {
                for (var t = 0, n = Object.entries(e); t < n.length; t++) {
                    var r = a(n[t], 2)
                      , i = r[0]
                      , s = r[1];
                    this._schema.path((0,
                    o.join)(i, this.name), s)
                }
                return this
            }
        }, {
            key: "path",
            value: function() {
                var e;
                return (e = this._schema).path.apply(e, arguments)
            }
        }, {
            key: "typecast",
            value: function(e) {
                var t = this._schema
                  , n = this._type;
                if (!n)
                    return e;
                "function" == typeof n && (n = n.name);
                var r = t.typecasters[n] || t.typecasters[n.toLowerCase()];
                if ("function" != typeof r)
                    throw new Error("Typecasting failed: No typecaster defined for ".concat(n, "."));
                return r(e)
            }
        }, {
            key: "validate",
            value: function(e, t) {
                for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.name, r = 0, o = Object.keys(this.registry); r < o.length; r++) {
                    var i = o[r]
                      , a = this._run(i, e, t, n);
                    if (a)
                        return a
                }
                return null
            }
        }, {
            key: "_run",
            value: function(e, t, n, r) {
                if (this.registry[e]) {
                    var o = this._schema
                      , a = this.registry[e]
                      , s = a.args;
                    return (a.fn || o.validators[e]).apply(void 0, [t, n].concat(i(s), [r])) ? void 0 : this._error(e, n, s, r)
                }
            }
        }, {
            key: "_register",
            value: function(e, t, n) {
                return this.registry[e] = {
                    args: t,
                    fn: n
                },
                this
            }
        }, {
            key: "_error",
            value: function(e, t, n, o) {
                var a = this._schema
                  , s = this.messages[e] || this.messages.default || a.messages[e] || a.messages.default;
                return "function" == typeof s && (s = s.apply(void 0, [o, t].concat(i(n)))),
                new r.default(s,o)
            }
        }]),
        e
    }();
    t.default = u,
    e.exports = t.default
}(property, property.exports);
var propertyExports = property.exports
  , messages = {
    exports: {}
};
!function(e, t) {
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    var n = {
        type: function(e, t, n) {
            return "function" == typeof n && (n = n.name),
            "".concat(e, " must be of type ").concat(n, ".")
        },
        required: function(e) {
            return "".concat(e, " is required.")
        },
        match: function(e, t, n) {
            return "".concat(e, " must match ").concat(n, ".")
        },
        length: function(e, t, n) {
            if ("number" == typeof n)
                return "".concat(e, " must have a length of ").concat(n, ".");
            var r = n.min
              , o = n.max;
            return r && o ? "".concat(e, " must have a length between ").concat(r, " and ").concat(o, ".") : o ? "".concat(e, " must have a maximum length of ").concat(o, ".") : r ? "".concat(e, " must have a minimum length of ").concat(r, ".") : void 0
        },
        size: function(e, t, n) {
            if ("number" == typeof n)
                return "".concat(e, " must have a size of ").concat(n, ".");
            var r = n.min
              , o = n.max;
            return void 0 !== r && void 0 !== o ? "".concat(e, " must be between ").concat(r, " and ").concat(o, ".") : void 0 !== o ? "".concat(e, " must be less than ").concat(o, ".") : void 0 !== r ? "".concat(e, " must be greater than ").concat(r, ".") : void 0
        },
        enum: function(e, t, n) {
            var r = n.slice()
              , o = r.pop();
            return "".concat(e, " must be either ").concat(r.join(", "), " or ").concat(o, ".")
        },
        illegal: function(e) {
            return "".concat(e, " is not allowed.")
        },
        default: function(e) {
            return "Validation failed for ".concat(e, ".")
        }
    };
    t.default = n,
    e.exports = t.default
}(messages, messages.exports);
var messagesExports = messages.exports
  , validators = {
    exports: {}
};
!function(e, t) {
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    var n, r = (n = componentType) && n.__esModule ? n : {
        default: n
    };
    var o = {
        required: function(e, t, n) {
            return !1 === n || null != e && "" !== e
        },
        type: function(e, t, n) {
            return null == e || ("function" == typeof n ? e.constructor === n : (0,
            r.default)(e) === n)
        },
        length: function(e, t, n) {
            if (null == e)
                return !0;
            if ("number" == typeof n)
                return e.length === n;
            var r = n.min
              , o = n.max;
            return !(r && e.length < r) && !(o && e.length > o)
        },
        size: function(e, t, n) {
            if (null == e)
                return !0;
            if ("number" == typeof n)
                return e === n;
            var r = n.min
              , o = n.max;
            return !(null != parseInt(r) && e < r) && !(null != parseInt(o) && e > o)
        },
        enum: function(e, t, n) {
            return null == e || n.includes(e)
        },
        match: function(e, t, n) {
            return null == e || n.test(e)
        }
    };
    t.default = o,
    e.exports = t.default
}(validators, validators.exports);
var validatorsExports = validators.exports;
!function(e, t) {
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = void 0;
    var n = l(dot)
      , r = l(typecast_1)
      , o = l(propertyExports)
      , i = l(messagesExports)
      , a = l(validatorsExports)
      , s = l(errorExports)
      , c = utils$3;
    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function u(e) {
        return function(e) {
            if (Array.isArray(e))
                return f(e)
        }(e) || function(e) {
            if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                return Array.from(e)
        }(e) || d(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }
    function p(e, t) {
        return function(e) {
            if (Array.isArray(e))
                return e
        }(e) || function(e, t) {
            var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (null == n)
                return;
            var r, o, i = [], a = !0, s = !1;
            try {
                for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value),
                !t || i.length !== t); a = !0)
                    ;
            } catch (c) {
                s = !0,
                o = c
            } finally {
                try {
                    a || null == n.return || n.return()
                } finally {
                    if (s)
                        throw o
                }
            }
            return i
        }(e, t) || d(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }()
    }
    function d(e, t) {
        if (e) {
            if ("string" == typeof e)
                return f(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            return "Object" === n && e.constructor && (n = e.constructor.name),
            "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? f(e, t) : void 0
        }
    }
    function f(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++)
            r[n] = e[n];
        return r
    }
    function h(e, t, n) {
        return t && function(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r)
            }
        }(e.prototype, t),
        Object.defineProperty(e, "prototype", {
            writable: !1
        }),
        e
    }
    var g = function() {
        function e() {
            var t = this
              , n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
              , o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.opts = o,
            this.hooks = [],
            this.props = {},
            this.messages = Object.assign({}, i.default),
            this.validators = Object.assign({}, a.default),
            this.typecasters = Object.assign({}, r.default),
            Object.keys(n).forEach((function(e) {
                return t.path(e, n[e])
            }
            ))
        }
        return h(e, [{
            key: "path",
            value: function(t, n) {
                var r = this
                  , i = t.split(".")
                  , a = i.pop()
                  , s = i.join(".");
                if (s && this.path(s),
                "$" === a && this.path(s).type(Array),
                n instanceof e)
                    return n.hook((function(e, n) {
                        return r.path((0,
                        c.join)(e, t), n)
                    }
                    )),
                    this.path(t, n.props);
                if (n instanceof o.default)
                    return this.props[t] = n,
                    this.propagate(t, n),
                    n;
                var l = this.props[t] || new o.default(t,this);
                if (this.props[t] = l,
                this.propagate(t, l),
                !n)
                    return l;
                if ("string" == typeof n || "function" == typeof n)
                    return l.type(n),
                    l;
                if (Array.isArray(n))
                    return l.type(Array),
                    1 === n.length ? l.each(n[0]) : l.elements(n),
                    l;
                for (var u = Object.keys(n), p = !1, d = 0, f = u; d < f.length; d++) {
                    var h = f[d];
                    if ("function" != typeof l[h]) {
                        l.type(Object),
                        p = !0;
                        break
                    }
                }
                return u.forEach((function(e) {
                    var o = n[e];
                    if (p)
                        return r.path((0,
                        c.join)(e, t), o);
                    l[e](o)
                }
                )),
                l
            }
        }, {
            key: "typecast",
            value: function(e) {
                for (var t = function() {
                    var t = p(o[r], 2)
                      , i = t[0]
                      , a = t[1];
                    (0,
                    c.enumerate)(i, e, (function(t, r) {
                        if (null != r) {
                            var o = a.typecast(r);
                            o !== r && n.default.set(e, t, o)
                        }
                    }
                    ))
                }, r = 0, o = Object.entries(this.props); r < o.length; r++)
                    t();
                return this
            }
        }, {
            key: "strip",
            value: function(e) {
                var t = this;
                return (0,
                c.walk)(e, (function(r, o) {
                    return !!t.props[o] || (n.default.delete(e, r),
                    !1)
                }
                )),
                this
            }
        }, {
            key: "enforce",
            value: function(e) {
                var t = this
                  , n = [];
                return (0,
                c.walk)(e, (function(e, r) {
                    if (t.props[r])
                        return !0;
                    var o = new s.default(i.default.illegal(e),e);
                    return n.push(o),
                    !1
                }
                )),
                n
            }
        }, {
            key: "validate",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                t = Object.assign(this.opts, t);
                var n = [];
                t.typecast && this.typecast(e),
                t.strict && n.push.apply(n, u(this.enforce(e))),
                !1 !== t.strip && this.strip(e);
                for (var r = function() {
                    var t = p(i[o], 2)
                      , r = t[0]
                      , a = t[1];
                    (0,
                    c.enumerate)(r, e, (function(t, r) {
                        var o = a.validate(r, e, t);
                        o && n.push(o)
                    }
                    ))
                }, o = 0, i = Object.entries(this.props); o < i.length; o++)
                    r();
                return n
            }
        }, {
            key: "assert",
            value: function(e, t) {
                var n = p(this.validate(e, t), 1)[0];
                if (n)
                    throw n
            }
        }, {
            key: "message",
            value: function(e, t) {
                return (0,
                c.assign)(e, t, this.messages),
                this
            }
        }, {
            key: "validator",
            value: function(e, t) {
                return (0,
                c.assign)(e, t, this.validators),
                this
            }
        }, {
            key: "typecaster",
            value: function(e, t) {
                return (0,
                c.assign)(e, t, this.typecasters),
                this
            }
        }, {
            key: "hook",
            value: function(e) {
                return this.hooks.push(e),
                this
            }
        }, {
            key: "propagate",
            value: function(e, t) {
                return this.hooks.forEach((function(n) {
                    return n(e, t)
                }
                )),
                this
            }
        }]),
        e
    }();
    t.default = g,
    g.ValidationError = s.default,
    e.exports = t.default
}(schema, schema.exports);
const detector = _detector
  , _Filter = class e {
    constructor(e) {
        __publicField(this, "filters"),
        this.filters = e || []
    }
    updateFilters(e) {
        this.filters.splice(0, this.filters.length + 1, ...e)
    }
    validate(t) {
        t && this.updateFilters(t);
        const n = this.filters.length;
        let r = 0;
        for (; r < n; ) {
            if (!this.filters[r](e.detector))
                return !1;
            r += 1
        }
        return !0
    }
}
;
__publicField(_Filter, "detector", detector);
let Filter = _Filter;
const versionSupport = (e, t) => {
    const n = null == e ? void 0 : e.split(".")
      , r = null == t ? void 0 : t.split(".");
    for (let o = 0; o < r.length; o += 1)
        if (n[o] !== r[o])
            return n[o] = Number.isNaN(n[o]) ? "0" : n[o],
            r[o] = Number.isNaN(r[o]) ? "0" : r[o],
            +n[o] - +r[o] > 0;
    return !0
}
;
let Types$1 = function(e) {
    return e.Number = "Number",
    e.BigInt = "BigInt",
    e.String = "String",
    e.Boolean = "Boolean",
    e.Undefined = "Undefined",
    e.Null = "Null",
    e.Object = "Object",
    e.Array = "Array",
    e.Function = "Function",
    e.Symbol = "Symbol",
    e.Math = "Math",
    e.JSON = "JSON",
    e.Date = "Date",
    e.RegExp = "RegExp",
    e.Error = "Error",
    e.Window = "Window",
    e.HTMLDocument = "HTMLDocument",
    e
}({});
const isType$1 = (e, t) => Object.prototype.toString.call(t) === "[object ".concat(e, "]")
  , log$1 = {
    debug: (...e) => {}
    ,
    warn: (...e) => {
        console.warn("[".concat("@ks-share/share-launch-app", "@").concat("0.0.9-beta.26", "]"), ...e)
    }
}
  , formatStrategyConfig = e => {
    var t;
    return {
        launchStrategies: {
            ...null == (t = null == e ? void 0 : e.launchStrategies) ? void 0 : t.map((e => {
                var t, n;
                return {
                    chain: null == (t = e.chain) ? void 0 : t.map((e => ({
                        key: e.key
                    }))),
                    filter: null == (n = e.filter) ? void 0 : n.map((e => ({
                        key: e.key || e.name
                    })))
                }
            }
            ))
        },
        fallbackStrategy: (null == e ? void 0 : e.fallbackStrategy) && ("function" == typeof e.fallbackStrategy ? e.fallbackStrategy.name : {
            ...e.fallbackStrategy.map((e => ({
                key: e.key || e.name
            })))
        })
    }
}
;
class ValidationError extends Error {
    constructor(e, t="") {
        super(e),
        __publicField(this, "code"),
        this.name = "ValidationError",
        this.code = LaunchAppErrorCodes.VALIDATION_CONFIG,
        this.message = "".concat(e, "\n").concat(t)
    }
}
class RequiredValidationError2 extends ValidationError {
    constructor(e, t="") {
        super(e),
        this.name = "RequiredValidationError",
        this.code = LaunchAppErrorCodes.REQUIRED_VALIDATION_CONFIG,
        this.message = "【".concat(e, "】缺失，请检查参数配置！").concat(t)
    }
}
class Resolver {
    constructor(e) {
        __publicField(this, "strategyConfig", {
            launchStrategies: [],
            fallbackStrategy: []
        }),
        __publicField(this, "strategies", []),
        __publicField(this, "fallbackStrategy", []),
        __publicField(this, "envFilter"),
        this.resolve(e),
        this.envFilter = new Filter
    }
    resolve(e) {
        var t;
        if (!e)
            throw new RequiredValidationError2("策略组 strategyConfig");
        if (!e.launchStrategies)
            throw new RequiredValidationError2("策略组 strategyConfig.launchStrategies");
        this.strategyConfig = e,
        this.strategies = [...this.strategyConfig.launchStrategies];
        const n = null == (t = this.strategyConfig) ? void 0 : t.fallbackStrategy;
        if (!n)
            throw new RequiredValidationError2("兜底策略 strategyConfig.fallbackStrategy");
        this.fallbackStrategyResolve(n)
    }
    fallbackStrategyResolve(e) {
        "function" == typeof e ? this.fallbackStrategy = [e] : e instanceof Array && (this.fallbackStrategy = e)
    }
    filter() {
        const e = this.strategies.length;
        let t = 0;
        for (; t < e; ) {
            const e = this.strategies[t].filter;
            if (!(null == e ? void 0 : e.length) || this.envFilter.validate(e))
                return this.strategies[t].chain;
            t += 1
        }
        return this.fallbackStrategy
    }
}
let HookName = function(e) {
    return e.CHAIN_START = "CHAIN_START",
    e.CHAIN_END = "CHAIN_END",
    e.READY = "READY",
    e.UNIT_START = "UNIT_START",
    e.UNIT_END = "UNIT_END",
    e
}({});
const extParams = {
    sdkName: "@ks-share/share-launch-app",
    sdkVersion: "0.0.9-beta.26"
};
class Hook {
    constructor() {
        __publicField(this, "latestValues"),
        __publicField(this, "hooks"),
        this.hooks = {},
        this.latestValues = {}
    }
    registerHook(e, t, n) {
        this.hooks[e] || (this.hooks[e] = []),
        this.hooks[e].push(t),
        (null == n ? void 0 : n.buffer) && this.latestValues[e] && this.doCallHook(e, {
            ...this.latestValues[e],
            extParams: extParams
        })
    }
    callHook(e, t) {
        this.latestValues[e] = t,
        this.doCallHook(e, {
            ...t,
            extParams: extParams
        })
    }
    doCallHook(e, t) {
        var n;
        null == (n = this.hooks[e]) || n.forEach((e => {
            try {
                Promise.resolve(e(t)).catch(( () => {}
                ))
            } catch (n) {}
        }
        ))
    }
}
class LaunchApp extends Hook {
    constructor(e, t) {
        super(),
        __publicField(this, "config", {
            kpn: "KUAISHOU"
        }),
        __publicField(this, "resolver"),
        __publicField(this, "dispatcher"),
        __publicField(this, "errorList", []),
        __publicField(this, "originChain", []),
        this.resolveConfig(e),
        log$1.debug("strategy config is", t && formatStrategyConfig(t)),
        this.resolver = new Resolver(t),
        this.init()
    }
    resolveConfig(e) {
        if (!e)
            throw new RequiredValidationError2("拉端参数 config");
        if (!e.kpn)
            throw new RequiredValidationError2("拉端kpn config.kpn",JSON.stringify(e));
        this.config = e
    }
    mergeConfig(e) {
        e && (this.config = merge$2(this.config, e))
    }
    init() {
        var e;
        const t = this.resolver.filter()
          , n = t.map((e => ({
            key: e.key
        })));
        this.dispatcher = new Dispatcher(t),
        this.originChain = null == (e = this.dispatcher.chain.getChainList()) ? void 0 : e.map((e => e.key || "unknown")),
        this.bindEvents(),
        this.callHook(HookName.READY, {
            chain: n,
            originChain: this.originChain
        })
    }
    bindEvents() {
        this.dispatcher.chain.on("start", (e => {
            const t = {
                openMethod: e,
                originChain: this.originChain
            };
            log$1.debug("unit ".concat(e.key, " start"), t),
            this.callHook(HookName.UNIT_START, t)
        }
        )),
        this.dispatcher.chain.on("success", (e => {
            const t = {
                result: "success",
                openMethod: e,
                chain: [...this.errorList, e],
                originChain: this.originChain
            };
            log$1.debug("unit ".concat(e.key, " success"), t),
            this.callHook(HookName.UNIT_END, t),
            this.callHook(HookName.CHAIN_END, t),
            this.errorList = []
        }
        )),
        this.dispatcher.chain.on("failed", (e => {
            this.errorList.push(e);
            const t = {
                result: "failed",
                openMethod: e,
                chain: this.errorList,
                originChain: this.originChain
            };
            log$1.debug("unit ".concat(e.key, " failed"), t),
            this.callHook(HookName.UNIT_END, t),
            e.hasNext || (this.callHook(HookName.CHAIN_END, t),
            this.errorList = [])
        }
        ))
    }
    launch(e) {
        e && this.mergeConfig(e),
        log$1.debug("launch config is", this.config),
        this.callHook(HookName.CHAIN_START, {
            originChain: this.originChain
        }),
        this.dispatcher.execute(this.config)
    }
    destroy() {
        this.dispatcher.chain.off("success"),
        this.dispatcher.chain.off("failed")
    }
}
const isIos = e => "ios" === e.os.name
  , isAndroid = e => "android" === e.os.name || navigator.userAgent.includes("OpenHarmony")
  , isWechat$1 = e => "micromessenger" === e.browser.name
  , enableWexinWl = e => !!e.browser.fullVersion && versionSupport(e.browser.fullVersion, "6.5.16")
  , enableULink = e => isIos(e) && ((e.os.version || -1) >= 9 && "safari" === e.browser.name || "tx-game" === e.browser.name)
  , enableAppLink = e => isAndroid(e) && (e.os.version || -1) >= 6 && ("chrome" === e.browser.name || "samsung" === e.browser.name);
var basicFilters = Object.freeze({
    __proto__: null,
    enableAppLink: enableAppLink,
    enableULink: enableULink,
    enableWexinWl: enableWexinWl,
    isAndroid: isAndroid,
    isIos: isIos,
    isWechat: isWechat$1
});
const makeLaunchApp = (e, t) => {
    if (!e || !isType$1(Types$1.Object, e) || !Object.keys(e).length)
        throw new RequiredValidationError2("拉端基础方法 customUnits");
    const n = {
        ...e
    };
    return Object.keys(n).forEach((e => {
        n[e].key = e
    }
    )),
    {
        units: n,
        filters: {
            ...basicFilters,
            ...null != t ? t : {}
        },
        init: (e, t) => new LaunchApp(e,t)
    }
}
;
let TYPE = function(e) {
    return e[e.CHANNEL = 0] = "CHANNEL",
    e[e.SHARE = 1] = "SHARE",
    e
}({})
  , LogType = function(e) {
    return e.DP = "DP",
    e.TOKEN = "TOKEN",
    e.INIT = "INIT",
    e.PV = "PV",
    e
}({})
  , LaunchAPPState = function(e) {
    return e.INIT = "INIT",
    e.INITIALIZED = "INITIALIZED",
    e.LAUNCH_START = "LAUNCH_START",
    e.LAUNCH_END = "LAUNCH_END",
    e.COPY_START = "COPY_START",
    e.COPY_END = "COPY_END",
    e.ERROR = "ERROR",
    e
}({});
const DEFAULT_MT_PRODUCT = "H5_ZT_SHARE"
  , SDK_VERSION = "".concat("@ks-share/share-launch-app", "@").concat("0.0.9-beta.26")
  , iOSDownloadMap = {
    KUAISHOU: "https://itunes.apple.com/app/apple-store/id440948110?pt=572643&mt=8",
    NEBULA: "https://itunes.apple.com/app/apple-store/id1472502819?mt=8",
    pearl: "https://itunes.apple.com/cn/app/id1460780787?mt=8",
    THANOS: "https://itunes.apple.com/app/apple-store/id1439077104?pt=572643&mt=8",
    KRAFT: "https://itunes.apple.com/app/apple-store/id6505141545"
}
  , U_LINK_FALLBACK_URL = "https://share.kuaishou.com/landpage-ios-download-fallback"
  , tokenTraceKeys = [{
    sourceKey: "did",
    targetKey: "did"
}, {
    sourceKey: "pullTimestamp",
    targetKey: "pull_timestamp"
}, {
    sourceKey: "sdkVersion",
    targetKey: "sdk_version"
}, {
    sourceKey: "traceId",
    targetKey: "_ug_tId_"
}, {
    sourceKey: "clickId",
    targetKey: "_ug_cId_"
}, {
    sourceKey: "mtProduct",
    targetKey: "mt_product"
}, {
    sourceKey: "page",
    targetKey: "page"
}, {
    sourceKey: "dpProjectTag",
    targetKey: "dp_project_tag"
}, {
    sourceKey: "shareId",
    targetKey: "sid"
}]
  , dpTraceKeys = [...tokenTraceKeys, {
    sourceKey: "position",
    targetKey: "position"
}]
  , KWAI_HOME = "kwai://home"
  , rules = [[/ wxwork\/(\S+)/i, "workWechat"], [/ MicroMessenger\/(\S+)/i, "wechat"], [/Qzone\//i, "qzone"], [/ Kwai\/(\S+)/i, "ks"], [/ ksthanos\/(\S+)/i, "ksthanos"], [/ ksNebula\/(\S+)/i, "ksnebula"], [/ QQ\/(\S+)/i, "qq"], [/__weibo__([^_]+)/i, "weibo"], [/ baiduboxapp\//i, "baidu"], [/ UCBrowser\//i, "uc"], [/ livemate\/(\S+)/i, "livemate"], [/ MQQBrowser\/(\S+)/i, "qqBrowser"], [/\(MSIE ([^;]+);/i, "ie"], [/\(i[^;]+;( U;)? CPU.+Mac OS X/i, "ios"], [/Android|Adr/i, "android"]]
  , isInternalApp2 = function() {
    const e = navigator.userAgent;
    return !(!/(Kwai|Kwai_Lite|Kwai_Pro|ksthanos|ksNebula|livemate|kswv|pearl)\//i.test(e) && !api.get("appver"))
}()
  , APP = function() {
    const e = navigator.userAgent;
    for (let t = 0; t < rules.length; t++) {
        const n = rules[t]
          , r = new RegExp(n[0])
          , o = n[1];
        if (r.exec(e))
            return o
    }
    return ""
}()
  , filterFalsyValues = e => Object.fromEntries(Object.entries(e).filter(( ([e,t]) => t)))
  , needTokenBlock = e => /(kwai|ksnebula):\/\/(webview|krn)(\?|\/)+/i.test(e)
  , genUgSt = (e, t) => {
    var n, r, o, i, a, s;
    const {logPackage: c} = e;
    let l = {
        ...null == (n = e.logPackage) ? void 0 : n.customPackage,
        ...null == (r = e.logPackage) ? void 0 : r.commonPackage
    };
    const {reportCb: u} = e;
    if (u) {
        const e = u(l, t);
        l = {
            ...l,
            ...e.traceData
        }
    }
    const p = {
        did: null != (o = null == c ? void 0 : c.basicPackage.did) ? o : "",
        mt_product: null != (i = null == l ? void 0 : l.mtProduct) ? i : "",
        _ug_tId_: null != (a = null == l ? void 0 : l.traceId) ? a : "",
        sid: null != (s = null == l ? void 0 : l.shareId) ? s : "",
        dp_project_tag: 1
    };
    return (null == l ? void 0 : l.clickId) && (p._ug_cId_ = l.clickId),
    (null == l ? void 0 : l.uaid) && (p.uaid = String(l.uaid)),
    p
}
  , generateRandomId = customAlphabet("1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", 12);
let pageTraceId = "";
const getCurrentTraceID = () => (pageTraceId || (pageTraceId = generateRandomId()),
pageTraceId)
  , getWebDid = () => api.get("did") || api.get("_did") || api.get("weblogger_did") || "";
function pickBy(e, t) {
    const n = {};
    for (const r in t)
        e(t[r], r, t) && (n[r] = t[r]);
    return n
}
const log = {
    debug: (...e) => {}
    ,
    warn: (...e) => {
        console.warn("[".concat("@ks-share/share-launch-app", "@").concat("0.0.9-beta.26", "]"), ...e)
    }
    ,
    error: (...e) => {}
};
let OpenStatus = function(e) {
    return e.FAILED = "launch:failed",
    e.SUCCESS = "launch:success",
    e.UNKNOWN = "launch:unknown",
    e
}({});
const raceVisibilitychangeAndTimeout = (e=2e3) => {
    let t = !1
      , n = "hidden"
      , r = "visibilitychange";
    void 0 !== document.hidden ? (n = "hidden",
    r = "visibilitychange") : void 0 !== document.msHidden ? (n = "msHidden",
    r = "msvisibilitychange") : void 0 !== document.webkitHidden && (n = "webkitHidden",
    r = "webkitvisibilitychange");
    const o = new Promise((o => {
        const i = e => {
            t = !0,
            document[n] || e.hidden || "hidden" === document.visibilityState ? o(OpenStatus.SUCCESS) : o(OpenStatus.UNKNOWN),
            document.removeEventListener(r, i)
        }
        ;
        document.addEventListener(r, i, !1),
        setTimeout(( () => {
            t || (document.removeEventListener(r, i),
            document.hidden || t ? o(OpenStatus.UNKNOWN) : o(OpenStatus.FAILED))
        }
        ), e)
    }
    ));
    return o
}
;
function command(e) {
    try {
        return document.execCommand(e)
    } catch (t) {
        return !1
    }
}
function createFakeElement(e) {
    const t = "rtl" === document.documentElement.getAttribute("dir")
      , n = document.createElement("textarea");
    n.style.fontSize = "12pt",
    n.style.border = "0",
    n.style.padding = "0",
    n.style.margin = "0",
    n.style.position = "absolute",
    n.style[t ? "right" : "left"] = "-9999px";
    const r = window.pageYOffset || document.documentElement.scrollTop;
    return n.style.top = "".concat(r, "px"),
    n.setAttribute("readonly", ""),
    n.value = e,
    n
}
const copy = async e => {
    let t = "";
    if ("string" == typeof e)
        try {
            if (isQQ() && isX5Core() && isAndroid$1())
                throw new Error("Try Fake Element Copy");
            await navigator.clipboard.writeText(e),
            t = e
        } catch (n) {
            const r = createFakeElement(e);
            document.body.appendChild(r),
            t = select$1(r),
            command("copy"),
            r.remove()
        }
    else
        t = select$1(e),
        command("copy");
    return {
        success: !!t,
        target: e,
        clearSelection() {
            var e;
            const t = document.activeElement;
            null == t || t.blur(),
            null == (e = window.getSelection()) || e.removeAllRanges()
        }
    }
}
  , weblog = new Weblog({
    env: "production",
    proto: "v3",
    fps: !1,
    timing: !1,
    autoPV: !1
},{
    product_name: "SHARE_LAUNCH",
    h5_extra_attr: {
        dp_project_tag: 1
    }
})
  , core = new b$2({
    weblogger: weblog,
    projectId: "37706852a7"
})
  , collect = new P$1({
    core: core,
    sampling: 1,
    whiteUrlList: []
});
let EventNameMap = function(e) {
    return e.INIT = "INIT",
    e.SEND_TP_ONCE = "SEND_TP_ONCE",
    e.LAUNCH_START = "LAUNCH_START",
    e.CHAIN_START = "CHAIN_START",
    e.COPY = "COPY",
    e.LAUNCH_END = "LAUNCH_END",
    e.UNIT_START = "UNIT_START",
    e.UNIT_END = "UNIT_END",
    e
}({})
  , CopyResultTypeMap = function(e) {
    return e.COPY_BLOCK = "copy-block",
    e.NONE_TOKEN = "none-token",
    e.COPY_SUCCESS = "copy-success",
    e.COPY_FAILED = "copy-failed",
    e
}({});
const EventName2Action = {
    [EventNameMap.INIT]: "PV",
    [EventNameMap.LAUNCH_START]: "OPEN_APP",
    [EventNameMap.COPY]: "PULL_CODE_WRITE"
}
  , isTrackEventName = e => [EventNameMap.INIT, EventNameMap.LAUNCH_START, EventNameMap.COPY].includes(e)
  , defaultData = {
    type: TYPE.SHARE
};
let basicData = {
    ...defaultData
};
const LAUNCH_KEYS = ["openMethod", "originChain"]
  , formatLaunchData = (e, t) => "openMethod" === t ? e.openMethod.key : "originChain" === t ? e.originChain.join("-") : e[t]
  , collectEvent = (e, t) => {
    var n;
    if (e === TYPE.SHARE) {
        let e = {
            ...t.extra_info
        };
        t.extra_info && Object.keys(t.extra_info).forEach((n => {
            LAUNCH_KEYS.includes(n) && (e = {
                ...e,
                [n]: formatLaunchData(t.extra_info, n)
            }),
            basicData = {
                ...basicData,
                [n]: e[n]
            }
        }
        )),
        collect.event({
            ...t,
            result_type: t.result_type || (null == (n = t.extra_info) ? void 0 : n.result) || "",
            extra_info: JSON.stringify({
                ...basicData,
                ...e
            })
        })
    }
}
  , sendTrack = (e, t, n) => {
    var r, o, i, a, s;
    if (isTrackEventName(e))
        if (e === EventNameMap.INIT) {
            if (null == (r = t.initOption) ? void 0 : r.sendPvAsync)
                return;
            sendPagePV(t, {
                page: null != (i = null == (o = t.logPackage) ? void 0 : o.commonPackage.page) ? i : ""
            })
        } else {
            const r = genUgSt(t, e === EventNameMap.LAUNCH_START ? LogType.DP : LogType.TOKEN);
            e === EventNameMap.LAUNCH_START && (r.pull_app_type = "auto" === (null == n ? void 0 : n.launchType) ? "auto" : "manual");
            const o = EventName2Action[e]
              , i = null != (s = null == (a = t.logPackage) ? void 0 : a.basicPackage.dpUrl) ? s : "";
            weblog.sendImmediately("CLICK", {
                action: o,
                params: {
                    ...r,
                    dp_url: i
                }
            })
        }
}
  , sendPagePV = (e, t) => {
    const n = genUgSt(e, LogType.INIT)
      , r = ["did", "dp_project_tag", "page"]
      , o = {
        ...n,
        ...pickBy(( (e, t) => !r.includes(t) && e), t)
    }
      , i = t.page;
    weblog.sendImmediately("PV", {
        params: o,
        page: i
    })
}
;
function getUrlParam(e) {
    try {
        return new URL(window.location.href).searchParams.get(e)
    } catch (e2) {
        return console.error("invalid url"),
        ""
    }
}
const createParams = e => {
    const t = getUrlSearchParams();
    let n = TYPE.SHARE
      , r = {
        ...t,
        shareToken: t.shareToken ? "##".concat(t.shareToken, "##") : ""
    };
    const {initConfig: o} = e;
    o && ("openFrom"in o ? (r = {
        ...o
    },
    n = TYPE.CHANNEL) : r = {
        ...r,
        ...o
    }),
    e.params = {
        config: r,
        type: n
    },
    log.debug("init params", e.params.config);
    return {
        getParams: () => e.params,
        setParams: t => {
            var n;
            e.params = {
                ...e.params,
                config: {
                    ...null == (n = e.params) ? void 0 : n.config,
                    ...t
                }
            }
        }
    }
}
  , createLogPackage = (e, t) => {
    var n, r, o, i, a;
    e.logPackage = {
        basicPackage: {
            did: getWebDid(),
            pullTimestamp: -1,
            sdkVersion: SDK_VERSION,
            dpProjectTag: 1,
            dpUrl: ""
        },
        commonPackage: {
            clickId: "",
            page: "",
            traceId: getCurrentTraceID(),
            position: "",
            shareId: null != (r = null == (n = e.params) ? void 0 : n.config.shareId) ? r : "",
            mtProduct: null != (a = null == (i = null == (o = e.initConfig) ? void 0 : o.logExt) ? void 0 : i.mtProduct) ? a : DEFAULT_MT_PRODUCT
        },
        customPackage: {}
    };
    const s = t => {
        Object.keys(t).forEach((n => {
            n in e.logPackage.commonPackage ? e.logPackage.commonPackage[n] = t[n] : n in e.logPackage.basicPackage || (e.logPackage.customPackage = {
                ...e.logPackage.customPackage,
                [n]: t[n]
            })
        }
        )),
        log.debug("logPackage", e.logPackage)
    }
    ;
    t && s(t);
    return {
        getLogPackage: () => e.logPackage,
        mergeLogPackage: s,
        setBasicPackage: t => {
            e.logPackage.basicPackage = {
                ...e.logPackage.basicPackage,
                ...t
            }
        }
    }
}
;
let Types = function(e) {
    return e.Number = "Number",
    e.BigInt = "BigInt",
    e.String = "String",
    e.Boolean = "Boolean",
    e.Undefined = "Undefined",
    e.Null = "Null",
    e.Object = "Object",
    e.Array = "Array",
    e.Function = "Function",
    e.Symbol = "Symbol",
    e.Math = "Math",
    e.JSON = "JSON",
    e.Date = "Date",
    e.RegExp = "RegExp",
    e.Error = "Error",
    e.Window = "Window",
    e.HTMLDocument = "HTMLDocument",
    e
}({});
const isType = (e, t) => Object.prototype.toString.call(t) === "[object ".concat(e, "]")
  , xhrRequest = ({url: e, data: t, method: n="GET", async: r=!0, timeout: o}, i) => {
    const a = new XMLHttpRequest
      , s = "POST" === n ? e : appendSearchParamsToUrl(e, t);
    a.open(n, s, r),
    a.setRequestHeader("Content-Type", "application/json"),
    r && o && (a.timeout = o),
    a.onload = () => {
        a.status < 200 && a.status >= 300 && 304 !== a.status && (null == i || i(a.response))
    }
    ,
    a.ontimeout = a.onerror = e => {}
    ,
    a.send("POST" === n ? JSON.stringify(t) : null)
}
  , request = (e, t) => {
    if ("[object Object]" !== Object.prototype.toString.call(e))
        throw new TypeError("Cannot parse non-object params");
    {
        const n = {
            ...e,
            data: {
                ...e.data,
                isSmallApp: !1
            }
        };
        xhrRequest(n, t)
    }
}
  , WEB_PV_URL = "".concat(window.location.origin, "/rest/zt/share/w/tp/once")
  , {kpn: kpn$1, subBiz: subBiz, kpf: kpf, shareToken: token, shareId: shareId} = getUrlSearchParams()
  , basicLogConfigMap = {
    show: {
        kpn: kpn$1,
        subBiz: subBiz,
        kpf: kpf,
        did: api.get("did"),
        token: token,
        url: getLocationHref(),
        extParams: {
            sdkName: "@ks-share/share-launch-app",
            sdkVersion: "0.0.9-beta.26"
        }
    }
}
  , shareLog = {
    collect: (e, t={}) => {
        if (!basicLogConfigMap[e])
            throw new TypeError("invalid logType,the expectation is 'show'");
        if (!isType(Types.Object, t))
            throw new TypeError("Cannot parse non-object params");
        const n = pickBy$1((e => !!e), t)
          , r = {
            ...basicLogConfigMap[e],
            ...n,
            extParams: mergeDeepLeft(basicLogConfigMap[e].extParams, t.extParams || {})
        };
        if (!r.subBiz || !r.shareId && !shareId)
            throw new Error("subBiz and shareId cannot be empty");
        request({
            url: WEB_PV_URL,
            data: r,
            method: "POST"
        }, (e => {}
        ))
    }
}
  , createReport = e => {
    var t;
    (null == (t = e.params) ? void 0 : t.config.kpn) || log.warn("kpn缺失，请使用快手/极速版分享落地页拉端");
    const n = (t, n=tokenTraceKeys) => {
        const {basicPackage: r, commonPackage: o} = e.logPackage
          , i = {
            ...t,
            ...r
        }
          , a = (t => {
            const {basicPackage: n, commonPackage: r} = e.logPackage
              , o = {};
            for (const e in t)
                e in n || e in r || (o[e] = t[e]);
            return o
        }
        )(t)
          , s = {};
        for (const {sourceKey: e, targetKey: c} of n) {
            const t = i[e];
            t ? s[c] = t : e in r ? s[c] = r[e] : e in o && (s[c] = o[e])
        }
        return filterFalsyValues({
            ...a,
            ...s
        })
    }
      , r = (t=LogType.TOKEN) => {
        var n, r;
        const o = {
            ...null == (n = e.logPackage) ? void 0 : n.customPackage,
            ...null == (r = e.logPackage) ? void 0 : r.commonPackage
        }
          , {reportCb: i} = e;
        return i ? i(o, t) : {
            traceData: o
        }
    }
    ;
    return {
        show: t => {
            var n, r, o, i, a, s, c;
            const l = ["kpn", "subBiz", "token", "shareId"]
              , u = ["kpf", "url"]
              , p = (e={}, t, n) => pickBy(n ? (e, n) => !t.includes(n) && e : (e, n) => t.includes(n) && e, e);
            let d = p(null == (n = e.params) ? void 0 : n.config, l);
            const f = null == (r = e.params) ? void 0 : r.config.shareToken;
            d && f && (d.token = f);
            let h = {
                ...null == (i = null == (o = e.params) ? void 0 : o.config) ? void 0 : i.logExt,
                mtProduct: null == (a = e.logPackage) ? void 0 : a.commonPackage.mtProduct
            };
            if (t) {
                const n = t({
                    ...null == (s = e.logPackage) ? void 0 : s.customPackage,
                    ...null == (c = e.logPackage) ? void 0 : c.commonPackage
                }, LogType.PV).traceData;
                n && (d = {
                    ...d,
                    ...p(n, u)
                },
                h = {
                    ...h,
                    ...p(n, [...l, ...u], !0)
                })
            }
            try {
                const t = {
                    ...d,
                    extParams: {
                        ...h,
                        from: "".concat("@ks-share/share-launch-app", "@").concat("0.0.9-beta.26")
                    }
                };
                collectEvent(e.params.type, {
                    name: EventNameMap.SEND_TP_ONCE,
                    extra_info: t.extParams
                }),
                shareLog.collect("show", t)
            } catch (g) {
                log.warn(g.message)
            }
        }
        ,
        collect: (t, n, r) => {
            var o, i, a, s;
            let c;
            (null == (o = null == n ? void 0 : n.extParams) ? void 0 : o.sdkName) && (c = "".concat("@ks-share/share-launch-app", "@").concat("0.0.9-beta.26", "#").concat(null == (i = null == n ? void 0 : n.extParams) ? void 0 : i.sdkName, "@").concat(null == (a = null == n ? void 0 : n.extParams) ? void 0 : a.sdkVersion));
            const {clickId: l, traceId: u, mtProduct: p} = (null == (s = e.logPackage) ? void 0 : s.commonPackage) || {}
              , d = {
                ...n,
                _ug_tId_: u
            };
            l && (d._ug_cId_ = l),
            c && (d.from = c),
            d.mtProduct = p,
            sendTrack(t, e, n),
            collectEvent(e.params.type, {
                name: t,
                result_type: r,
                extra_info: d
            })
        }
        ,
        normalizeTokenTraceData: (e="") => {
            const t = {
                clipboardText: e,
                error: !1,
                errorMessage: ""
            }
              , o = r(LogType.TOKEN)
              , i = n(o.traceData)
              , a = Object.keys(i).map((e => "".concat(e, "=").concat(i[e]))).join(";");
            try {
                t.clipboardText = "".concat(e, "|||").concat(encodeURIComponent(window.btoa(a))),
                o.extraClipboardText && (t.clipboardText += o.extraClipboardText)
            } catch (s) {
                t.error = !0,
                t.errorMessage = s.message
            }
            return {
                ...t,
                traceData: i
            }
        }
        ,
        normalizeDpTraceData: t => {
            const o = t || KWAI_HOME
              , i = getUrlSearchParams(o)
              , a = i.tokenBlock;
            let s = o;
            const {type: c, config: l} = e.params || {}
              , u = r(LogType.DP)
              , p = n(u.traceData, dpTraceKeys);
            if (c === TYPE.CHANNEL)
                s = appendSearchParamsToUrl(o, {
                    openFrom: i.openFrom || (null == l ? void 0 : l.openFrom) || "",
                    ug_st: JSON.stringify(genUgSt(e, LogType.DP)),
                    mt_product: p.mt_product
                });
            else if (c === TYPE.SHARE) {
                const t = (t => {
                    const {cc: n, fid: r, shareId: o} = e.params.config
                      , {did: i, page: a, position: s} = t
                      , c = {
                        share_id: o
                    };
                    return Object.keys(t).forEach((e => {
                        "did" !== e && "page" !== e && "position" !== e && (c[e] = t[e])
                    }
                    )),
                    {
                        url: getLocationHref(),
                        cc: n,
                        fid: r,
                        did: i,
                        from: APP,
                        channel: "share",
                        extParams: JSON.stringify(c),
                        page: a,
                        position: s
                    }
                }
                )(p);
                s = appendSearchParamsToUrl(o, {
                    mt_product: p.mt_product,
                    subBiz: (null == l ? void 0 : l.subBiz) || "",
                    shareId: (null == l ? void 0 : l.shareId) || "",
                    openFrom: JSON.stringify(t),
                    tokenBlock: (null != a ? a : needTokenBlock(o)) ? "1" : "",
                    ug_st: JSON.stringify(genUgSt(e, LogType.DP))
                })
            }
            return s
        }
    }
}
;
!function(e, t) {
    "function" == typeof define && (define.amd || define.cmd) ? define((function() {
        return t(e)
    }
    )) : t(e, !0)
}(window, (function(e, t) {
    if (!e.jWeixin) {
        var n, r = {
            config: "preVerifyJSAPI",
            onMenuShareTimeline: "menu:share:timeline",
            onMenuShareAppMessage: "menu:share:appmessage",
            onMenuShareQQ: "menu:share:qq",
            onMenuShareWeibo: "menu:share:weiboApp",
            onMenuShareQZone: "menu:share:QZone",
            previewImage: "imagePreview",
            getLocation: "geoLocation",
            openProductSpecificView: "openProductViewWithPid",
            addCard: "batchAddCard",
            openCard: "batchViewCard",
            chooseWXPay: "getBrandWCPayRequest",
            openEnterpriseRedPacket: "getRecevieBizHongBaoRequest",
            startSearchBeacons: "startMonitoringBeacons",
            stopSearchBeacons: "stopMonitoringBeacons",
            onSearchBeacons: "onBeaconsInRange",
            consumeAndShareCard: "consumedShareCard",
            openAddress: "editAddress"
        }, o = function() {
            var e = {};
            for (var t in r)
                e[r[t]] = t;
            return e
        }(), i = e.document, a = i.title, s = navigator.userAgent.toLowerCase(), c = navigator.platform.toLowerCase(), l = !(!c.match("mac") && !c.match("win")), u = -1 != s.indexOf("wxdebugger"), p = -1 != s.indexOf("micromessenger"), d = -1 != s.indexOf("android"), f = -1 != s.indexOf("iphone") || -1 != s.indexOf("ipad"), h = (n = s.match(/micromessenger\/(\d+\.\d+\.\d+)/) || s.match(/micromessenger\/(\d+\.\d+)/)) ? n[1] : "", g = {
            initStartTime: A(),
            initEndTime: 0,
            preVerifyStartTime: 0,
            preVerifyEndTime: 0
        }, m = {
            version: 1,
            appId: "",
            initTime: 0,
            preVerifyTime: 0,
            networkType: "",
            isPreVerifyOk: 1,
            systemType: f ? 1 : d ? 2 : -1,
            clientVersion: h,
            url: encodeURIComponent(location.href)
        }, y = {}, v = {
            _completes: []
        }, b = {
            state: 0,
            data: {}
        };
        L((function() {
            g.initEndTime = A()
        }
        ));
        var _ = !1
          , S = []
          , w = {
            config: function(t) {
                I("config", y = t);
                var n = !1 !== y.check;
                L((function() {
                    if (n)
                        E(r.config, {
                            verifyJsApiList: C(y.jsApiList),
                            verifyOpenTagList: C(y.openTagList)
                        }, function() {
                            v._complete = function(e) {
                                g.preVerifyEndTime = A(),
                                b.state = 1,
                                b.data = e
                            }
                            ,
                            v.success = function(e) {
                                m.isPreVerifyOk = 0
                            }
                            ,
                            v.fail = function(e) {
                                v._fail ? v._fail(e) : b.state = -1
                            }
                            ;
                            var e = v._completes;
                            return e.push((function() {
                                !function() {
                                    if (!(l || u || y.debug || h < "6.0.2" || m.systemType < 0)) {
                                        var e = new Image;
                                        m.appId = y.appId,
                                        m.initTime = g.initEndTime - g.initStartTime,
                                        m.preVerifyTime = g.preVerifyEndTime - g.preVerifyStartTime,
                                        w.getNetworkType({
                                            isInnerInvoke: !0,
                                            success: function(t) {
                                                m.networkType = t.networkType;
                                                var n = "https://open.weixin.qq.com/sdk/report?v=" + m.version + "&o=" + m.isPreVerifyOk + "&s=" + m.systemType + "&c=" + m.clientVersion + "&a=" + m.appId + "&n=" + m.networkType + "&i=" + m.initTime + "&p=" + m.preVerifyTime + "&u=" + m.url;
                                                e.src = n
                                            }
                                        })
                                    }
                                }()
                            }
                            )),
                            v.complete = function(t) {
                                for (var n = 0, r = e.length; n < r; ++n)
                                    e[n]();
                                v._completes = []
                            }
                            ,
                            v
                        }()),
                        g.preVerifyStartTime = A();
                    else {
                        b.state = 1;
                        for (var e = v._completes, t = 0, o = e.length; t < o; ++t)
                            e[t]();
                        v._completes = []
                    }
                }
                )),
                w.invoke || (w.invoke = function(t, n, r) {
                    e.WeixinJSBridge && WeixinJSBridge.invoke(t, O(n), r)
                }
                ,
                w.on = function(t, n) {
                    e.WeixinJSBridge && WeixinJSBridge.on(t, n)
                }
                )
            },
            ready: function(e) {
                0 != b.state ? e() : (v._completes.push(e),
                !p && y.debug && e())
            },
            error: function(e) {
                h < "6.0.2" || (-1 == b.state ? e(b.data) : v._fail = e)
            },
            checkJsApi: function(e) {
                E("checkJsApi", {
                    jsApiList: C(e.jsApiList)
                }, (e._complete = function(e) {
                    if (d) {
                        var t = e.checkResult;
                        t && (e.checkResult = JSON.parse(t))
                    }
                    e = function(e) {
                        var t = e.checkResult;
                        for (var n in t) {
                            var r = o[n];
                            r && (t[r] = t[n],
                            delete t[n])
                        }
                        return e
                    }(e)
                }
                ,
                e))
            },
            onMenuShareTimeline: function(e) {
                T(r.onMenuShareTimeline, {
                    complete: function() {
                        E("shareTimeline", {
                            title: e.title || a,
                            desc: e.title || a,
                            img_url: e.imgUrl || "",
                            link: e.link || location.href,
                            type: e.type || "link",
                            data_url: e.dataUrl || ""
                        }, e)
                    }
                }, e)
            },
            onMenuShareAppMessage: function(e) {
                T(r.onMenuShareAppMessage, {
                    complete: function(t) {
                        "favorite" === t.scene ? E("sendAppMessage", {
                            title: e.title || a,
                            desc: e.desc || "",
                            link: e.link || location.href,
                            img_url: e.imgUrl || "",
                            type: e.type || "link",
                            data_url: e.dataUrl || ""
                        }) : E("sendAppMessage", {
                            title: e.title || a,
                            desc: e.desc || "",
                            link: e.link || location.href,
                            img_url: e.imgUrl || "",
                            type: e.type || "link",
                            data_url: e.dataUrl || ""
                        }, e)
                    }
                }, e)
            },
            onMenuShareQQ: function(e) {
                T(r.onMenuShareQQ, {
                    complete: function() {
                        E("shareQQ", {
                            title: e.title || a,
                            desc: e.desc || "",
                            img_url: e.imgUrl || "",
                            link: e.link || location.href
                        }, e)
                    }
                }, e)
            },
            onMenuShareWeibo: function(e) {
                T(r.onMenuShareWeibo, {
                    complete: function() {
                        E("shareWeiboApp", {
                            title: e.title || a,
                            desc: e.desc || "",
                            img_url: e.imgUrl || "",
                            link: e.link || location.href
                        }, e)
                    }
                }, e)
            },
            onMenuShareQZone: function(e) {
                T(r.onMenuShareQZone, {
                    complete: function() {
                        E("shareQZone", {
                            title: e.title || a,
                            desc: e.desc || "",
                            img_url: e.imgUrl || "",
                            link: e.link || location.href
                        }, e)
                    }
                }, e)
            },
            updateTimelineShareData: function(e) {
                E("updateTimelineShareData", {
                    title: e.title,
                    link: e.link,
                    imgUrl: e.imgUrl
                }, e)
            },
            updateAppMessageShareData: function(e) {
                E("updateAppMessageShareData", {
                    title: e.title,
                    desc: e.desc,
                    link: e.link,
                    imgUrl: e.imgUrl
                }, e)
            },
            startRecord: function(e) {
                E("startRecord", {}, e)
            },
            stopRecord: function(e) {
                E("stopRecord", {}, e)
            },
            onVoiceRecordEnd: function(e) {
                T("onVoiceRecordEnd", e)
            },
            playVoice: function(e) {
                E("playVoice", {
                    localId: e.localId
                }, e)
            },
            pauseVoice: function(e) {
                E("pauseVoice", {
                    localId: e.localId
                }, e)
            },
            stopVoice: function(e) {
                E("stopVoice", {
                    localId: e.localId
                }, e)
            },
            onVoicePlayEnd: function(e) {
                T("onVoicePlayEnd", e)
            },
            uploadVoice: function(e) {
                E("uploadVoice", {
                    localId: e.localId,
                    isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1
                }, e)
            },
            downloadVoice: function(e) {
                E("downloadVoice", {
                    serverId: e.serverId,
                    isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1
                }, e)
            },
            translateVoice: function(e) {
                E("translateVoice", {
                    localId: e.localId,
                    isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1
                }, e)
            },
            chooseImage: function(e) {
                E("chooseImage", {
                    scene: "1|2",
                    count: e.count || 9,
                    sizeType: e.sizeType || ["original", "compressed"],
                    sourceType: e.sourceType || ["album", "camera"]
                }, (e._complete = function(e) {
                    if (d) {
                        var t = e.localIds;
                        try {
                            t && (e.localIds = JSON.parse(t))
                        } catch (n) {}
                    }
                }
                ,
                e))
            },
            getLocation: function(e) {},
            previewImage: function(e) {
                E(r.previewImage, {
                    current: e.current,
                    urls: e.urls
                }, e)
            },
            uploadImage: function(e) {
                E("uploadImage", {
                    localId: e.localId,
                    isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1
                }, e)
            },
            downloadImage: function(e) {
                E("downloadImage", {
                    serverId: e.serverId,
                    isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1
                }, e)
            },
            getLocalImgData: function(e) {
                !1 === _ ? (_ = !0,
                E("getLocalImgData", {
                    localId: e.localId
                }, (e._complete = function(e) {
                    if (_ = !1,
                    0 < S.length) {
                        var t = S.shift();
                        wx.getLocalImgData(t)
                    }
                }
                ,
                e))) : S.push(e)
            },
            getNetworkType: function(e) {
                E("getNetworkType", {}, (e._complete = function(e) {
                    e = function(e) {
                        var t = e.errMsg;
                        e.errMsg = "getNetworkType:ok";
                        var n = e.subtype;
                        if (delete e.subtype,
                        n)
                            e.networkType = n;
                        else {
                            var r = t.indexOf(":")
                              , o = t.substring(r + 1);
                            switch (o) {
                            case "wifi":
                            case "edge":
                            case "wwan":
                                e.networkType = o;
                                break;
                            default:
                                e.errMsg = "getNetworkType:fail"
                            }
                        }
                        return e
                    }(e)
                }
                ,
                e))
            },
            openLocation: function(e) {
                E("openLocation", {
                    latitude: e.latitude,
                    longitude: e.longitude,
                    name: e.name || "",
                    address: e.address || "",
                    scale: e.scale || 28,
                    infoUrl: e.infoUrl || ""
                }, e)
            },
            getLocation: function(e) {
                E(r.getLocation, {
                    type: (e = e || {}).type || "wgs84"
                }, (e._complete = function(e) {
                    delete e.type
                }
                ,
                e))
            },
            hideOptionMenu: function(e) {
                E("hideOptionMenu", {}, e)
            },
            showOptionMenu: function(e) {
                E("showOptionMenu", {}, e)
            },
            closeWindow: function(e) {
                E("closeWindow", {}, e = e || {})
            },
            hideMenuItems: function(e) {
                E("hideMenuItems", {
                    menuList: e.menuList
                }, e)
            },
            showMenuItems: function(e) {
                E("showMenuItems", {
                    menuList: e.menuList
                }, e)
            },
            hideAllNonBaseMenuItem: function(e) {
                E("hideAllNonBaseMenuItem", {}, e)
            },
            showAllNonBaseMenuItem: function(e) {
                E("showAllNonBaseMenuItem", {}, e)
            },
            scanQRCode: function(e) {
                E("scanQRCode", {
                    needResult: (e = e || {}).needResult || 0,
                    scanType: e.scanType || ["qrCode", "barCode"]
                }, (e._complete = function(e) {
                    if (f) {
                        var t = e.resultStr;
                        if (t) {
                            var n = JSON.parse(t);
                            e.resultStr = n && n.scan_code && n.scan_code.scan_result
                        }
                    }
                }
                ,
                e))
            },
            openAddress: function(e) {
                E(r.openAddress, {}, (e._complete = function(e) {
                    var t;
                    (t = e).postalCode = t.addressPostalCode,
                    delete t.addressPostalCode,
                    t.provinceName = t.proviceFirstStageName,
                    delete t.proviceFirstStageName,
                    t.cityName = t.addressCitySecondStageName,
                    delete t.addressCitySecondStageName,
                    t.countryName = t.addressCountiesThirdStageName,
                    delete t.addressCountiesThirdStageName,
                    t.detailInfo = t.addressDetailInfo,
                    delete t.addressDetailInfo,
                    e = t
                }
                ,
                e))
            },
            openProductSpecificView: function(e) {
                E(r.openProductSpecificView, {
                    pid: e.productId,
                    view_type: e.viewType || 0,
                    ext_info: e.extInfo
                }, e)
            },
            addCard: function(e) {
                for (var t = e.cardList, n = [], o = 0, i = t.length; o < i; ++o) {
                    var a = t[o]
                      , s = {
                        card_id: a.cardId,
                        card_ext: a.cardExt
                    };
                    n.push(s)
                }
                E(r.addCard, {
                    card_list: n
                }, (e._complete = function(e) {
                    var t = e.card_list;
                    if (t) {
                        for (var n = 0, r = (t = JSON.parse(t)).length; n < r; ++n) {
                            var o = t[n];
                            o.cardId = o.card_id,
                            o.cardExt = o.card_ext,
                            o.isSuccess = !!o.is_succ,
                            delete o.card_id,
                            delete o.card_ext,
                            delete o.is_succ
                        }
                        e.cardList = t,
                        delete e.card_list
                    }
                }
                ,
                e))
            },
            chooseCard: function(e) {
                E("chooseCard", {
                    app_id: y.appId,
                    location_id: e.shopId || "",
                    sign_type: e.signType || "SHA1",
                    card_id: e.cardId || "",
                    card_type: e.cardType || "",
                    card_sign: e.cardSign,
                    time_stamp: e.timestamp + "",
                    nonce_str: e.nonceStr
                }, (e._complete = function(e) {
                    e.cardList = e.choose_card_info,
                    delete e.choose_card_info
                }
                ,
                e))
            },
            openCard: function(e) {
                for (var t = e.cardList, n = [], o = 0, i = t.length; o < i; ++o) {
                    var a = t[o]
                      , s = {
                        card_id: a.cardId,
                        code: a.code
                    };
                    n.push(s)
                }
                E(r.openCard, {
                    card_list: n
                }, e)
            },
            consumeAndShareCard: function(e) {
                E(r.consumeAndShareCard, {
                    consumedCardId: e.cardId,
                    consumedCode: e.code
                }, e)
            },
            chooseWXPay: function(e) {
                E(r.chooseWXPay, P(e), e)
            },
            openEnterpriseRedPacket: function(e) {
                E(r.openEnterpriseRedPacket, P(e), e)
            },
            startSearchBeacons: function(e) {
                E(r.startSearchBeacons, {
                    ticket: e.ticket
                }, e)
            },
            stopSearchBeacons: function(e) {
                E(r.stopSearchBeacons, {}, e)
            },
            onSearchBeacons: function(e) {
                T(r.onSearchBeacons, e)
            },
            openEnterpriseChat: function(e) {
                E("openEnterpriseChat", {
                    useridlist: e.userIds,
                    chatname: e.groupName
                }, e)
            },
            launchMiniProgram: function(e) {
                E("launchMiniProgram", {
                    targetAppId: e.targetAppId,
                    path: function(e) {
                        if ("string" == typeof e && 0 < e.length) {
                            var t = e.split("?")[0]
                              , n = e.split("?")[1];
                            return t += ".html",
                            void 0 !== n ? t + "?" + n : t
                        }
                    }(e.path),
                    envVersion: e.envVersion
                }, e)
            },
            openBusinessView: function(e) {
                E("openBusinessView", {
                    businessType: e.businessType,
                    queryString: e.queryString || "",
                    envVersion: e.envVersion
                }, (e._complete = function(e) {
                    if (d) {
                        var t = e.extraData;
                        if (t)
                            try {
                                e.extraData = JSON.parse(t)
                            } catch (n) {
                                e.extraData = {}
                            }
                    }
                }
                ,
                e))
            },
            miniProgram: {
                navigateBack: function(e) {
                    e = e || {},
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "navigateBack",
                            arg: {
                                delta: e.delta || 1
                            }
                        }, e)
                    }
                    ))
                },
                navigateTo: function(e) {
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "navigateTo",
                            arg: {
                                url: e.url
                            }
                        }, e)
                    }
                    ))
                },
                redirectTo: function(e) {
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "redirectTo",
                            arg: {
                                url: e.url
                            }
                        }, e)
                    }
                    ))
                },
                switchTab: function(e) {
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "switchTab",
                            arg: {
                                url: e.url
                            }
                        }, e)
                    }
                    ))
                },
                reLaunch: function(e) {
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "reLaunch",
                            arg: {
                                url: e.url
                            }
                        }, e)
                    }
                    ))
                },
                postMessage: function(e) {
                    L((function() {
                        E("invokeMiniProgramAPI", {
                            name: "postMessage",
                            arg: e.data || {}
                        }, e)
                    }
                    ))
                },
                getEnv: function(t) {
                    L((function() {
                        t({
                            miniprogram: "miniprogram" === e.__wxjs_environment
                        })
                    }
                    ))
                }
            }
        }
          , $ = 1
          , k = {};
        return i.addEventListener("error", (function(e) {
            if (!d) {
                var t = e.target
                  , n = t.tagName
                  , r = t.src;
                if (("IMG" == n || "VIDEO" == n || "AUDIO" == n || "SOURCE" == n) && -1 != r.indexOf("wxlocalresource://")) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var o = t["wx-id"];
                    if (o || (o = $++,
                    t["wx-id"] = o),
                    k[o])
                        return;
                    k[o] = !0,
                    wx.ready((function() {
                        wx.getLocalImgData({
                            localId: r,
                            success: function(e) {
                                t.src = e.localData
                            }
                        })
                    }
                    ))
                }
            }
        }
        ), !0),
        i.addEventListener("load", (function(e) {
            if (!d) {
                var t = e.target
                  , n = t.tagName;
                if (t.src,
                "IMG" == n || "VIDEO" == n || "AUDIO" == n || "SOURCE" == n) {
                    var r = t["wx-id"];
                    r && (k[r] = !1)
                }
            }
        }
        ), !0),
        t && (e.wx = e.jWeixin = w),
        w
    }
    function E(t, n, r) {
        e.WeixinJSBridge ? WeixinJSBridge.invoke(t, O(n), (function(e) {
            x(t, e, r)
        }
        )) : I(t, r)
    }
    function T(t, n, r) {
        e.WeixinJSBridge ? WeixinJSBridge.on(t, (function(e) {
            r && r.trigger && r.trigger(e),
            x(t, e, n)
        }
        )) : I(t, r || n)
    }
    function O(e) {
        return (e = e || {}).appId = y.appId,
        e.verifyAppId = y.appId,
        e.verifySignType = "sha1",
        e.verifyTimestamp = y.timestamp + "",
        e.verifyNonceStr = y.nonceStr,
        e.verifySignature = y.signature,
        e
    }
    function P(e) {
        return {
            timeStamp: e.timestamp + "",
            nonceStr: e.nonceStr,
            package: e.package,
            paySign: e.paySign,
            signType: e.signType || "SHA1"
        }
    }
    function x(e, t, n) {
        "openEnterpriseChat" != e && "openBusinessView" !== e || (t.errCode = t.err_code),
        delete t.err_code,
        delete t.err_desc,
        delete t.err_detail;
        var r = t.errMsg;
        r || (r = t.err_msg,
        delete t.err_msg,
        r = function(e, t) {
            var n = e
              , r = o[n];
            r && (n = r);
            var i = "ok";
            if (t) {
                var a = t.indexOf(":");
                "confirm" == (i = t.substring(a + 1)) && (i = "ok"),
                "failed" == i && (i = "fail"),
                -1 != i.indexOf("failed_") && (i = i.substring(7)),
                -1 != i.indexOf("fail_") && (i = i.substring(5)),
                "access denied" != (i = (i = i.replace(/_/g, " ")).toLowerCase()) && "no permission to execute" != i || (i = "permission denied"),
                "config" == n && "function not exist" == i && (i = "ok"),
                "" == i && (i = "fail")
            }
            return n + ":" + i
        }(e, r),
        t.errMsg = r),
        (n = n || {})._complete && (n._complete(t),
        delete n._complete),
        r = t.errMsg || "",
        y.debug && !n.isInnerInvoke && alert(JSON.stringify(t));
        var i = r.indexOf(":");
        switch (r.substring(i + 1)) {
        case "ok":
            n.success && n.success(t);
            break;
        case "cancel":
            n.cancel && n.cancel(t);
            break;
        default:
            n.fail && n.fail(t)
        }
        n.complete && n.complete(t)
    }
    function C(e) {
        if (e) {
            for (var t = 0, n = e.length; t < n; ++t) {
                var o = e[t]
                  , i = r[o];
                i && (e[t] = i)
            }
            return e
        }
    }
    function I(e, t) {
        if (!(!y.debug || t && t.isInnerInvoke)) {
            var n = o[e];
            n && (e = n),
            t && t._complete && delete t._complete,
            console.log('"' + e + '",', t || "")
        }
    }
    function A() {
        return (new Date).getTime()
    }
    function L(t) {
        p && (e.WeixinJSBridge ? t() : i.addEventListener && i.addEventListener("WeixinJSBridgeReady", t, !1))
    }
}
));
const appTypeConfig = {
    kuaishou: {
        appTypeStr: "kwai"
    },
    nebula: {
        appTypeStr: "ksnebula",
        wxSdkConfig: {
            params: {
                app: "nebula"
            }
        }
    },
    thanos: {
        appTypeStr: "ksthanos"
    },
    kuaishou_bamboo: {
        appTypeStr: "ksbamboo"
    },
    1: {
        appTypeStr: "kwai"
    },
    2: {
        appTypeStr: "ksnebula",
        wxSdkConfig: {
            params: {
                app: "nebula"
            }
        }
    },
    9: {
        appTypeStr: "ksthanos"
    },
    21: {
        appTypeStr: "kwai"
    },
    22: {
        appTypeStr: "ksnebula",
        wxSdkConfig: {
            params: {
                app: "nebula"
            }
        }
    },
    29: {
        appTypeStr: "ksthanos"
    },
    30: {
        appTypeStr: "ksgz"
    }
}
  , wxSdkDefaultConfig = {
    signShareUrl: "//www.kuaishou.com/rest/wd/wemedia/signShareUrl",
    jsApiList: ["launchApplication", "onMenuShareWeibo", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareQZone", "hideMenuItems"]
};
let sigParam;
const appTypeId = getUrlParam("appType");
let kpn = (getUrlParam("kpn") || "").toLocaleLowerCase();
"nebula" === kpn && window.location.host.endsWith("chenzhongtech.com") && (kpn = "kuaishou"),
kpn ? sigParam = null == (_a = null == appTypeConfig ? void 0 : appTypeConfig[kpn]) ? void 0 : _a.wxSdkConfig : "2" !== appTypeId && "22" !== appTypeId || (sigParam = appTypeConfig[appTypeId].wxSdkConfig);
const wxSdkConfig = {
    ...wxSdkDefaultConfig,
    ...sigParam
}
  , jsApiList = Array.prototype.concat(wxSdkConfig.jsApiList)
  , params = {
    url: window.location.href,
    ...wxSdkConfig.params
};
function crossJson(e, t, n) {
    const r = {
        result: -400,
        error_msg: ""
    };
    e += (e.includes("?") ? "&" : "?") + "_json=1";
    const o = new XMLHttpRequest;
    o.timeout = 3e4,
    o.open("post", e, !0),
    o.onload = () => {
        let e;
        try {
            e = JSON.parse(o.responseText)
        } catch (e2) {
            e = r
        }
        n(e)
    }
    ,
    o.onerror = () => {
        n(r)
    }
    ,
    o.send(JSON.stringify(t))
}
function wxAsyncReady() {
    return new Promise((e => {
        navigator.userAgent.includes(" MicroMessenger/") ? crossJson(wxSdkConfig.signShareUrl, params, (t => {
            if (1 === t.result) {
                if (!window.wx)
                    return void e({
                        result: 9998,
                        error_msg: "微信未注入全局wx环境"
                    });
                window.wx.error((t => {
                    e({
                        result: 9997,
                        error_msg: t.errMsg
                    })
                }
                )),
                window.wx.config({
                    beta: !0,
                    appId: t.appId,
                    timestamp: t.timestamp,
                    nonceStr: t.nonceStr,
                    signature: t.signature,
                    jsApiList: jsApiList,
                    openTagList: ["wx-open-launch-app", "wx-open-launch-weapp"]
                }),
                window.wx.ready(( () => {
                    e({
                        result: 1,
                        wx: window.wx,
                        appId: t.appId
                    })
                }
                ))
            } else
                e({
                    result: t.result,
                    error_msg: t.error_msg || "signShareUrl api error"
                })
        }
        )) : e({
            result: 9999,
            error_msg: "not in MicroMessenger app"
        })
    }
    ))
}
const initWx = e => {
    const t = e => {
        window.__wx__ = e
    }
    ;
    e ? e.then((e => {
        t(e.wx)
    }
    )) : window.__wx__ || wxAsyncReady().then((e => {
        t(e.wx)
    }
    )).catch((e => {
        log.warn("wxAsyncReady error", e)
    }
    ))
}
  , createState = e => ({
    getState: () => e.state,
    setState: t => {
        e.state = t
    }
})
  , createLaunchAppInstance = e => {
    var t;
    e.launchAppInstance = null == (t = e.initOption) ? void 0 : t.launchAppInstance;
    return {
        getLaunchAppInstance: () => e.launchAppInstance,
        setLaunchAppInstance: t => {
            e.launchAppInstance = t
        }
    }
}
  , createReportCb = e => ({
    setReportCb: t => {
        e.reportCb = t
    }
    ,
    clearReportCb: () => {
        e.reportCb = void 0
    }
})
  , createEventCb = e => ({
    setEventCb: t => {
        e.eventCb = t
    }
    ,
    getEventCb: () => e.eventCb
})
  , createContext = (e, t) => {
    const n = {
        state: LaunchAPPState.INIT
    };
    e && (n.initConfig = e),
    t && (n.initOption = t),
    (null == t ? void 0 : t.blockWxSign) || initWx(null == t ? void 0 : t.wxAsyncReady);
    const {getParams: r, setParams: o} = createParams(n)
      , {getLogPackage: i, mergeLogPackage: a, setBasicPackage: s} = createLogPackage(n, null == e ? void 0 : e.logExt)
      , {getState: c, setState: l} = createState(n)
      , {getLaunchAppInstance: u, setLaunchAppInstance: p} = createLaunchAppInstance(n)
      , {setReportCb: d, clearReportCb: f} = createReportCb(n)
      , {setEventCb: h, getEventCb: g} = createEventCb(n);
    return {
        context: n,
        getLogPackage: i,
        mergeLogPackage: a,
        setBasicPackage: s,
        getState: c,
        setState: l,
        getParams: r,
        setParams: o,
        getLaunchAppInstance: u,
        setLaunchAppInstance: p,
        report: createReport(n),
        setReportCb: d,
        clearReportCb: f,
        setEventCb: h,
        getEventCb: g
    }
}
  , openInBrowserStyle = "\n    .__open-in-browser-guide .mask {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: rgba(0, 0, 0, 0.85);\n        z-index: 1000;\n    }\n    .__open-in-browser-guide .content {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        padding-top: 4px;\n        box-sizing: border-box;\n        z-index: 1000;\n    }\n    .__open-in-browser-guide .content .__open-in-browser-guide-pic {\n        width: 100%;\n    }\n"
  , openInBrowserTpl = '\n    <div class="__open-in-browser-guide" id="__open-in-browser-guide">\n        <div class="mask"></div>\n        <div class="content">\n            <img class="__open-in-browser-guide-pic" src="//w2.kskwai.com/kos/nlav10770/materials/common/open-in-browser-guide.png"/>\n        </div>\n    </div>'
  , supportDOMParser = function() {
    if (!window.DOMParser)
        return !1;
    const e = new DOMParser;
    try {
        e.parseFromString("x", "text/html")
    } catch (t) {
        return !1
    }
    return !0
}()
  , htmlToElement = e => {
    if (supportDOMParser) {
        return (new DOMParser).parseFromString(e, "text/html").getElementById("__open-in-browser-guide")
    }
    const t = document.createElement("div");
    return t.innerHTML = e,
    t
}
  , _Guide = class e {
    constructor() {
        return __publicField(this, "guideImage"),
        __publicField(this, "openInBrowserDialog"),
        e.instance || (this.init(),
        e.instance = this),
        this.openInBrowserDialog = document.getElementsByClassName("__open-in-browser-guide")[0],
        this.guideImage = document.getElementsByClassName("__open-in-browser-guide-pic")[0],
        e.instance
    }
    init() {
        const e = document.createElement("style");
        e.innerHTML = openInBrowserStyle,
        document.head.appendChild(e);
        const t = htmlToElement(openInBrowserTpl);
        document.body.insertAdjacentElement("afterbegin", t)
    }
    show(e) {
        e && this.guideImage && (this.guideImage.src = e),
        this.openInBrowserDialog.style.display = "block",
        this.openInBrowserDialog.addEventListener("click", this.hide.bind(this))
    }
    hide() {
        this.openInBrowserDialog.removeEventListener("click", this.hide),
        this.openInBrowserDialog.style.display = "none"
    }
}
;
__publicField(_Guide, "instance");
let Guide = _Guide;
function openGuide(e) {
    (new Guide).show(e)
}
const needShowGuide = e => !!e && ["TOKEN", "CARD"].includes(null == e ? void 0 : e.toUpperCase())
  , isWechat = () => / MicroMessenger\//.test(navigator.userAgent)
  , getULinkFallbackUrl = (e, t=!0) => !e || !t && isWechat() ? "".concat(U_LINK_FALLBACK_URL, "?kpn=").concat(e) : iOSDownloadMap[e]
  , createLaunchInstance = e => {
    var t, n;
    const r = null == (t = e.params) ? void 0 : t.config;
    if (!r)
        return void log.warn("参数解析失败");
    const o = !!r.shareMethod && ["PICTURE", "QRCODE"].includes(r.shareMethod.toUpperCase())
      , i = makeLaunchApp({
        scheme: scheme,
        uLink: uLink,
        download: download,
        wxLaunch: wxLaunch,
        market: market,
        jumpToLandpage: e => new Promise(( (t, n) => {
            var r;
            raceVisibilitychangeAndTimeout(null == (r = e.commonConfig) ? void 0 : r.timeout).then((r => {
                r === OpenStatus.SUCCESS ? t({
                    config: e
                }) : n(new Error("timeout"))
            }
            )),
            window.location.href = "https://m.kuaishou.com"
        }
        )),
        jumpToTarget: e => new Promise(( (t, n) => {
            var r;
            e.scheme || n(new Error("miss scheme"));
            const o = getUrlSearchParams(e.scheme).url;
            o || n(new Error("miss url")),
            raceVisibilitychangeAndTimeout(null == (r = e.commonConfig) ? void 0 : r.timeout).then((r => {
                r === OpenStatus.SUCCESS ? t({
                    config: e
                }) : n(new Error("timeout"))
            }
            )),
            window.location.href = o
        }
        )),
        openGuide: e => new Promise(( (t, n) => {
            var r, o;
            try {
                openGuide(null == (o = null == (r = e.commonConfig) ? void 0 : r.logExt) ? void 0 : o.guideImage)
            } catch (i) {
                n(new Error("open Guide error ".concat(i.message)))
            }
            t({
                config: e
            })
        }
        ))
    }, {
        enableWxLaunch: () => o,
        isInternalApp: () => isInternalApp2,
        needShowGuide: () => needShowGuide(r.shareMethod),
        forceMarket: () => !!r.forceMarket
    })
      , a = null == (n = e.initOption) ? void 0 : n.launchConfig;
    return i.init({
        kpn: r.kpn || "",
        ...a,
        commonConfig: {
            timeout: 2e3,
            uLinkFallbackUrl: getULinkFallbackUrl(r.kpn, o),
            ...null == a ? void 0 : a.commonConfig
        }
    }, {
        launchStrategies: [{
            filter: [i.filters.isWechat, i.filters.isAndroid, i.filters.enableWxLaunch],
            chain: [i.units.wxLaunch, i.units.download]
        }, {
            filter: [i.filters.isWechat, i.filters.isIos, i.filters.enableWxLaunch],
            chain: [i.units.wxLaunch, i.units.uLink, i.units.download]
        }, {
            filter: [i.filters.isWechat, i.filters.isAndroid, i.filters.needShowGuide],
            chain: [i.units.openGuide]
        }, {
            filter: [i.filters.isWechat, i.filters.isAndroid],
            chain: [i.units.download]
        }, {
            filter: [i.filters.isWechat, i.filters.isIos],
            chain: [i.units.uLink, i.units.download]
        }, {
            filter: [i.filters.isInternalApp, i.filters.isAndroid],
            chain: [i.units.scheme, i.units.jumpToTarget]
        }, {
            filter: [i.filters.isAndroid, i.filters.forceMarket],
            chain: [i.units.scheme, i.units.market, i.units.download]
        }, {
            filter: [i.filters.isAndroid],
            chain: [i.units.scheme, i.units.download]
        }, {
            filter: [i.filters.isInternalApp, i.filters.isIos],
            chain: [i.units.scheme, i.units.jumpToTarget]
        }, {
            filter: [i.filters.isIos, i.filters.enableULink],
            chain: [i.units.uLink, i.units.scheme, i.units.download]
        }, {
            filter: [i.filters.isIos],
            chain: [i.units.scheme, i.units.download]
        }],
        fallbackStrategy: [i.units.jumpToLandpage]
    })
}
  , copyToken = async (e, t) => {
    var n, r;
    let o = !1;
    e.mergeLogPackage({
        ...null == t ? void 0 : t.logExt,
        clickId: (null == (n = null == t ? void 0 : t.logExt) ? void 0 : n.clickId) || generateRandomId()
    });
    const i = {
        pullTimestamp: (new Date).getTime()
    }
      , {reportCb: a} = t || {};
    a ? e.setReportCb(a) : e.clearReportCb(),
    e.setBasicPackage(i),
    (null == t ? void 0 : t.schemeUrl) && (i.dpUrl = e.report.normalizeDpTraceData(null == t ? void 0 : t.schemeUrl));
    const {shareToken: s, clipboardBlock: c} = e.context.initConfig || {}
      , l = (null == t ? void 0 : t.customToken) || s || "";
    let u = c ? CopyResultTypeMap.COPY_BLOCK : CopyResultTypeMap.NONE_TOKEN;
    const {clipboardText: p, error: d, errorMessage: f, traceData: h} = e.report.normalizeTokenTraceData(l);
    if (!c) {
        o = (await copy(p)).success,
        u = o ? CopyResultTypeMap.COPY_SUCCESS : CopyResultTypeMap.COPY_FAILED
    }
    return e.report.collect(EventNameMap.COPY, {
        clipboard_text: p,
        _ug_cId_: null == (r = e.getLogPackage().commonPackage) ? void 0 : r.clickId,
        normalizeError: d,
        errorMessage: f,
        traceData: JSON.stringify(h)
    }, u),
    e.setBasicPackage({
        dpUrl: ""
    }),
    {
        success: o,
        result: u,
        token: l,
        text: p
    }
}
  , bindEvents = (e, t) => {
    const n = (e, n) => {
        var r;
        t && t(e, {
            result: n.result,
            openMethod: null == (r = n.openMethod) ? void 0 : r.key
        })
    }
      , {report: r, context: {launchAppInstance: o}, setState: i} = e;
    o.registerHook(HookName.READY, (e => {
        i(LaunchAPPState.INITIALIZED),
        r.collect(EventNameMap.INIT, e),
        n(EventNameMap.INIT, e)
    }
    ), {
        buffer: !0
    }),
    o.registerHook(HookName.CHAIN_START, (e => {
        r.collect(EventNameMap.CHAIN_START, e),
        n(EventNameMap.CHAIN_START, e)
    }
    )),
    o.registerHook(HookName.UNIT_START, (e => {
        var t;
        log.debug("unit ".concat(null == (t = e.openMethod) ? void 0 : t.key, " start"), e),
        r.collect(EventNameMap.UNIT_START, e),
        n(EventNameMap.UNIT_START, e)
    }
    )),
    o.registerHook(HookName.UNIT_END, (e => {
        var t;
        log.debug("unit ".concat(null == (t = e.openMethod) ? void 0 : t.key, " end"), e, "result: ".concat(e.result)),
        r.collect(EventNameMap.UNIT_END, e, e.result),
        n(EventNameMap.UNIT_END, e)
    }
    )),
    o.registerHook(HookName.CHAIN_END, (e => {
        i(LaunchAPPState.LAUNCH_END),
        r.collect(EventNameMap.LAUNCH_END, e),
        n(EventNameMap.LAUNCH_END, e)
    }
    ))
}
  , launchOrDownload = async (e, t, n) => {
    var r;
    e.setState(LaunchAPPState.LAUNCH_START);
    const o = (null == (r = null == n ? void 0 : n.logExt) ? void 0 : r.clickId) || generateRandomId();
    e.mergeLogPackage({
        ...null == n ? void 0 : n.logExt,
        launchType: null == n ? void 0 : n.launchType,
        clickId: o
    });
    const {reportCb: i} = n || {};
    i ? e.setReportCb(i) : e.clearReportCb(),
    e.setBasicPackage({
        pullTimestamp: (new Date).getTime()
    });
    const a = e.report.normalizeDpTraceData(null == n ? void 0 : n.schemeUrl);
    e.setBasicPackage({
        dpUrl: a
    }),
    e.report.collect(EventNameMap.LAUNCH_START, {
        ...null == n ? void 0 : n.logExt,
        launchType: null == n ? void 0 : n.launchType
    });
    const {config: s} = e.context.params;
    e.setState(LaunchAPPState.COPY_START);
    const {token: c} = await copyToken(e, {
        customToken: (null == n ? void 0 : n.customToken) || s.shareToken,
        logExt: {
            ...null == n ? void 0 : n.logExt,
            clickId: o
        },
        reportCb: i
    });
    e.setState(LaunchAPPState.COPY_END);
    const l = {
        scheme: a,
        kpn: null == n ? void 0 : n.kpn,
        commonConfig: {
            download: {
                android: null == n ? void 0 : n.downloadUrl,
                channel: s.channel,
                useAppParam: !c
            },
            wx: window.__wx__,
            logExt: {
                ...null == n ? void 0 : n.logExt
            }
        },
        state: t
    };
    e.getLaunchAppInstance().launch(l),
    e.setBasicPackage({
        dpUrl: ""
    })
}
  , init = (e, t) => {
    var n;
    const r = createContext(e, t)
      , {context: o, setLaunchAppInstance: i, setState: a, setParams: s} = r;
    let c = null == (n = o.initOption) ? void 0 : n.launchAppInstance;
    if (!c) {
        const e = createLaunchInstance(o);
        e ? (i(e),
        c = e) : (log.warn("初始化失败"),
        a(LaunchAPPState.ERROR),
        Promise.reject(new Error("初始化失败")))
    }
    return bindEvents(r, null == t ? void 0 : t.eventCb),
    (null == t ? void 0 : t.blockTpOnce) || r.report.show(null == t ? void 0 : t.reportCb),
    {
        launchOrDownload: (e, t) => {
            launchOrDownload(r, State.LAUNCH_OR_DOWNLOAD, {
                ...t,
                schemeUrl: e
            })
        }
        ,
        launch: (e, t) => {
            launchOrDownload(r, State.LAUNCH, {
                ...t,
                schemeUrl: e
            })
        }
        ,
        download: (e, t) => {
            launchOrDownload(r, State.DOWNLOAD, {
                ...t,
                downloadUrl: e
            })
        }
        ,
        copy: (e, t) => copyToken(r, {
            ...t,
            customToken: e
        }),
        sendSdkPv: e => {
            sendPagePV(r.context, e)
        }
        ,
        setParams: s
    }
}
;
var uaParser = {
    exports: {}
};
!function(e, t) {
    !function(n, r) {
        var o = "function"
          , i = "undefined"
          , a = "object"
          , s = "string"
          , c = "major"
          , l = "model"
          , u = "name"
          , p = "type"
          , d = "vendor"
          , f = "version"
          , h = "architecture"
          , g = "console"
          , m = "mobile"
          , y = "tablet"
          , v = "smarttv"
          , b = "wearable"
          , _ = "embedded"
          , S = "Amazon"
          , w = "Apple"
          , $ = "ASUS"
          , k = "BlackBerry"
          , E = "Browser"
          , T = "Chrome"
          , O = "Firefox"
          , P = "Google"
          , x = "Huawei"
          , C = "LG"
          , I = "Microsoft"
          , A = "Motorola"
          , L = "Opera"
          , R = "Samsung"
          , N = "Sharp"
          , j = "Sony"
          , M = "Xiaomi"
          , D = "Zebra"
          , U = "Facebook"
          , H = "Chromium OS"
          , G = "Mac OS"
          , F = function(e) {
            for (var t = {}, n = 0; n < e.length; n++)
                t[e[n].toUpperCase()] = e[n];
            return t
        }
          , K = function(e, t) {
            return typeof e === s && -1 !== V(t).indexOf(V(e))
        }
          , V = function(e) {
            return e.toLowerCase()
        }
          , W = function(e, t) {
            if (typeof e === s)
                return e = e.replace(/^\s\s*/, ""),
                typeof t === i ? e : e.substring(0, 500)
        }
          , z = function(e, t) {
            for (var n, i, s, c, l, u, p = 0; p < t.length && !l; ) {
                var d = t[p]
                  , f = t[p + 1];
                for (n = i = 0; n < d.length && !l && d[n]; )
                    if (l = d[n++].exec(e))
                        for (s = 0; s < f.length; s++)
                            u = l[++i],
                            typeof (c = f[s]) === a && c.length > 0 ? 2 === c.length ? typeof c[1] == o ? this[c[0]] = c[1].call(this, u) : this[c[0]] = c[1] : 3 === c.length ? typeof c[1] !== o || c[1].exec && c[1].test ? this[c[0]] = u ? u.replace(c[1], c[2]) : r : this[c[0]] = u ? c[1].call(this, u, c[2]) : r : 4 === c.length && (this[c[0]] = u ? c[3].call(this, u.replace(c[1], c[2])) : r) : this[c] = u || r;
                p += 2
            }
        }
          , B = function(e, t) {
            for (var n in t)
                if (typeof t[n] === a && t[n].length > 0) {
                    for (var o = 0; o < t[n].length; o++)
                        if (K(t[n][o], e))
                            return "?" === n ? r : n
                } else if (K(t[n], e))
                    return "?" === n ? r : n;
            return e
        }
          , Z = {
            ME: "4.90",
            "NT 3.11": "NT3.51",
            "NT 4.0": "NT4.0",
            2e3: "NT 5.0",
            XP: ["NT 5.1", "NT 5.2"],
            Vista: "NT 6.0",
            7: "NT 6.1",
            8: "NT 6.2",
            8.1: "NT 6.3",
            10: ["NT 6.4", "NT 10.0"],
            RT: "ARM"
        }
          , X = {
            browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [f, [u, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [f, [u, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [u, f], [/opios[\/ ]+([\w\.]+)/i], [f, [u, L + " Mini"]], [/\bop(?:rg)?x\/([\w\.]+)/i], [f, [u, L + " GX"]], [/\bopr\/([\w\.]+)/i], [f, [u, L]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [f, [u, "Baidu"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [u, f], [/\bddg\/([\w\.]+)/i], [f, [u, "DuckDuckGo"]], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [f, [u, "UC" + E]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [f, [u, "WeChat"]], [/konqueror\/([\w\.]+)/i], [f, [u, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [f, [u, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [f, [u, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [f, [u, "Smart Lenovo " + E]], [/(avast|avg)\/([\w\.]+)/i], [[u, /(.+)/, "$1 Secure " + E], f], [/\bfocus\/([\w\.]+)/i], [f, [u, O + " Focus"]], [/\bopt\/([\w\.]+)/i], [f, [u, L + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [f, [u, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [f, [u, "Dolphin"]], [/coast\/([\w\.]+)/i], [f, [u, L + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [f, [u, "MIUI " + E]], [/fxios\/([-\w\.]+)/i], [f, [u, O]], [/\bqihu|(qi?ho?o?|360)browser/i], [[u, "360 " + E]], [/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i], [[u, /(.+)/, "$1 " + E], f], [/samsungbrowser\/([\w\.]+)/i], [f, [u, R + " Internet"]], [/(comodo_dragon)\/([\w\.]+)/i], [[u, /_/g, " "], f], [/metasr[\/ ]?([\d\.]+)/i], [f, [u, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[u, "Sogou Mobile"], f], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i], [u, f], [/(lbbrowser)/i, /\[(linkedin)app\]/i], [u], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[u, U], f], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(twitter)(?:and| f.+e\/([\w\.]+))/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [u, f], [/\bgsa\/([\w\.]+) .*safari\//i], [f, [u, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [f, [u, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [f, [u, T + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[u, T + " WebView"], f], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [f, [u, "Android " + E]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [u, f], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [f, [u, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [f, u], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [u, [f, B, {
                "1.0": "/8",
                1.2: "/1",
                1.3: "/3",
                "2.0": "/412",
                "2.0.2": "/416",
                "2.0.3": "/417",
                "2.0.4": "/419",
                "?": "/"
            }]], [/(webkit|khtml)\/([\w\.]+)/i], [u, f], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[u, "Netscape"], f], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [f, [u, O + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i, /panasonic;(viera)/i], [u, f], [/(cobalt)\/([\w\.]+)/i], [u, [f, /master.|lts./, ""]]],
            cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[h, "amd64"]], [/(ia32(?=;))/i], [[h, V]], [/((?:i[346]|x)86)[;\)]/i], [[h, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[h, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[h, "armhf"]], [/windows (ce|mobile); ppc;/i], [[h, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[h, /ower/, "", V]], [/(sun4\w)[;\)]/i], [[h, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[h, V]]],
            device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [l, [d, R], [p, y]], [/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [l, [d, R], [p, m]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [l, [d, w], [p, m]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [l, [d, w], [p, y]], [/(macintosh);/i], [l, [d, w]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [l, [d, N], [p, m]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [l, [d, x], [p, y]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [l, [d, x], [p, m]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[l, /_/g, " "], [d, M], [p, m]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[l, /_/g, " "], [d, M], [p, y]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [l, [d, "OPPO"], [p, m]], [/\b(opd2\d{3}a?) bui/i], [l, [d, "OPPO"], [p, y]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [l, [d, "Vivo"], [p, m]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [l, [d, "Realme"], [p, m]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [l, [d, A], [p, m]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [l, [d, A], [p, y]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [l, [d, C], [p, y]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [l, [d, C], [p, m]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [l, [d, "Lenovo"], [p, y]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[l, /_/g, " "], [d, "Nokia"], [p, m]], [/(pixel c)\b/i], [l, [d, P], [p, y]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [l, [d, P], [p, m]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [l, [d, j], [p, m]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[l, "Xperia Tablet"], [d, j], [p, y]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [l, [d, "OnePlus"], [p, m]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [l, [d, S], [p, y]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[l, /(.+)/g, "Fire Phone $1"], [d, S], [p, m]], [/(playbook);[-\w\),; ]+(rim)/i], [l, d, [p, y]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [l, [d, k], [p, m]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [l, [d, $], [p, y]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [l, [d, $], [p, m]], [/(nexus 9)/i], [l, [d, "HTC"], [p, y]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [d, [l, /_/g, " "], [p, m]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [l, [d, "Acer"], [p, y]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [l, [d, "Meizu"], [p, m]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [l, [d, "Ulefone"], [p, m]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [d, l, [p, m]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [d, l, [p, y]], [/(surface duo)/i], [l, [d, I], [p, y]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [l, [d, "Fairphone"], [p, m]], [/(u304aa)/i], [l, [d, "AT&T"], [p, m]], [/\bsie-(\w*)/i], [l, [d, "Siemens"], [p, m]], [/\b(rct\w+) b/i], [l, [d, "RCA"], [p, y]], [/\b(venue[\d ]{2,7}) b/i], [l, [d, "Dell"], [p, y]], [/\b(q(?:mv|ta)\w+) b/i], [l, [d, "Verizon"], [p, y]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [l, [d, "Barnes & Noble"], [p, y]], [/\b(tm\d{3}\w+) b/i], [l, [d, "NuVision"], [p, y]], [/\b(k88) b/i], [l, [d, "ZTE"], [p, y]], [/\b(nx\d{3}j) b/i], [l, [d, "ZTE"], [p, m]], [/\b(gen\d{3}) b.+49h/i], [l, [d, "Swiss"], [p, m]], [/\b(zur\d{3}) b/i], [l, [d, "Swiss"], [p, y]], [/\b((zeki)?tb.*\b) b/i], [l, [d, "Zeki"], [p, y]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[d, "Dragon Touch"], l, [p, y]], [/\b(ns-?\w{0,9}) b/i], [l, [d, "Insignia"], [p, y]], [/\b((nxa|next)-?\w{0,9}) b/i], [l, [d, "NextBook"], [p, y]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[d, "Voice"], l, [p, m]], [/\b(lvtel\-)?(v1[12]) b/i], [[d, "LvTel"], l, [p, m]], [/\b(ph-1) /i], [l, [d, "Essential"], [p, m]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [l, [d, "Envizen"], [p, y]], [/\b(trio[-\w\. ]+) b/i], [l, [d, "MachSpeed"], [p, y]], [/\btu_(1491) b/i], [l, [d, "Rotor"], [p, y]], [/(shield[\w ]+) b/i], [l, [d, "Nvidia"], [p, y]], [/(sprint) (\w+)/i], [d, l, [p, m]], [/(kin\.[onetw]{3})/i], [[l, /\./g, " "], [d, I], [p, m]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [l, [d, D], [p, y]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [l, [d, D], [p, m]], [/smart-tv.+(samsung)/i], [d, [p, v]], [/hbbtv.+maple;(\d+)/i], [[l, /^/, "SmartTV"], [d, R], [p, v]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[d, C], [p, v]], [/(apple) ?tv/i], [d, [l, w + " TV"], [p, v]], [/crkey/i], [[l, T + "cast"], [d, P], [p, v]], [/droid.+aft(\w+)( bui|\))/i], [l, [d, S], [p, v]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [l, [d, N], [p, v]], [/(bravia[\w ]+)( bui|\))/i], [l, [d, j], [p, v]], [/(mitv-\w{5}) bui/i], [l, [d, M], [p, v]], [/Hbbtv.*(technisat) (.*);/i], [d, l, [p, v]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[d, W], [l, W], [p, v]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[p, v]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [d, l, [p, g]], [/droid.+; (shield) bui/i], [l, [d, "Nvidia"], [p, g]], [/(playstation [345portablevi]+)/i], [l, [d, j], [p, g]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [l, [d, I], [p, g]], [/((pebble))app/i], [d, l, [p, b]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [l, [d, w], [p, b]], [/droid.+; (glass) \d/i], [l, [d, P], [p, b]], [/droid.+; (wt63?0{2,3})\)/i], [l, [d, D], [p, b]], [/(quest( \d| pro)?)/i], [l, [d, U], [p, b]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [d, [p, _]], [/(aeobc)\b/i], [l, [d, S], [p, _]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [l, [p, m]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [l, [p, y]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[p, y]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[p, m]], [/(android[-\w\. ]{0,9});.+buil/i], [l, [d, "Generic"]]],
            engine: [[/windows.+ edge\/([\w\.]+)/i], [f, [u, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [f, [u, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [u, f], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [f, u]],
            os: [[/microsoft (windows) (vista|xp)/i], [u, f], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [u, [f, B, Z]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[f, B, Z], [u, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[f, /_/g, "."], [u, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[u, G], [f, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [f, u], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [u, f], [/\(bb(10);/i], [f, [u, k]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [f, [u, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [f, [u, O + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [f, [u, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [f, [u, "watchOS"]], [/crkey\/([\d\.]+)/i], [f, [u, T + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[u, H], f], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [u, f], [/(sunos) ?([\w\.\d]*)/i], [[u, "Solaris"], f], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [u, f]]
        }
          , Y = function(e, t) {
            if (typeof e === a && (t = e,
            e = r),
            !(this instanceof Y))
                return new Y(e,t).getResult();
            var g = typeof n !== i && n.navigator ? n.navigator : r
              , v = e || (g && g.userAgent ? g.userAgent : "")
              , b = g && g.userAgentData ? g.userAgentData : r
              , _ = t ? function(e, t) {
                var n = {};
                for (var r in e)
                    t[r] && t[r].length % 2 == 0 ? n[r] = t[r].concat(e[r]) : n[r] = e[r];
                return n
            }(X, t) : X
              , S = g && g.userAgent == v;
            return this.getBrowser = function() {
                var e, t = {};
                return t[u] = r,
                t[f] = r,
                z.call(t, v, _.browser),
                t[c] = typeof (e = t[f]) === s ? e.replace(/[^\d\.]/g, "").split(".")[0] : r,
                S && g && g.brave && typeof g.brave.isBrave == o && (t[u] = "Brave"),
                t
            }
            ,
            this.getCPU = function() {
                var e = {};
                return e[h] = r,
                z.call(e, v, _.cpu),
                e
            }
            ,
            this.getDevice = function() {
                var e = {};
                return e[d] = r,
                e[l] = r,
                e[p] = r,
                z.call(e, v, _.device),
                S && !e[p] && b && b.mobile && (e[p] = m),
                S && "Macintosh" == e[l] && g && typeof g.standalone !== i && g.maxTouchPoints && g.maxTouchPoints > 2 && (e[l] = "iPad",
                e[p] = y),
                e
            }
            ,
            this.getEngine = function() {
                var e = {};
                return e[u] = r,
                e[f] = r,
                z.call(e, v, _.engine),
                e
            }
            ,
            this.getOS = function() {
                var e = {};
                return e[u] = r,
                e[f] = r,
                z.call(e, v, _.os),
                S && !e[u] && b && b.platform && "Unknown" != b.platform && (e[u] = b.platform.replace(/chrome os/i, H).replace(/macos/i, G)),
                e
            }
            ,
            this.getResult = function() {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU()
                }
            }
            ,
            this.getUA = function() {
                return v
            }
            ,
            this.setUA = function(e) {
                return v = typeof e === s && e.length > 500 ? W(e, 500) : e,
                this
            }
            ,
            this.setUA(v),
            this
        };
        Y.VERSION = "1.0.38",
        Y.BROWSER = F([u, f, c]),
        Y.CPU = F([h]),
        Y.DEVICE = F([l, d, p, g, m, v, y, b, _]),
        Y.ENGINE = Y.OS = F([u, f]),
        e.exports && (t = e.exports = Y),
        t.UAParser = Y;
        var J = typeof n !== i && (n.jQuery || n.Zepto);
        if (J && !J.ua) {
            var Q = new Y;
            J.ua = Q.getResult(),
            J.ua.get = function() {
                return Q.getUA()
            }
            ,
            J.ua.set = function(e) {
                Q.setUA(e);
                var t = Q.getResult();
                for (var n in t)
                    J.ua[n] = t[n]
            }
        }
    }("object" == typeof window ? window : commonjsGlobal$1)
}(uaParser, uaParser.exports);
var uaParserExports = uaParser.exports;
function parseAbtestHeader(e) {
    return null == e ? void 0 : e.split(";").reduce(( (e, t) => {
        const [n,r] = t.split("=");
        return n && r && (e[n] = r.trim()),
        e
    }
    ), {})
}
const key = Symbol("multiAbtest")
  , getMultiAbtestFromContext = e => {
    var t, n;
    return parseAbtestHeader(null != (n = null == (t = e.headers) ? void 0 : t["kgateway-multi-abtest"]) ? n : "")
}
  , provideAbtest = (e, t) => {
    let n, r;
    t ? (n = t.kgatewayAbtest,
    r = getMultiAbtestFromContext(t)) : n = null == api ? void 0 : api.get("kGateway-abTest");
    const o = {
        singleResult: n,
        multiResult: r
    };
    return e.provide(key, o),
    o
}
  , useAbtest = e => {
    const t = inject(key);
    return e ? (null == t ? void 0 : t.multiResult) ? t.multiResult[e] : null == api ? void 0 : api.get(e) : null == t ? void 0 : t.singleResult
}
  , [provideCookies,useCookies] = createAppInjectionState((e => e ? e.cookies : api));
function flatHooks(e, t={}, n) {
    for (const r in e) {
        const o = e[r]
          , i = n ? "".concat(n, ":").concat(r) : r;
        "object" == typeof o && null !== o ? flatHooks(o, t, i) : "function" == typeof o && (t[i] = o)
    }
    return t
}
const defaultTask = {
    run: e => e()
}
  , _createTask = () => defaultTask
  , createTask = void 0 !== console.createTask ? console.createTask : _createTask;
function serialTaskCaller(e, t) {
    const n = t.shift()
      , r = createTask(n);
    return e.reduce(( (e, n) => e.then(( () => r.run(( () => n(...t)))))), Promise.resolve())
}
function parallelTaskCaller(e, t) {
    const n = t.shift()
      , r = createTask(n);
    return Promise.all(e.map((e => r.run(( () => e(...t))))))
}
function callEachWith(e, t) {
    for (const n of [...e])
        n(t)
}
class Hookable {
    constructor() {
        this._hooks = {},
        this._before = void 0,
        this._after = void 0,
        this._deprecatedMessages = void 0,
        this._deprecatedHooks = {},
        this.hook = this.hook.bind(this),
        this.callHook = this.callHook.bind(this),
        this.callHookWith = this.callHookWith.bind(this)
    }
    hook(e, t, n={}) {
        if (!e || "function" != typeof t)
            return () => {}
            ;
        const r = e;
        let o;
        for (; this._deprecatedHooks[e]; )
            o = this._deprecatedHooks[e],
            e = o.to;
        if (o && !n.allowDeprecated) {
            let e = o.message;
            e || (e = "".concat(r, " hook has been deprecated") + (o.to ? ", please use ".concat(o.to) : "")),
            this._deprecatedMessages || (this._deprecatedMessages = new Set),
            this._deprecatedMessages.has(e) || (console.warn(e),
            this._deprecatedMessages.add(e))
        }
        if (!t.name)
            try {
                Object.defineProperty(t, "name", {
                    get: () => "_" + e.replace(/\W+/g, "_") + "_hook_cb",
                    configurable: !0
                })
            } catch (e2) {}
        return this._hooks[e] = this._hooks[e] || [],
        this._hooks[e].push(t),
        () => {
            t && (this.removeHook(e, t),
            t = void 0)
        }
    }
    hookOnce(e, t) {
        let n, r = (...e) => ("function" == typeof n && n(),
        n = void 0,
        r = void 0,
        t(...e));
        return n = this.hook(e, r),
        n
    }
    removeHook(e, t) {
        if (this._hooks[e]) {
            const n = this._hooks[e].indexOf(t);
            -1 !== n && this._hooks[e].splice(n, 1),
            0 === this._hooks[e].length && delete this._hooks[e]
        }
    }
    deprecateHook(e, t) {
        this._deprecatedHooks[e] = "string" == typeof t ? {
            to: t
        } : t;
        const n = this._hooks[e] || [];
        delete this._hooks[e];
        for (const r of n)
            this.hook(e, r)
    }
    deprecateHooks(e) {
        Object.assign(this._deprecatedHooks, e);
        for (const t in e)
            this.deprecateHook(t, e[t])
    }
    addHooks(e) {
        const t = flatHooks(e)
          , n = Object.keys(t).map((e => this.hook(e, t[e])));
        return () => {
            for (const e of n.splice(0, n.length))
                e()
        }
    }
    removeHooks(e) {
        const t = flatHooks(e);
        for (const n in t)
            this.removeHook(n, t[n])
    }
    removeAllHooks() {
        for (const e in this._hooks)
            delete this._hooks[e]
    }
    callHook(e, ...t) {
        return t.unshift(e),
        this.callHookWith(serialTaskCaller, e, ...t)
    }
    callHookParallel(e, ...t) {
        return t.unshift(e),
        this.callHookWith(parallelTaskCaller, e, ...t)
    }
    callHookWith(e, t, ...n) {
        const r = this._before || this._after ? {
            name: t,
            args: n,
            context: {}
        } : void 0;
        this._before && callEachWith(this._before, r);
        const o = e(t in this._hooks ? [...this._hooks[t]] : [], n);
        return o instanceof Promise ? o.finally(( () => {
            this._after && r && callEachWith(this._after, r)
        }
        )) : (this._after && r && callEachWith(this._after, r),
        o)
    }
    beforeEach(e) {
        return this._before = this._before || [],
        this._before.push(e),
        () => {
            if (void 0 !== this._before) {
                const t = this._before.indexOf(e);
                -1 !== t && this._before.splice(t, 1)
            }
        }
    }
    afterEach(e) {
        return this._after = this._after || [],
        this._after.push(e),
        () => {
            if (void 0 !== this._after) {
                const t = this._after.indexOf(e);
                -1 !== t && this._after.splice(t, 1)
            }
        }
    }
}
function createHooks() {
    return new Hookable
}
function asArray$1(e) {
    return Array.isArray(e) ? e : [e]
}
const TagsWithInnerContent = ["title", "titleTemplate", "script", "style", "noscript"]
  , HasElementTags = ["base", "meta", "link", "style", "script", "noscript"]
  , ValidHeadTags = ["title", "titleTemplate", "templateParams", "base", "htmlAttrs", "bodyAttrs", "meta", "link", "style", "script", "noscript"]
  , UniqueTags = ["base", "title", "titleTemplate", "bodyAttrs", "htmlAttrs", "templateParams"]
  , TagConfigKeys = ["tagPosition", "tagPriority", "tagDuplicateStrategy", "children", "innerHTML", "textContent", "processTemplateParams"]
  , IsBrowser = "undefined" != typeof window;
function defineHeadPlugin(e) {
    return e
}
function hashCode(e) {
    let t = 9;
    for (let n = 0; n < e.length; )
        t = Math.imul(t ^ e.charCodeAt(n++), 9 ** 9);
    return (65536 + (t ^ t >>> 9)).toString(16).substring(1, 8).toLowerCase()
}
function hashTag(e) {
    return e._h || hashCode(e._d ? e._d : "".concat(e.tag, ":").concat(e.textContent || e.innerHTML || "", ":").concat(Object.entries(e.props).map(( ([e,t]) => "".concat(e, ":").concat(String(t)))).join(",")))
}
function tagDedupeKey(e, t) {
    const {props: n, tag: r} = e;
    if (UniqueTags.includes(r))
        return r;
    if ("link" === r && "canonical" === n.rel)
        return "canonical";
    if (n.charset)
        return "charset";
    const o = ["id"];
    "meta" === r && o.push("name", "property", "http-equiv");
    for (const i of o)
        if (void 0 !== n[i]) {
            const e = String(n[i]);
            return "".concat(r, ":").concat(i, ":").concat(e)
        }
    return !1
}
function resolveTitleTemplate(e, t) {
    return null == e ? t || null : "function" == typeof e ? e(t) : e
}
async function normaliseTag(e, t, n) {
    const r = {
        tag: e,
        props: await normaliseProps("object" != typeof t || "function" == typeof t || t instanceof Promise ? {
            [["script", "noscript", "style"].includes(e) ? "innerHTML" : "textContent"]: t
        } : {
            ...t
        }, ["templateParams", "titleTemplate"].includes(e))
    };
    return TagConfigKeys.forEach((e => {
        const t = void 0 !== r.props[e] ? r.props[e] : n[e];
        void 0 !== t && (["innerHTML", "textContent", "children"].includes(e) && !TagsWithInnerContent.includes(r.tag) || (r["children" === e ? "innerHTML" : e] = t),
        delete r.props[e])
    }
    )),
    r.props.body && (r.tagPosition = "bodyClose",
    delete r.props.body),
    "script" === r.tag && "object" == typeof r.innerHTML && (r.innerHTML = JSON.stringify(r.innerHTML),
    r.props.type = r.props.type || "application/json"),
    Array.isArray(r.props.content) ? r.props.content.map((e => ({
        ...r,
        props: {
            ...r.props,
            content: e
        }
    }))) : r
}
function normaliseStyleClassProps(e, t) {
    var n;
    const r = "class" === e ? " " : ";";
    return "object" != typeof t || Array.isArray(t) || (t = Object.entries(t).filter(( ([,e]) => e)).map(( ([t,n]) => "style" === e ? "".concat(t, ":").concat(n) : t))),
    null == (n = Array.isArray(t) ? t.join(r) : t) ? void 0 : n.split(r).filter((e => e.trim())).filter(Boolean).join(r)
}
async function normaliseProps(e, t) {
    for (const n of Object.keys(e))
        if (["class", "style"].includes(n))
            e[n] = normaliseStyleClassProps(n, e[n]);
        else if (e[n]instanceof Promise && (e[n] = await e[n]),
        !t && !TagConfigKeys.includes(n)) {
            const t = String(e[n])
              , r = n.startsWith("data-");
            "true" === t || "" === t ? e[n] = !r || "true" : e[n] || (r && "false" === t ? e[n] = "false" : delete e[n])
        }
    return e
}
const TagEntityBits = 10;
async function normaliseEntryTags(e) {
    const t = [];
    return Object.entries(e.resolvedInput).filter(( ([e,t]) => void 0 !== t && ValidHeadTags.includes(e))).forEach(( ([n,r]) => {
        const o = asArray$1(r);
        t.push(...o.map((t => normaliseTag(n, t, e))).flat())
    }
    )),
    (await Promise.all(t)).flat().filter(Boolean).map(( (t, n) => (t._e = e._i,
    e.mode && (t._m = e.mode),
    t._p = (e._i << TagEntityBits) + n,
    t)))
}
const TAG_WEIGHTS = {
    base: -10,
    title: 10
}
  , TAG_ALIASES = {
    critical: -80,
    high: -10,
    low: 20
};
function tagWeight(e) {
    let t = 100;
    const n = e.tagPriority;
    return "number" == typeof n ? n : ("meta" === e.tag ? ("content-security-policy" === e.props["http-equiv"] && (t = -30),
    e.props.charset && (t = -20),
    "viewport" === e.props.name && (t = -15)) : "link" === e.tag && "preconnect" === e.props.rel ? t = 20 : e.tag in TAG_WEIGHTS && (t = TAG_WEIGHTS[e.tag]),
    "string" == typeof n && n in TAG_ALIASES ? t + TAG_ALIASES[n] : t)
}
const SortModifiers = [{
    prefix: "before:",
    offset: -1
}, {
    prefix: "after:",
    offset: 1
}]
  , NetworkEvents = ["onload", "onerror", "onabort", "onprogress", "onloadstart"]
  , sepSub = "%separator";
function processTemplateParams(e, t, n) {
    if ("string" != typeof e || !e.includes("%"))
        return e;
    let r = e;
    try {
        r = decodeURI(e)
    } catch (e2) {}
    return (r.match(/%(\w+\.+\w+)|%(\w+)/g) || []).sort().reverse().forEach((n => {
        const r = function(e) {
            let n;
            return n = ["s", "pageTitle"].includes(e) ? t.pageTitle : e.includes(".") ? e.split(".").reduce(( (e, t) => e && e[t] || void 0), t) : t[e],
            void 0 !== n && (n || "").replace(/"/g, '\\"')
        }(n.slice(1));
        "string" == typeof r && (e = e.replace(new RegExp("\\".concat(n, "(\\W|$)"),"g"), ( (e, t) => "".concat(r).concat(t))).trim())
    }
    )),
    e.includes(sepSub) && (e.endsWith(sepSub) && (e = e.slice(0, -sepSub.length).trim()),
    e.startsWith(sepSub) && (e = e.slice(sepSub.length).trim()),
    e = processTemplateParams(e = e.replace(new RegExp("\\".concat(sepSub, "\\s*\\").concat(sepSub),"g"), sepSub), {
        separator: n
    }, n)),
    e
}
async function renderDOMHead(e, t={}) {
    var n;
    const r = t.document || e.resolvedOptions.document;
    if (!r || !e.dirty)
        return;
    const o = {
        shouldRender: !0,
        tags: []
    };
    if (await e.hooks.callHook("dom:beforeRender", o),
    !o.shouldRender)
        return;
    const i = (await e.resolveTags()).map((e => ({
        tag: e,
        id: HasElementTags.includes(e.tag) ? hashTag(e) : e.tag,
        shouldRender: !0
    })));
    let a = e._dom;
    if (!a) {
        a = {
            elMap: {
                htmlAttrs: r.documentElement,
                bodyAttrs: r.body
            }
        };
        for (const e of ["body", "head"]) {
            const t = null == (n = r[e]) ? void 0 : n.children
              , o = [];
            for (const e of [...t].filter((e => HasElementTags.includes(e.tagName.toLowerCase())))) {
                const t = {
                    tag: e.tagName.toLowerCase(),
                    props: await normaliseProps(e.getAttributeNames().reduce(( (t, n) => ({
                        ...t,
                        [n]: e.getAttribute(n)
                    })), {})),
                    innerHTML: e.innerHTML
                };
                let n = 1
                  , r = tagDedupeKey(t);
                for (; r && o.find((e => e._d === r)); )
                    r = "".concat(r, ":").concat(n++);
                t._d = r || void 0,
                o.push(t),
                a.elMap[e.getAttribute("data-hid") || hashTag(t)] = e
            }
        }
    }
    function s(e, t, n) {
        const r = "".concat(e, ":").concat(t);
        a.sideEffects[r] = n,
        delete a.pendingSideEffects[r]
    }
    function c({id: e, $el: t, tag: n}) {
        const o = n.tag.endsWith("Attrs");
        a.elMap[e] = t,
        o || (["textContent", "innerHTML"].forEach((e => {
            n[e] && n[e] !== t[e] && (t[e] = n[e])
        }
        )),
        s(e, "el", ( () => {
            var t;
            null == (t = a.elMap[e]) || t.remove(),
            delete a.elMap[e]
        }
        )));
        for (const [i,a] of Object.entries(n._eventHandlers || {}))
            "" !== t.getAttribute("data-".concat(i)) && (("bodyAttrs" === n.tag ? r.defaultView : t).addEventListener(i.replace("on", ""), a.bind(t)),
            t.setAttribute("data-".concat(i), ""));
        Object.entries(n.props).forEach(( ([n,r]) => {
            const i = "attr:".concat(n);
            if ("class" === n)
                for (const a of (r || "").split(" ").filter(Boolean))
                    o && s(e, "".concat(i, ":").concat(a), ( () => t.classList.remove(a))),
                    !t.classList.contains(a) && t.classList.add(a);
            else if ("style" === n)
                for (const o of (r || "").split(";").filter(Boolean)) {
                    const [n,...r] = o.split(":").map((e => e.trim()));
                    s(e, "".concat(i, ":").concat(o, ":").concat(n), ( () => {
                        t.style.removeProperty(n)
                    }
                    )),
                    t.style.setProperty(n, r.join(":"))
                }
            else
                t.getAttribute(n) !== r && t.setAttribute(n, !0 === r ? "" : String(r)),
                o && s(e, i, ( () => t.removeAttribute(n)))
        }
        ))
    }
    a.pendingSideEffects = {
        ...a.sideEffects || {}
    },
    a.sideEffects = {};
    const l = []
      , u = {
        bodyClose: void 0,
        bodyOpen: void 0,
        head: void 0
    };
    for (const p of i) {
        const {tag: e, shouldRender: t, id: n} = p;
        t && ("title" !== e.tag ? (p.$el = p.$el || a.elMap[n],
        p.$el ? c(p) : HasElementTags.includes(e.tag) && l.push(p)) : r.title = e.textContent)
    }
    for (const p of l) {
        const e = p.tag.tagPosition || "head";
        p.$el = r.createElement(p.tag.tag),
        c(p),
        u[e] = u[e] || r.createDocumentFragment(),
        u[e].appendChild(p.$el)
    }
    for (const p of i)
        await e.hooks.callHook("dom:renderTag", p, r, s);
    u.head && r.head.appendChild(u.head),
    u.bodyOpen && r.body.insertBefore(u.bodyOpen, r.body.firstChild),
    u.bodyClose && r.body.appendChild(u.bodyClose),
    Object.values(a.pendingSideEffects).forEach((e => e())),
    e._dom = a,
    e.dirty = !1,
    await e.hooks.callHook("dom:rendered", {
        renders: i
    })
}
async function debouncedRenderDOMHead(e, t={}) {
    const n = t.delayFn || (e => setTimeout(e, 10));
    return e._domUpdatePromise = e._domUpdatePromise || new Promise((r => n((async () => {
        await renderDOMHead(e, t),
        delete e._domUpdatePromise,
        r()
    }
    ))))
}
function DomPlugin(e) {
    return defineHeadPlugin((t => {
        var n, r;
        const o = (null == (r = null == (n = t.resolvedOptions.document) ? void 0 : n.head.querySelector('script[id="unhead:payload"]')) ? void 0 : r.innerHTML) || !1;
        return o && t.push(JSON.parse(o)),
        {
            mode: "client",
            hooks: {
                "entries:updated": function(t) {
                    debouncedRenderDOMHead(t, e)
                }
            }
        }
    }
    ))
}
const UsesMergeStrategy = ["templateParams", "htmlAttrs", "bodyAttrs"]
  , DedupePlugin = defineHeadPlugin({
    hooks: {
        "tag:normalise": function({tag: e}) {
            ["hid", "vmid", "key"].forEach((t => {
                e.props[t] && (e.key = e.props[t],
                delete e.props[t])
            }
            ));
            const t = tagDedupeKey(e) || !!e.key && "".concat(e.tag, ":").concat(e.key);
            t && (e._d = t)
        },
        "tags:resolve": function(e) {
            const t = {};
            e.tags.forEach((e => {
                const n = (e.key ? "".concat(e.tag, ":").concat(e.key) : e._d) || e._p
                  , r = t[n];
                if (r) {
                    let o = null == e ? void 0 : e.tagDuplicateStrategy;
                    if (!o && UsesMergeStrategy.includes(e.tag) && (o = "merge"),
                    "merge" === o) {
                        const o = r.props;
                        return ["class", "style"].forEach((t => {
                            o[t] && (e.props[t] ? ("style" !== t || o[t].endsWith(";") || (o[t] += ";"),
                            e.props[t] = "".concat(o[t], " ").concat(e.props[t])) : e.props[t] = o[t])
                        }
                        )),
                        void (t[n].props = {
                            ...o,
                            ...e.props
                        })
                    }
                    if (e._e === r._e)
                        return r._duped = r._duped || [],
                        e._d = "".concat(r._d, ":").concat(r._duped.length + 1),
                        void r._duped.push(e);
                    if (tagWeight(e) > tagWeight(r))
                        return
                }
                const o = Object.keys(e.props).length + (e.innerHTML ? 1 : 0) + (e.textContent ? 1 : 0);
                HasElementTags.includes(e.tag) && 0 === o ? delete t[n] : t[n] = e
            }
            ));
            const n = [];
            Object.values(t).forEach((e => {
                const t = e._duped;
                delete e._duped,
                n.push(e),
                t && n.push(...t)
            }
            )),
            e.tags = n,
            e.tags = e.tags.filter((e => !("meta" === e.tag && (e.props.name || e.props.property) && !e.props.content)))
        }
    }
})
  , PayloadPlugin = defineHeadPlugin({
    mode: "server",
    hooks: {
        "tags:resolve": function(e) {
            const t = {};
            e.tags.filter((e => ["titleTemplate", "templateParams", "title"].includes(e.tag) && "server" === e._m)).forEach((e => {
                t[e.tag] = e.tag.startsWith("title") ? e.textContent : e.props
            }
            )),
            Object.keys(t).length && e.tags.push({
                tag: "script",
                innerHTML: JSON.stringify(t),
                props: {
                    id: "unhead:payload",
                    type: "application/json"
                }
            })
        }
    }
})
  , ValidEventTags = ["script", "link", "bodyAttrs"]
  , EventHandlersPlugin = defineHeadPlugin((e => ({
    hooks: {
        "tags:resolve": function(t) {
            for (const n of t.tags.filter((e => ValidEventTags.includes(e.tag))))
                Object.entries(n.props).forEach(( ([t,r]) => {
                    t.startsWith("on") && "function" == typeof r && (e.ssr && NetworkEvents.includes(t) ? n.props[t] = "this.dataset.".concat(t, "fired = true") : delete n.props[t],
                    n._eventHandlers = n._eventHandlers || {},
                    n._eventHandlers[t] = r)
                }
                )),
                e.ssr && n._eventHandlers && (n.props.src || n.props.href) && (n.key = n.key || hashCode(n.props.src || n.props.href))
        },
        "dom:renderTag": function({$el: e, tag: t}) {
            var n, r;
            for (const o of Object.keys((null == e ? void 0 : e.dataset) || {}).filter((e => NetworkEvents.some((t => "".concat(t, "fired") === e))))) {
                const i = o.replace("fired", "");
                null == (r = null == (n = t._eventHandlers) ? void 0 : n[i]) || r.call(e, new Event(i.replace("on", "")))
            }
        }
    }
})))
  , DupeableTags = ["link", "style", "script", "noscript"]
  , HashKeyedPlugin = defineHeadPlugin({
    hooks: {
        "tag:normalise": ({tag: e}) => {
            e.key && DupeableTags.includes(e.tag) && (e.props["data-hid"] = e._h = hashCode(e.key))
        }
    }
})
  , SortPlugin = defineHeadPlugin({
    hooks: {
        "tags:resolve": e => {
            const t = t => {
                var n;
                return null == (n = e.tags.find((e => e._d === t))) ? void 0 : n._p
            }
            ;
            for (const {prefix: n, offset: r} of SortModifiers)
                for (const o of e.tags.filter((e => "string" == typeof e.tagPriority && e.tagPriority.startsWith(n)))) {
                    const e = t(o.tagPriority.replace(n, ""));
                    void 0 !== e && (o._p = e + r)
                }
            e.tags.sort(( (e, t) => e._p - t._p)).sort(( (e, t) => tagWeight(e) - tagWeight(t)))
        }
    }
})
  , SupportedAttrs = {
    meta: "content",
    link: "href",
    htmlAttrs: "lang"
}
  , TemplateParamsPlugin = defineHeadPlugin((e => ({
    hooks: {
        "tags:resolve": t => {
            var n;
            const {tags: r} = t
              , o = null == (n = r.find((e => "title" === e.tag))) ? void 0 : n.textContent
              , i = r.findIndex((e => "templateParams" === e.tag))
              , a = -1 !== i ? r[i].props : {}
              , s = a.separator || "|";
            delete a.separator,
            a.pageTitle = processTemplateParams(a.pageTitle || o || "", a, s);
            for (const e of r.filter((e => !1 !== e.processTemplateParams))) {
                const t = SupportedAttrs[e.tag];
                t && "string" == typeof e.props[t] ? e.props[t] = processTemplateParams(e.props[t], a, s) : (!0 === e.processTemplateParams || ["titleTemplate", "title"].includes(e.tag)) && ["innerHTML", "textContent"].forEach((t => {
                    "string" == typeof e[t] && (e[t] = processTemplateParams(e[t], a, s))
                }
                ))
            }
            e._templateParams = a,
            e._separator = s,
            t.tags = r.filter((e => "templateParams" !== e.tag))
        }
    }
})))
  , TitleTemplatePlugin = defineHeadPlugin({
    hooks: {
        "tags:resolve": e => {
            const {tags: t} = e;
            let n = t.findIndex((e => "titleTemplate" === e.tag));
            const r = t.findIndex((e => "title" === e.tag));
            if (-1 !== r && -1 !== n) {
                const e = resolveTitleTemplate(t[n].textContent, t[r].textContent);
                null !== e ? t[r].textContent = e || t[r].textContent : delete t[r]
            } else if (-1 !== n) {
                const e = resolveTitleTemplate(t[n].textContent);
                null !== e && (t[n].textContent = e,
                t[n].tag = "title",
                n = -1)
            }
            -1 !== n && delete t[n],
            e.tags = t.filter(Boolean)
        }
    }
})
  , XSSPlugin = defineHeadPlugin({
    hooks: {
        "tags:afterResolve": function(e) {
            for (const t of e.tags)
                "string" == typeof t.innerHTML && (t.innerHTML && ["application/ld+json", "application/json"].includes(t.props.type) ? t.innerHTML = t.innerHTML.replace(/</g, "\\u003C") : t.innerHTML = t.innerHTML.replace(new RegExp("</".concat(t.tag),"g"), "<\\/".concat(t.tag)))
        }
    }
});
let activeHead;
function createHead$1(e={}) {
    const t = createHeadCore(e);
    return t.use(DomPlugin()),
    activeHead = t
}
function filterMode(e, t) {
    return !e || "server" === e && t || "client" === e && !t
}
function createHeadCore(e={}) {
    const t = createHooks();
    t.addHooks(e.hooks || {}),
    e.document = e.document || (IsBrowser ? document : void 0);
    const n = !e.document
      , r = () => {
        s.dirty = !0,
        t.callHook("entries:updated", s)
    }
    ;
    let o = 0
      , i = [];
    const a = []
      , s = {
        plugins: a,
        dirty: !1,
        resolvedOptions: e,
        hooks: t,
        headEntries: () => i,
        use(e) {
            const r = "function" == typeof e ? e(s) : e;
            r.key && a.some((e => e.key === r.key)) || (a.push(r),
            filterMode(r.mode, n) && t.addHooks(r.hooks || {}))
        },
        push(e, a) {
            null == a || delete a.head;
            const c = {
                _i: o++,
                input: e,
                ...a
            };
            return filterMode(c.mode, n) && (i.push(c),
            r()),
            {
                dispose() {
                    i = i.filter((e => e._i !== c._i)),
                    t.callHook("entries:updated", s),
                    r()
                },
                patch(e) {
                    i = i.map((t => (t._i === c._i && (t.input = c.input = e),
                    t))),
                    r()
                }
            }
        },
        async resolveTags() {
            const e = {
                tags: [],
                entries: [...i]
            };
            await t.callHook("entries:resolve", e);
            for (const n of e.entries) {
                const r = n.resolvedInput || n.input;
                if (n.resolvedInput = await (n.transform ? n.transform(r) : r),
                n.resolvedInput)
                    for (const o of await normaliseEntryTags(n)) {
                        const r = {
                            tag: o,
                            entry: n,
                            resolvedOptions: s.resolvedOptions
                        };
                        await t.callHook("tag:normalise", r),
                        e.tags.push(r.tag)
                    }
            }
            return await t.callHook("tags:beforeResolve", e),
            await t.callHook("tags:resolve", e),
            await t.callHook("tags:afterResolve", e),
            e.tags
        },
        ssr: n
    };
    return [DedupePlugin, PayloadPlugin, EventHandlersPlugin, HashKeyedPlugin, SortPlugin, TemplateParamsPlugin, TitleTemplatePlugin, XSSPlugin, ...(null == e ? void 0 : e.plugins) || []].forEach((e => s.use(e))),
    s.hooks.callHook("init", s),
    s
}
function getActiveHead() {
    return activeHead
}
const Vue3 = version.startsWith("3");
function resolveUnref(e) {
    return "function" == typeof e ? e() : unref(e)
}
function resolveUnrefHeadInput(e, t="") {
    if (e instanceof Promise)
        return e;
    const n = resolveUnref(e);
    return e && n ? Array.isArray(n) ? n.map((e => resolveUnrefHeadInput(e, t))) : "object" == typeof n ? Object.fromEntries(Object.entries(n).map(( ([e,t]) => "titleTemplate" === e || e.startsWith("on") ? [e, unref(t)] : [e, resolveUnrefHeadInput(t, e)]))) : n : n
}
const VueReactivityPlugin = defineHeadPlugin({
    hooks: {
        "entries:resolve": function(e) {
            for (const t of e.entries)
                t.resolvedInput = resolveUnrefHeadInput(t.input)
        }
    }
})
  , headSymbol = "usehead";
function vueInstall(e) {
    return {
        install(t) {
            Vue3 && (t.config.globalProperties.$unhead = e,
            t.config.globalProperties.$head = e,
            t.provide(headSymbol, e))
        }
    }.install
}
function createHead(e={}) {
    e.domDelayFn = e.domDelayFn || (e => nextTick(( () => setTimeout(( () => e()), 0))));
    const t = createHead$1(e);
    return t.use(VueReactivityPlugin),
    t.install = vueInstall(t),
    t
}
const _global = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}
  , globalKey = "__unhead_injection_handler__";
function injectHead() {
    if (globalKey in _global)
        return _global[globalKey]();
    const e = inject(headSymbol);
    return e || getActiveHead()
}
function useHead(e, t={}) {
    const n = t.head || injectHead();
    if (n)
        return n.ssr ? n.push(e, t) : clientUseHead(n, e, t)
}
function clientUseHead(e, t, n={}) {
    const r = ref$1(!1)
      , o = ref$1({});
    watchEffect(( () => {
        o.value = r.value ? {} : resolveUnrefHeadInput(t)
    }
    ));
    const i = e.push(o.value, n);
    watch(o, (e => {
        i.patch(e)
    }
    ));
    return getCurrentInstance() && (onBeforeUnmount(( () => {
        i.dispose()
    }
    )),
    onDeactivated(( () => {
        r.value = !0
    }
    )),
    onActivated(( () => {
        r.value = !1
    }
    ))),
    i
}
function provideHead(e) {
    const t = createHead();
    e.use(t)
}
const [provideUrl,useUrl] = createAppInjectionState((e => e ? e.url : new URL(location.href)));
var e = function() {
    return e = Object.assign || function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var o in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e
    }
    ,
    e.apply(this, arguments)
};
function s(e, t, n, r) {
    return new (n || (n = Promise))((function(o, i) {
        function a(e) {
            try {
                c(r.next(e))
            } catch (t) {
                i(t)
            }
        }
        function s(e) {
            try {
                c(r.throw(e))
            } catch (t) {
                i(t)
            }
        }
        function c(e) {
            var t;
            e.done ? o(e.value) : (t = e.value,
            t instanceof n ? t : new n((function(e) {
                e(t)
            }
            ))).then(a, s)
        }
        c((r = r.apply(e, t || [])).next())
    }
    ))
}
function r(e, t) {
    var n, r, o, i = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    }, a = Object.create(("function" == typeof Iterator ? Iterator : Object).prototype);
    return a.next = s(0),
    a.throw = s(1),
    a.return = s(2),
    "function" == typeof Symbol && (a[Symbol.iterator] = function() {
        return this
    }
    ),
    a;
    function s(s) {
        return function(c) {
            return function(s) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; a && (a = 0,
                s[0] && (i = 0)),
                i; )
                    try {
                        if (n = 1,
                        r && (o = 2 & s[0] ? r.return : s[0] ? r.throw || ((o = r.return) && o.call(r),
                        0) : r.next) && !(o = o.call(r, s[1])).done)
                            return o;
                        switch (r = 0,
                        o && (s = [2 & s[0], o.value]),
                        s[0]) {
                        case 0:
                        case 1:
                            o = s;
                            break;
                        case 4:
                            return i.label++,
                            {
                                value: s[1],
                                done: !1
                            };
                        case 5:
                            i.label++,
                            r = s[1],
                            s = [0];
                            continue;
                        case 7:
                            s = i.ops.pop(),
                            i.trys.pop();
                            continue;
                        default:
                            if (!((o = (o = i.trys).length > 0 && o[o.length - 1]) || 6 !== s[0] && 2 !== s[0])) {
                                i = 0;
                                continue
                            }
                            if (3 === s[0] && (!o || s[1] > o[0] && s[1] < o[3])) {
                                i.label = s[1];
                                break
                            }
                            if (6 === s[0] && i.label < o[1]) {
                                i.label = o[1],
                                o = s;
                                break
                            }
                            if (o && i.label < o[2]) {
                                i.label = o[2],
                                i.ops.push(s);
                                break
                            }
                            o[2] && i.ops.pop(),
                            i.trys.pop();
                            continue
                        }
                        s = t.call(e, i)
                    } catch (c) {
                        s = [6, c],
                        r = 0
                    } finally {
                        n = o = 0
                    }
                if (5 & s[0])
                    throw s[1];
                return {
                    value: s[0] ? s[1] : void 0,
                    done: !0
                }
            }([s, c])
        }
    }
}
function n(e, t, n) {
    for (var r, o = 0, i = t.length; o < i; o++)
        !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)),
        r[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
"function" == typeof SuppressedError && SuppressedError;
var o = {
    FINGERPRINT: "kwfv1"
}
  , i = "/s/w/c"
  , c = {
    test: "https://infra-gdfp.test.gifshow.com",
    production: "https://gdfp.gifshow.com",
    kwai: "https://g-gdfp.kwai-pro.com"
}
  , a = "kwscode"
  , l = "kwssectoken"
  , h = "webweaponconfigs"
  , u = "K8wm5PvY9nX7qJc2"
  , p = "H4tL6rNd3vB9xM5k";
class d {
    static create(...e) {
        return new this(...e)
    }
    mixIn(e) {
        return Object.assign(this, e)
    }
    clone() {
        const e = new this.constructor;
        return Object.assign(e, this),
        e
    }
}
class f extends d {
    constructor(e=[], t=4 * e.length) {
        super();
        let n = e;
        if (n instanceof ArrayBuffer && (n = new Uint8Array(n)),
        (n instanceof Int8Array || n instanceof Uint8ClampedArray || n instanceof Int16Array || n instanceof Uint16Array || n instanceof Int32Array || n instanceof Uint32Array || n instanceof Float32Array || n instanceof Float64Array) && (n = new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),
        n instanceof Uint8Array) {
            const e = n.byteLength
              , t = [];
            for (let r = 0; r < e; r += 1)
                t[r >>> 2] |= n[r] << 24 - r % 4 * 8;
            this.words = t,
            this.sigBytes = e
        } else
            this.words = e,
            this.sigBytes = t
    }
    static random(e) {
        const t = []
          , n = e => {
            let t = e
              , n = 987654321;
            const r = 4294967295;
            return () => {
                n = 36969 * (65535 & n) + (n >> 16) & r,
                t = 18e3 * (65535 & t) + (t >> 16) & r;
                let e = (n << 16) + t & r;
                return e /= 4294967296,
                e += .5,
                e * (Math.random() > .5 ? 1 : -1)
            }
        }
        ;
        for (let r, o = 0; o < e; o += 4) {
            const e = n(4294967296 * (r || Math.random()));
            r = 987654071 * e(),
            t.push(4294967296 * e() | 0)
        }
        return new f(t,e)
    }
    toString(e=y) {
        return e.stringify(this)
    }
    concat(e) {
        const t = this.words
          , n = e.words
          , r = this.sigBytes
          , o = e.sigBytes;
        if (this.clamp(),
        r % 4)
            for (let i = 0; i < o; i += 1) {
                const e = n[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                t[r + i >>> 2] |= e << 24 - (r + i) % 4 * 8
            }
        else
            for (let i = 0; i < o; i += 4)
                t[r + i >>> 2] = n[i >>> 2];
        return this.sigBytes += o,
        this
    }
    clamp() {
        const {words: e, sigBytes: t} = this;
        e[t >>> 2] &= 4294967295 << 32 - t % 4 * 8,
        e.length = Math.ceil(t / 4)
    }
    clone() {
        const e = super.clone.call(this);
        return e.words = this.words.slice(0),
        e
    }
}
const y = {
    stringify(e) {
        const {words: t, sigBytes: n} = e
          , r = [];
        for (let o = 0; o < n; o += 1) {
            const e = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
            r.push((e >>> 4).toString(16)),
            r.push((15 & e).toString(16))
        }
        return r.join("")
    },
    parse(e) {
        const t = e.length
          , n = [];
        for (let r = 0; r < t; r += 2)
            n[r >>> 3] |= parseInt(e.substr(r, 2), 16) << 24 - r % 8 * 4;
        return new f(n,t / 2)
    }
}
  , g = {
    stringify(e) {
        const {words: t, sigBytes: n} = e
          , r = [];
        for (let o = 0; o < n; o += 1) {
            const e = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
            r.push(String.fromCharCode(e))
        }
        return r.join("")
    },
    parse(e) {
        const t = e.length
          , n = [];
        for (let r = 0; r < t; r += 1)
            n[r >>> 2] |= (255 & e.charCodeAt(r)) << 24 - r % 4 * 8;
        return new f(n,t)
    }
}
  , w = {
    stringify(e) {
        try {
            return decodeURIComponent(escape(g.stringify(e)))
        } catch (t) {
            throw new Error("Malformed UTF-8 data")
        }
    },
    parse: e => g.parse(unescape(encodeURIComponent(e)))
};
class _ extends d {
    constructor() {
        super(),
        this._minBufferSize = 0
    }
    reset() {
        this._data = new f,
        this._nDataBytes = 0
    }
    _append(e) {
        let t = e;
        "string" == typeof t && (t = w.parse(t)),
        this._data.concat(t),
        this._nDataBytes += t.sigBytes
    }
    _process(e) {
        let t;
        const {_data: n, blockSize: r} = this
          , o = n.words
          , i = n.sigBytes;
        let a = i / (4 * r);
        a = e ? Math.ceil(a) : Math.max((0 | a) - this._minBufferSize, 0);
        const s = a * r
          , c = Math.min(4 * s, i);
        if (s) {
            for (let e = 0; e < s; e += r)
                this._doProcessBlock(o, e);
            t = o.splice(0, s),
            n.sigBytes -= c
        }
        return new f(t,c)
    }
    clone() {
        const e = super.clone.call(this);
        return e._data = this._data.clone(),
        e
    }
}
class v extends _ {
    constructor(e) {
        super(),
        this.blockSize = 16,
        this.cfg = Object.assign(new d, e),
        this.reset()
    }
    static _createHelper(e) {
        return (t, n) => new e(n).finalize(t)
    }
    static _createHmacHelper(e) {
        return (t, n) => new m(e,n).finalize(t)
    }
    reset() {
        super.reset.call(this),
        this._doReset()
    }
    update(e) {
        return this._append(e),
        this._process(),
        this
    }
    finalize(e) {
        return e && this._append(e),
        this._doFinalize()
    }
}
class m extends d {
    constructor(e, t) {
        super();
        const n = new e;
        this._hasher = n;
        let r = t;
        "string" == typeof r && (r = w.parse(r));
        const o = n.blockSize
          , i = 4 * o;
        r.sigBytes > i && (r = n.finalize(t)),
        r.clamp();
        const a = r.clone();
        this._oKey = a;
        const s = r.clone();
        this._iKey = s;
        const c = a.words
          , l = s.words;
        for (let u = 0; u < o; u += 1)
            c[u] ^= 1549556828,
            l[u] ^= 909522486;
        a.sigBytes = i,
        s.sigBytes = i,
        this.reset()
    }
    reset() {
        const e = this._hasher;
        e.reset(),
        e.update(this._iKey)
    }
    update(e) {
        return this._hasher.update(e),
        this
    }
    finalize(e) {
        const t = this._hasher
          , n = t.finalize(e);
        return t.reset(),
        t.finalize(this._oKey.clone().concat(n))
    }
}
const k = {
    stringify(e) {
        const {words: t, sigBytes: n} = e
          , r = this._map;
        e.clamp();
        const o = [];
        for (let a = 0; a < n; a += 3) {
            const e = (t[a >>> 2] >>> 24 - a % 4 * 8 & 255) << 16 | (t[a + 1 >>> 2] >>> 24 - (a + 1) % 4 * 8 & 255) << 8 | t[a + 2 >>> 2] >>> 24 - (a + 2) % 4 * 8 & 255;
            for (let t = 0; t < 4 && a + .75 * t < n; t += 1)
                o.push(r.charAt(e >>> 6 * (3 - t) & 63))
        }
        const i = r.charAt(64);
        if (i)
            for (; o.length % 4; )
                o.push(i);
        return o.join("")
    },
    parse(e) {
        let t = e.length;
        const n = this._map;
        let r = this._reverseMap;
        if (!r) {
            this._reverseMap = [],
            r = this._reverseMap;
            for (let e = 0; e < n.length; e += 1)
                r[n.charCodeAt(e)] = e
        }
        const o = n.charAt(64);
        if (o) {
            const n = e.indexOf(o);
            -1 !== n && (t = n)
        }
        return ( (e, t, n) => {
            const r = [];
            let o = 0;
            for (let i = 0; i < t; i += 1)
                if (i % 4) {
                    const t = n[e.charCodeAt(i - 1)] << i % 4 * 2 | n[e.charCodeAt(i)] >>> 6 - i % 4 * 2;
                    r[o >>> 2] |= t << 24 - o % 4 * 8,
                    o += 1
                }
            return f.create(r, o)
        }
        )(e, t, r)
    },
    _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
}
  , S = [];
for (let $r = 0; $r < 64; $r += 1)
    S[$r] = 4294967296 * Math.abs(Math.sin($r + 1)) | 0;
const b = (e, t, n, r, o, i, a) => {
    const s = e + (t & n | ~t & r) + o + a;
    return (s << i | s >>> 32 - i) + t
}
  , R = (e, t, n, r, o, i, a) => {
    const s = e + (t & r | n & ~r) + o + a;
    return (s << i | s >>> 32 - i) + t
}
  , x = (e, t, n, r, o, i, a) => {
    const s = e + (t ^ n ^ r) + o + a;
    return (s << i | s >>> 32 - i) + t
}
  , B = (e, t, n, r, o, i, a) => {
    const s = e + (n ^ (t | ~r)) + o + a;
    return (s << i | s >>> 32 - i) + t
}
;
class I extends v {
    _doReset() {
        this._hash = new f([1732584193, 4023233417, 2562383102, 271733878])
    }
    _doProcessBlock(e, t) {
        const n = e;
        for (let b = 0; b < 16; b += 1) {
            const r = t + b
              , o = e[r];
            n[r] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8)
        }
        const r = this._hash.words
          , o = n[t + 0]
          , i = n[t + 1]
          , a = n[t + 2]
          , s = n[t + 3]
          , c = n[t + 4]
          , l = n[t + 5]
          , u = n[t + 6]
          , p = n[t + 7]
          , d = n[t + 8]
          , f = n[t + 9]
          , h = n[t + 10]
          , g = n[t + 11]
          , m = n[t + 12]
          , y = n[t + 13]
          , v = n[t + 14]
          , _ = n[t + 15];
        let w = r[0]
          , $ = r[1]
          , k = r[2]
          , E = r[3];
        w = b(w, $, k, E, o, 7, S[0]),
        E = b(E, w, $, k, i, 12, S[1]),
        k = b(k, E, w, $, a, 17, S[2]),
        $ = b($, k, E, w, s, 22, S[3]),
        w = b(w, $, k, E, c, 7, S[4]),
        E = b(E, w, $, k, l, 12, S[5]),
        k = b(k, E, w, $, u, 17, S[6]),
        $ = b($, k, E, w, p, 22, S[7]),
        w = b(w, $, k, E, d, 7, S[8]),
        E = b(E, w, $, k, f, 12, S[9]),
        k = b(k, E, w, $, h, 17, S[10]),
        $ = b($, k, E, w, g, 22, S[11]),
        w = b(w, $, k, E, m, 7, S[12]),
        E = b(E, w, $, k, y, 12, S[13]),
        k = b(k, E, w, $, v, 17, S[14]),
        $ = b($, k, E, w, _, 22, S[15]),
        w = R(w, $, k, E, i, 5, S[16]),
        E = R(E, w, $, k, u, 9, S[17]),
        k = R(k, E, w, $, g, 14, S[18]),
        $ = R($, k, E, w, o, 20, S[19]),
        w = R(w, $, k, E, l, 5, S[20]),
        E = R(E, w, $, k, h, 9, S[21]),
        k = R(k, E, w, $, _, 14, S[22]),
        $ = R($, k, E, w, c, 20, S[23]),
        w = R(w, $, k, E, f, 5, S[24]),
        E = R(E, w, $, k, v, 9, S[25]),
        k = R(k, E, w, $, s, 14, S[26]),
        $ = R($, k, E, w, d, 20, S[27]),
        w = R(w, $, k, E, y, 5, S[28]),
        E = R(E, w, $, k, a, 9, S[29]),
        k = R(k, E, w, $, p, 14, S[30]),
        $ = R($, k, E, w, m, 20, S[31]),
        w = x(w, $, k, E, l, 4, S[32]),
        E = x(E, w, $, k, d, 11, S[33]),
        k = x(k, E, w, $, g, 16, S[34]),
        $ = x($, k, E, w, v, 23, S[35]),
        w = x(w, $, k, E, i, 4, S[36]),
        E = x(E, w, $, k, c, 11, S[37]),
        k = x(k, E, w, $, p, 16, S[38]),
        $ = x($, k, E, w, h, 23, S[39]),
        w = x(w, $, k, E, y, 4, S[40]),
        E = x(E, w, $, k, o, 11, S[41]),
        k = x(k, E, w, $, s, 16, S[42]),
        $ = x($, k, E, w, u, 23, S[43]),
        w = x(w, $, k, E, f, 4, S[44]),
        E = x(E, w, $, k, m, 11, S[45]),
        k = x(k, E, w, $, _, 16, S[46]),
        $ = x($, k, E, w, a, 23, S[47]),
        w = B(w, $, k, E, o, 6, S[48]),
        E = B(E, w, $, k, p, 10, S[49]),
        k = B(k, E, w, $, v, 15, S[50]),
        $ = B($, k, E, w, l, 21, S[51]),
        w = B(w, $, k, E, m, 6, S[52]),
        E = B(E, w, $, k, s, 10, S[53]),
        k = B(k, E, w, $, h, 15, S[54]),
        $ = B($, k, E, w, i, 21, S[55]),
        w = B(w, $, k, E, d, 6, S[56]),
        E = B(E, w, $, k, _, 10, S[57]),
        k = B(k, E, w, $, u, 15, S[58]),
        $ = B($, k, E, w, y, 21, S[59]),
        w = B(w, $, k, E, c, 6, S[60]),
        E = B(E, w, $, k, g, 10, S[61]),
        k = B(k, E, w, $, a, 15, S[62]),
        $ = B($, k, E, w, f, 21, S[63]),
        r[0] = r[0] + w | 0,
        r[1] = r[1] + $ | 0,
        r[2] = r[2] + k | 0,
        r[3] = r[3] + E | 0
    }
    _doFinalize() {
        const e = this._data
          , t = e.words
          , n = 8 * this._nDataBytes
          , r = 8 * e.sigBytes;
        t[r >>> 5] |= 128 << 24 - r % 32;
        const o = Math.floor(n / 4294967296)
          , i = n;
        t[15 + (r + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
        t[14 + (r + 64 >>> 9 << 4)] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8),
        e.sigBytes = 4 * (t.length + 1),
        this._process();
        const a = this._hash
          , s = a.words;
        for (let c = 0; c < 4; c += 1) {
            const e = s[c];
            s[c] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8)
        }
        return a
    }
    clone() {
        const e = super.clone.call(this);
        return e._hash = this._hash.clone(),
        e
    }
}
class z extends d {
    constructor(e) {
        super(),
        this.cfg = Object.assign(new d, {
            keySize: 4,
            hasher: I,
            iterations: 1
        }, e)
    }
    compute(e, t) {
        let n;
        const {cfg: r} = this
          , o = r.hasher.create()
          , i = f.create()
          , a = i.words
          , {keySize: s, iterations: c} = r;
        for (; a.length < s; ) {
            n && o.update(n),
            n = o.update(e).finalize(t),
            o.reset();
            for (let e = 1; e < c; e += 1)
                n = o.finalize(n),
                o.reset();
            i.concat(n)
        }
        return i.sigBytes = 4 * s,
        i
    }
}
class E extends _ {
    constructor(e, t, n) {
        super(),
        this.cfg = Object.assign(new d, n),
        this._xformMode = e,
        this._key = t,
        this.reset()
    }
    static createEncryptor(e, t) {
        return this.create(this._ENC_XFORM_MODE, e, t)
    }
    static createDecryptor(e, t) {
        return this.create(this._DEC_XFORM_MODE, e, t)
    }
    static _createHelper(e) {
        const t = e => "string" == typeof e ? T : P;
        return {
            encrypt: (n, r, o) => t(r).encrypt(e, n, r, o),
            decrypt: (n, r, o) => t(r).decrypt(e, n, r, o)
        }
    }
    reset() {
        super.reset.call(this),
        this._doReset()
    }
    process(e) {
        return this._append(e),
        this._process()
    }
    finalize(e) {
        return e && this._append(e),
        this._doFinalize()
    }
}
E._ENC_XFORM_MODE = 1,
E._DEC_XFORM_MODE = 2,
E.keySize = 4,
E.ivSize = 4;
class N extends d {
    constructor(e, t) {
        super(),
        this._cipher = e,
        this._iv = t
    }
    static createEncryptor(e, t) {
        return this.Encryptor.create(e, t)
    }
    static createDecryptor(e, t) {
        return this.Decryptor.create(e, t)
    }
}
function O(e, t, n) {
    const r = e;
    let o;
    const i = this._iv;
    i ? (o = i,
    this._iv = void 0) : o = this._prevBlock;
    for (let a = 0; a < n; a += 1)
        r[t + a] ^= o[a]
}
class M extends N {
}
M.Encryptor = class extends M {
    processBlock(e, t) {
        const n = this._cipher
          , {blockSize: r} = n;
        O.call(this, e, t, r),
        n.encryptBlock(e, t),
        this._prevBlock = e.slice(t, t + r)
    }
}
,
M.Decryptor = class extends M {
    processBlock(e, t) {
        const n = this._cipher
          , {blockSize: r} = n
          , o = e.slice(t, t + r);
        n.decryptBlock(e, t),
        O.call(this, e, t, r),
        this._prevBlock = o
    }
}
;
const F = {
    pad(e, t) {
        const n = 4 * t
          , r = n - e.sigBytes % n
          , o = r << 24 | r << 16 | r << 8 | r
          , i = [];
        for (let s = 0; s < r; s += 4)
            i.push(o);
        const a = f.create(i, r);
        e.concat(a)
    },
    unpad(e) {
        const t = e
          , n = 255 & t.words[t.sigBytes - 1 >>> 2];
        t.sigBytes -= n
    }
};
class D extends E {
    constructor(e, t, n) {
        super(e, t, Object.assign({
            mode: M,
            padding: F
        }, n)),
        this.blockSize = 4
    }
    reset() {
        let e;
        super.reset.call(this);
        const {cfg: t} = this
          , {iv: n, mode: r} = t;
        this._xformMode === this.constructor._ENC_XFORM_MODE ? e = r.createEncryptor : (e = r.createDecryptor,
        this._minBufferSize = 1),
        this._mode = e.call(r, this, n && n.words),
        this._mode.__creator = e
    }
    _doProcessBlock(e, t) {
        this._mode.processBlock(e, t)
    }
    _doFinalize() {
        let e;
        const {padding: t} = this.cfg;
        return this._xformMode === this.constructor._ENC_XFORM_MODE ? (t.pad(this._data, this.blockSize),
        e = this._process(!0)) : (e = this._process(!0),
        t.unpad(e)),
        e
    }
}
class C extends d {
    constructor(e) {
        super(),
        this.mixIn(e)
    }
    toString(e) {
        return (e || this.formatter).stringify(this)
    }
}
const j = {
    stringify(e) {
        let t;
        const {ciphertext: n, salt: r} = e;
        return t = r ? f.create([1398893684, 1701076831]).concat(r).concat(n) : n,
        t.toString(k)
    },
    parse(e) {
        let t;
        const n = k.parse(e)
          , r = n.words;
        return 1398893684 === r[0] && 1701076831 === r[1] && (t = f.create(r.slice(2, 4)),
        r.splice(0, 4),
        n.sigBytes -= 16),
        C.create({
            ciphertext: n,
            salt: t
        })
    }
};
class P extends d {
    static encrypt(e, t, n, r) {
        const o = Object.assign(new d, this.cfg, r)
          , i = e.createEncryptor(n, o)
          , a = i.finalize(t)
          , s = i.cfg;
        return C.create({
            ciphertext: a,
            key: n,
            iv: s.iv,
            algorithm: e,
            mode: s.mode,
            padding: s.padding,
            blockSize: i.blockSize,
            formatter: o.format
        })
    }
    static decrypt(e, t, n, r) {
        let o = t;
        const i = Object.assign(new d, this.cfg, r);
        return o = this._parse(o, i.format),
        e.createDecryptor(n, i).finalize(o.ciphertext)
    }
    static _parse(e, t) {
        return "string" == typeof e ? t.parse(e, this) : e
    }
}
P.cfg = Object.assign(new d, {
    format: j
});
const A = {
    execute(e, t, n, r) {
        let o = r;
        o || (o = f.random(8));
        const i = z.create({
            keySize: t + n
        }).compute(e, o)
          , a = f.create(i.words.slice(t), 4 * n);
        return i.sigBytes = 4 * t,
        C.create({
            key: i,
            iv: a,
            salt: o
        })
    }
};
class T extends P {
    static encrypt(e, t, n, r) {
        const o = Object.assign(new d, this.cfg, r)
          , i = o.kdf.execute(n, e.keySize, e.ivSize);
        o.iv = i.iv;
        const a = P.encrypt.call(this, e, t, i.key, o);
        return a.mixIn(i),
        a
    }
    static decrypt(e, t, n, r) {
        let o = t;
        const i = Object.assign(new d, this.cfg, r);
        o = this._parse(o, i.format);
        const a = i.kdf.execute(n, e.keySize, e.ivSize, o.salt);
        return i.iv = a.iv,
        P.decrypt.call(this, e, o, a.key, i)
    }
}
T.cfg = Object.assign(P.cfg, {
    kdf: A
});
const U = []
  , G = []
  , K = []
  , H = []
  , X = []
  , q = []
  , J = []
  , L = []
  , W = []
  , Y = []
  , Q = [];
for (let $r = 0; $r < 256; $r += 1)
    Q[$r] = $r < 128 ? $r << 1 : $r << 1 ^ 283;
let V = 0
  , Z = 0;
for (let $r = 0; $r < 256; $r += 1) {
    let e = Z ^ Z << 1 ^ Z << 2 ^ Z << 3 ^ Z << 4;
    e = e >>> 8 ^ 255 & e ^ 99,
    U[V] = e,
    G[e] = V;
    const t = Q[V]
      , n = Q[t]
      , r = Q[n];
    let o = 257 * Q[e] ^ 16843008 * e;
    K[V] = o << 24 | o >>> 8,
    H[V] = o << 16 | o >>> 16,
    X[V] = o << 8 | o >>> 24,
    q[V] = o,
    o = 16843009 * r ^ 65537 * n ^ 257 * t ^ 16843008 * V,
    J[e] = o << 24 | o >>> 8,
    L[e] = o << 16 | o >>> 16,
    W[e] = o << 8 | o >>> 24,
    Y[e] = o,
    V ? (V = t ^ Q[Q[Q[r ^ t]]],
    Z ^= Q[Q[Z]]) : (Z = 1,
    V = Z)
}
const $ = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54];
class tt extends D {
    _doReset() {
        let e;
        if (this._nRounds && this._keyPriorReset === this._key)
            return;
        this._keyPriorReset = this._key;
        const t = this._keyPriorReset
          , n = t.words
          , r = t.sigBytes / 4;
        this._nRounds = r + 6;
        const o = 4 * (this._nRounds + 1);
        this._keySchedule = [];
        const i = this._keySchedule;
        for (let s = 0; s < o; s += 1)
            s < r ? i[s] = n[s] : (e = i[s - 1],
            s % r ? r > 6 && s % r == 4 && (e = U[e >>> 24] << 24 | U[e >>> 16 & 255] << 16 | U[e >>> 8 & 255] << 8 | U[255 & e]) : (e = e << 8 | e >>> 24,
            e = U[e >>> 24] << 24 | U[e >>> 16 & 255] << 16 | U[e >>> 8 & 255] << 8 | U[255 & e],
            e ^= $[s / r | 0] << 24),
            i[s] = i[s - r] ^ e);
        this._invKeySchedule = [];
        const a = this._invKeySchedule;
        for (let s = 0; s < o; s += 1) {
            const t = o - s;
            e = s % 4 ? i[t] : i[t - 4],
            a[s] = s < 4 || t <= 4 ? e : J[U[e >>> 24]] ^ L[U[e >>> 16 & 255]] ^ W[U[e >>> 8 & 255]] ^ Y[U[255 & e]]
        }
    }
    encryptBlock(e, t) {
        this._doCryptBlock(e, t, this._keySchedule, K, H, X, q, U)
    }
    decryptBlock(e, t) {
        const n = e;
        let r = n[t + 1];
        n[t + 1] = n[t + 3],
        n[t + 3] = r,
        this._doCryptBlock(n, t, this._invKeySchedule, J, L, W, Y, G),
        r = n[t + 1],
        n[t + 1] = n[t + 3],
        n[t + 3] = r
    }
    _doCryptBlock(e, t, n, r, o, i, a, s) {
        const c = e
          , l = this._nRounds;
        let u = c[t] ^ n[0]
          , p = c[t + 1] ^ n[1]
          , d = c[t + 2] ^ n[2]
          , f = c[t + 3] ^ n[3]
          , h = 4;
        for (let b = 1; b < l; b += 1) {
            const e = r[u >>> 24] ^ o[p >>> 16 & 255] ^ i[d >>> 8 & 255] ^ a[255 & f] ^ n[h];
            h += 1;
            const t = r[p >>> 24] ^ o[d >>> 16 & 255] ^ i[f >>> 8 & 255] ^ a[255 & u] ^ n[h];
            h += 1;
            const s = r[d >>> 24] ^ o[f >>> 16 & 255] ^ i[u >>> 8 & 255] ^ a[255 & p] ^ n[h];
            h += 1;
            const c = r[f >>> 24] ^ o[u >>> 16 & 255] ^ i[p >>> 8 & 255] ^ a[255 & d] ^ n[h];
            h += 1,
            u = e,
            p = t,
            d = s,
            f = c
        }
        const g = (s[u >>> 24] << 24 | s[p >>> 16 & 255] << 16 | s[d >>> 8 & 255] << 8 | s[255 & f]) ^ n[h];
        h += 1;
        const m = (s[p >>> 24] << 24 | s[d >>> 16 & 255] << 16 | s[f >>> 8 & 255] << 8 | s[255 & u]) ^ n[h];
        h += 1;
        const y = (s[d >>> 24] << 24 | s[f >>> 16 & 255] << 16 | s[u >>> 8 & 255] << 8 | s[255 & p]) ^ n[h];
        h += 1;
        const v = (s[f >>> 24] << 24 | s[u >>> 16 & 255] << 16 | s[p >>> 8 & 255] << 8 | s[255 & d]) ^ n[h];
        h += 1,
        c[t] = g,
        c[t + 1] = m,
        c[t + 2] = y,
        c[t + 3] = v
    }
}
tt.keySize = 8;
const et = D._createHelper(tt);
var st = "undefined" == typeof window;
function rt(e) {
    return (null == e ? void 0 : e.did) || api.get("did") || ""
}
function nt(e, t) {
    var n = w.parse(t || h)
      , r = n;
    return et.encrypt(e, n, {
        iv: r,
        mode: M,
        padding: F
    }).toString()
}
var ot = function(e) {
    for (var t = "", n = 0; n < e; n++)
        t += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62 * Math.random())];
    return t
}
  , it = function() {
    var e = Date.now()
      , t = "".concat(e, "|").concat(ot(8))
      , n = "".concat(nt(t, u));
    return "".concat(n, "###ssrd")
}
  , ct = function(t, n, r) {
    api.set(t, n, e(e({}, r), {
        domain: location.hostname.split(".").slice(-2).join(".")
    }))
}
  , at = function() {
    function t(t) {
        var d = this;
        this.loadScript = function(e) {
            for (var t = [], o = 1; o < arguments.length; o++)
                t[o - 1] = arguments[o];
            return s(d, n([e], t), void 0, (function(e, t) {
                var n;
                return void 0 === t && (t = 0),
                r(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return r.trys.push([0, 2, , 3]),
                        [4, new Promise((function(t, n) {
                            var r = document.createElement("script");
                            r.src = e,
                            r.type = "text/javascript",
                            r.crossOrigin = "anonymous",
                            r.onload = function() {
                                return t()
                            }
                            ,
                            r.onerror = n,
                            document.body.appendChild(r)
                        }
                        ))];
                    case 1:
                        return r.sent(),
                        [3, 3];
                    case 2:
                        if (n = r.sent(),
                        t < this.options.maxRetries)
                            return console.warn("Failed to load script, retrying... (".concat(t + 1, "/").concat(2, ")")),
                            [2, this.loadScript(e, t + 1)];
                        throw n;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        this.initScript = function() {
            return s(d, void 0, void 0, (function() {
                var e, t, n, o;
                return r(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return [4, this.fetchConfig()];
                    case 1:
                        return e = r.sent(),
                        t = e.fpUrl,
                        n = e.signUrl,
                        o = e.secToken,
                        this.handleFingerprint(t),
                        this.handleSignature(n, o),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        this.handleFingerprint = function(e) {
            return s(d, void 0, void 0, (function() {
                var t;
                return r(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return n.trys.push([0, 2, , 3]),
                        [4, this.loadScript(e)];
                    case 1:
                        return n.sent(),
                        this.pollFpInterval = setInterval((function() {
                            var e;
                            null === (e = null === window || void 0 === window ? void 0 : window.kwpsec) || void 0 === e || e.getData()
                        }
                        ), 18e4),
                        [3, 3];
                    case 2:
                        return t = n.sent(),
                        console.error("Failed to init fingerprint:", t),
                        [3, 3];
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        this.pollSignature = function() {
            return s(d, void 0, void 0, (function() {
                var e, t, n, o;
                return r(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return r.trys.push([0, 2, , 3]),
                        [4, this.fetchConfig()];
                    case 1:
                        return e = r.sent(),
                        t = e.signUrl,
                        n = e.secToken,
                        this.handleSignature(t, n),
                        [3, 3];
                    case 2:
                        return o = r.sent(),
                        console.error("Failed to fetch signature config:", o),
                        [3, 3];
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        this.handleSignature = function(e, t) {
            return s(d, void 0, void 0, (function() {
                var n;
                return r(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        r.trys.push([0, 5, , 6]),
                        window.kwscb = function(e) {
                            ct(l, t, {
                                expires: 6 / 1440
                            }),
                            ct(a, e, {
                                expires: 6 / 1440
                            })
                        }
                        ,
                        r.label = 1;
                    case 1:
                        return r.trys.push([1, , 3, 4]),
                        [4, this.loadScript(e)];
                    case 2:
                        return r.sent(),
                        [3, 4];
                    case 3:
                        return delete window.kwscb,
                        [7];
                    case 4:
                        return [3, 6];
                    case 5:
                        return n = r.sent(),
                        console.error("Failed to fetch signature script:", n),
                        [3, 6];
                    case 6:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        this.fetchConfig = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            return s(d, n([], e), void 0, (function(e) {
                var t, n, o, a, s;
                return void 0 === e && (e = 0),
                r(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        t = new XMLHttpRequest,
                        l = this.options,
                        u = l.env || "production",
                        p = c[u],
                        "production" === u && l.host && (p = c[l.host] || l.host),
                        n = "".concat(p).concat(i),
                        o = {
                            productName: this.options.productName,
                            ts: Date.now(),
                            did: rt(this.options)
                        },
                        a = nt(JSON.stringify(o)),
                        t.open("POST", n, !0),
                        t.setRequestHeader("Content-Type", "application/json"),
                        r.label = 1;
                    case 1:
                        return r.trys.push([1, 3, , 4]),
                        [4, new Promise((function(e, n) {
                            t.onload = function() {
                                if (200 === t.status) {
                                    var r = JSON.parse(t.responseText);
                                    if (1 === r.result) {
                                        var o = JSON.parse((i = r.dataRsp,
                                        a = w.parse(h),
                                        s = a,
                                        et.decrypt(i, a, {
                                            iv: s,
                                            mode: M,
                                            padding: F
                                        }).toString(w))) || {};
                                        e(o)
                                    } else
                                        n(new Error(r.error_msg || "Request failed"))
                                } else
                                    n(new Error("Request failed with status ".concat(t.status)));
                                var i, a, s
                            }
                            ,
                            t.onerror = function() {
                                return n(new Error("Network error"))
                            }
                            ,
                            t.send(JSON.stringify({
                                data: a
                            }))
                        }
                        ))];
                    case 2:
                        return [2, r.sent()];
                    case 3:
                        if (s = r.sent(),
                        e < this.options.maxRetries)
                            return console.warn("获取配置失败，正在重试... (".concat(e + 1, "/2)")),
                            [2, this.fetchConfig(e + 1)];
                        throw s;
                    case 4:
                        return [2]
                    }
                    var l, u, p
                }
                ))
            }
            ))
        }
        ,
        this.getDefaultData = function() {
            var e = Date.now()
              , t = localStorage.getItem(o.FINGERPRINT)
              , n = api.get(a)
              , r = api.get(l);
            if (!t) {
                var i = "".concat(encodeURI(location.href), "|").concat(rt(d.options), "|").concat(d.options.productName, "|").concat(e, "|").concat(ot(8))
                  , s = "".concat(nt(i, u));
                t = "K".concat(s.slice(0, 4), "W").concat(s.slice(4, -2), "F").concat(s.slice(-2)),
                localStorage.setItem(o.FINGERPRINT, t)
            }
            if (!n || !r) {
                r = ot(64);
                var c = "".concat(encodeURI(location.href), "|").concat(rt(d.options), "|").concat(d.options.productName, "|").concat(e, "|").concat(r.slice(0, 8))
                  , f = "".concat(nt(c, p));
                n = "K".concat(f.slice(0, 4), "W").concat(f.slice(4, -2), "S").concat(f.slice(-2)),
                ct(l, r, {
                    expires: 6 / 1440
                }),
                ct(a, n, {
                    expires: 6 / 1440
                })
            }
            return {
                encryptedFp: t,
                encryptedToken: n,
                secToken: r
            }
        }
        ,
        this.setProductName = function() {
            var e = d.options.productName;
            e && ct("kwpsecproductname", e, {
                expires: 30
            })
        }
        ,
        this.options = e({
            maxRetries: 2,
            env: "production"
        }, t),
        window.webWeapon = {
            productName: this.options.productName
        },
        this.init()
    }
    return t.prototype.init = function() {
        this.setProductName(),
        this.getDefaultData(),
        this.initScript(),
        this.pollSignInterval = setInterval(this.pollSignature, 3e5)
    }
    ,
    t
}()
  , lt = function(e) {
    return new at(e)
}
  , ht = function(e) {
    try {
        var t = "";
        if (e.headers || (e.headers = {}),
        st)
            if (e.headers.cookie) {
                var n = e.headers.cookie.match(new RegExp("".concat(o.FINGERPRINT, "=([^;]+)")));
                t = n ? "".concat(decodeURIComponent(n[1]), "###ssrc") : it()
            } else
                t = it();
        else
            !(t = localStorage.getItem(o.FINGERPRINT) || api.get(o.FINGERPRINT) || "") && (null === window || void 0 === window ? void 0 : window.kwpsec) && (t = window.kwpsec.getData());
        t && (e.headers.kww = t)
    } catch (t2) {}
    return e
}
  , extendStatics = function(e, t) {
    return (extendStatics = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(e, t) {
        e.__proto__ = t
    }
    || function(e, t) {
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n])
    }
    )(e, t)
};
function __extends(e, t) {
    if ("function" != typeof t && null !== t)
        throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function n() {
        this.constructor = e
    }
    extendStatics(e, t),
    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
    new n)
}
function __awaiter(e, t, n, r) {
    return new (n || (n = Promise))((function(o, i) {
        function a(e) {
            try {
                c(r.next(e))
            } catch (e2) {
                i(e2)
            }
        }
        function s(e) {
            try {
                c(r.throw(e))
            } catch (e2) {
                i(e2)
            }
        }
        function c(e) {
            var t;
            e.done ? o(e.value) : (t = e.value,
            t instanceof n ? t : new n((function(e) {
                e(t)
            }
            ))).then(a, s)
        }
        c((r = r.apply(e, t || [])).next())
    }
    ))
}
function __generator(e, t) {
    var n, r, o, i, a = {
        label: 0,
        sent: function() {
            if (1 & o[0])
                throw o[1];
            return o[1]
        },
        trys: [],
        ops: []
    };
    return i = {
        next: s(0),
        throw: s(1),
        return: s(2)
    },
    "function" == typeof Symbol && (i[Symbol.iterator] = function() {
        return this
    }
    ),
    i;
    function s(s) {
        return function(c) {
            return function(s) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; i && (i = 0,
                s[0] && (a = 0)),
                a; )
                    try {
                        if (n = 1,
                        r && (o = 2 & s[0] ? r.return : s[0] ? r.throw || ((o = r.return) && o.call(r),
                        0) : r.next) && !(o = o.call(r, s[1])).done)
                            return o;
                        switch (r = 0,
                        o && (s = [2 & s[0], o.value]),
                        s[0]) {
                        case 0:
                        case 1:
                            o = s;
                            break;
                        case 4:
                            return a.label++,
                            {
                                value: s[1],
                                done: !1
                            };
                        case 5:
                            a.label++,
                            r = s[1],
                            s = [0];
                            continue;
                        case 7:
                            s = a.ops.pop(),
                            a.trys.pop();
                            continue;
                        default:
                            if (!(o = a.trys,
                            (o = o.length > 0 && o[o.length - 1]) || 6 !== s[0] && 2 !== s[0])) {
                                a = 0;
                                continue
                            }
                            if (3 === s[0] && (!o || s[1] > o[0] && s[1] < o[3])) {
                                a.label = s[1];
                                break
                            }
                            if (6 === s[0] && a.label < o[1]) {
                                a.label = o[1],
                                o = s;
                                break
                            }
                            if (o && a.label < o[2]) {
                                a.label = o[2],
                                a.ops.push(s);
                                break
                            }
                            o[2] && a.ops.pop(),
                            a.trys.pop();
                            continue
                        }
                        s = t.call(e, a)
                    } catch (e2) {
                        s = [6, e2],
                        r = 0
                    } finally {
                        n = o = 0
                    }
                if (5 & s[0])
                    throw s[1];
                return {
                    value: s[0] ? s[1] : void 0,
                    done: !0
                }
            }([s, c])
        }
    }
}
function __values(e) {
    var t = "function" == typeof Symbol && Symbol.iterator
      , n = t && e[t]
      , r = 0;
    if (n)
        return n.call(e);
    if (e && "number" == typeof e.length)
        return {
            next: function() {
                return e && r >= e.length && (e = void 0),
                {
                    value: e && e[r++],
                    done: !e
                }
            }
        };
    throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.")
}
function __read(e, t) {
    var n = "function" == typeof Symbol && e[Symbol.iterator];
    if (!n)
        return e;
    var r, o, i = n.call(e), a = [];
    try {
        for (; (void 0 === t || t-- > 0) && !(r = i.next()).done; )
            a.push(r.value)
    } catch (s) {
        o = {
            error: s
        }
    } finally {
        try {
            r && !r.done && (n = i.return) && n.call(i)
        } finally {
            if (o)
                throw o.error
        }
    }
    return a
}
function __spreadArray(e, t, n) {
    if (n || 2 === arguments.length)
        for (var r, o = 0, i = t.length; o < i; o++)
            !r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)),
            r[o] = t[o]);
    return e.concat(r || Array.prototype.slice.call(t))
}
function __await(e) {
    return this instanceof __await ? (this.v = e,
    this) : new __await(e)
}
function __asyncGenerator(e, t, n) {
    if (!Symbol.asyncIterator)
        throw new TypeError("Symbol.asyncIterator is not defined.");
    var r, o = n.apply(e, t || []), i = [];
    return r = {},
    a("next"),
    a("throw"),
    a("return"),
    r[Symbol.asyncIterator] = function() {
        return this
    }
    ,
    r;
    function a(e) {
        o[e] && (r[e] = function(t) {
            return new Promise((function(n, r) {
                i.push([e, t, n, r]) > 1 || s(e, t)
            }
            ))
        }
        )
    }
    function s(e, t) {
        try {
            (n = o[e](t)).value instanceof __await ? Promise.resolve(n.value.v).then(c, l) : u(i[0][2], n)
        } catch (e2) {
            u(i[0][3], e2)
        }
        var n
    }
    function c(e) {
        s("next", e)
    }
    function l(e) {
        s("throw", e)
    }
    function u(e, t) {
        e(t),
        i.shift(),
        i.length && s(i[0][0], i[0][1])
    }
}
function __asyncValues(e) {
    if (!Symbol.asyncIterator)
        throw new TypeError("Symbol.asyncIterator is not defined.");
    var t, n = e[Symbol.asyncIterator];
    return n ? n.call(e) : (e = "function" == typeof __values ? __values(e) : e[Symbol.iterator](),
    t = {},
    r("next"),
    r("throw"),
    r("return"),
    t[Symbol.asyncIterator] = function() {
        return this
    }
    ,
    t);
    function r(n) {
        t[n] = e[n] && function(t) {
            return new Promise((function(r, o) {
                (function(e, t, n, r) {
                    Promise.resolve(r).then((function(t) {
                        e({
                            value: t,
                            done: n
                        })
                    }
                    ), t)
                }
                )(r, o, (t = e[n](t)).done, t.value)
            }
            ))
        }
    }
}
function isFunction(e) {
    return "function" == typeof e
}
function createErrorClass(e) {
    var t = e((function(e) {
        Error.call(e),
        e.stack = (new Error).stack
    }
    ));
    return t.prototype = Object.create(Error.prototype),
    t.prototype.constructor = t,
    t
}
"function" == typeof SuppressedError && SuppressedError;
var UnsubscriptionError = createErrorClass((function(e) {
    return function(t) {
        e(this),
        this.message = t ? t.length + " errors occurred during unsubscription:\n" + t.map((function(e, t) {
            return t + 1 + ") " + e.toString()
        }
        )).join("\n  ") : "",
        this.name = "UnsubscriptionError",
        this.errors = t
    }
}
));
function arrRemove(e, t) {
    if (e) {
        var n = e.indexOf(t);
        0 <= n && e.splice(n, 1)
    }
}
var Subscription = function() {
    function e(e) {
        this.initialTeardown = e,
        this.closed = !1,
        this._parentage = null,
        this._finalizers = null
    }
    var t;
    return e.prototype.unsubscribe = function() {
        var e, t, n, r, o;
        if (!this.closed) {
            this.closed = !0;
            var i = this._parentage;
            if (i)
                if (this._parentage = null,
                Array.isArray(i))
                    try {
                        for (var a = __values(i), s = a.next(); !s.done; s = a.next()) {
                            s.value.remove(this)
                        }
                    } catch (f) {
                        e = {
                            error: f
                        }
                    } finally {
                        try {
                            s && !s.done && (t = a.return) && t.call(a)
                        } finally {
                            if (e)
                                throw e.error
                        }
                    }
                else
                    i.remove(this);
            var c = this.initialTeardown;
            if (isFunction(c))
                try {
                    c()
                } catch (e2) {
                    o = e2 instanceof UnsubscriptionError ? e2.errors : [e2]
                }
            var l = this._finalizers;
            if (l) {
                this._finalizers = null;
                try {
                    for (var u = __values(l), p = u.next(); !p.done; p = u.next()) {
                        var d = p.value;
                        try {
                            execFinalizer(d)
                        } catch (h) {
                            o = null != o ? o : [],
                            h instanceof UnsubscriptionError ? o = __spreadArray(__spreadArray([], __read(o)), __read(h.errors)) : o.push(h)
                        }
                    }
                } catch (g) {
                    n = {
                        error: g
                    }
                } finally {
                    try {
                        p && !p.done && (r = u.return) && r.call(u)
                    } finally {
                        if (n)
                            throw n.error
                    }
                }
            }
            if (o)
                throw new UnsubscriptionError(o)
        }
    }
    ,
    e.prototype.add = function(t) {
        var n;
        if (t && t !== this)
            if (this.closed)
                execFinalizer(t);
            else {
                if (t instanceof e) {
                    if (t.closed || t._hasParent(this))
                        return;
                    t._addParent(this)
                }
                (this._finalizers = null !== (n = this._finalizers) && void 0 !== n ? n : []).push(t)
            }
    }
    ,
    e.prototype._hasParent = function(e) {
        var t = this._parentage;
        return t === e || Array.isArray(t) && t.includes(e)
    }
    ,
    e.prototype._addParent = function(e) {
        var t = this._parentage;
        this._parentage = Array.isArray(t) ? (t.push(e),
        t) : t ? [t, e] : e
    }
    ,
    e.prototype._removeParent = function(e) {
        var t = this._parentage;
        t === e ? this._parentage = null : Array.isArray(t) && arrRemove(t, e)
    }
    ,
    e.prototype.remove = function(t) {
        var n = this._finalizers;
        n && arrRemove(n, t),
        t instanceof e && t._removeParent(this)
    }
    ,
    e.EMPTY = ((t = new e).closed = !0,
    t),
    e
}()
  , EMPTY_SUBSCRIPTION = Subscription.EMPTY;
function isSubscription(e) {
    return e instanceof Subscription || e && "closed"in e && isFunction(e.remove) && isFunction(e.add) && isFunction(e.unsubscribe)
}
function execFinalizer(e) {
    isFunction(e) ? e() : e.unsubscribe()
}
var config = {
    onUnhandledError: null,
    onStoppedNotification: null,
    Promise: void 0,
    useDeprecatedSynchronousErrorHandling: !1,
    useDeprecatedNextContext: !1
}
  , timeoutProvider = {
    setTimeout: function(e, t) {
        for (var n = [], r = 2; r < arguments.length; r++)
            n[r - 2] = arguments[r];
        return setTimeout.apply(void 0, __spreadArray([e, t], __read(n)))
    },
    clearTimeout: function(e) {
        var t = timeoutProvider.delegate;
        return ((null == t ? void 0 : t.clearTimeout) || clearTimeout)(e)
    },
    delegate: void 0
};
function reportUnhandledError(e) {
    timeoutProvider.setTimeout((function() {
        throw e
    }
    ))
}
function noop$1() {}
function errorContext(e) {
    e()
}
var Subscriber = function(e) {
    function t(t) {
        var n = e.call(this) || this;
        return n.isStopped = !1,
        t ? (n.destination = t,
        isSubscription(t) && t.add(n)) : n.destination = EMPTY_OBSERVER,
        n
    }
    return __extends(t, e),
    t.create = function(e, t, n) {
        return new SafeSubscriber(e,t,n)
    }
    ,
    t.prototype.next = function(e) {
        this.isStopped || this._next(e)
    }
    ,
    t.prototype.error = function(e) {
        this.isStopped || (this.isStopped = !0,
        this._error(e))
    }
    ,
    t.prototype.complete = function() {
        this.isStopped || (this.isStopped = !0,
        this._complete())
    }
    ,
    t.prototype.unsubscribe = function() {
        this.closed || (this.isStopped = !0,
        e.prototype.unsubscribe.call(this),
        this.destination = null)
    }
    ,
    t.prototype._next = function(e) {
        this.destination.next(e)
    }
    ,
    t.prototype._error = function(e) {
        try {
            this.destination.error(e)
        } finally {
            this.unsubscribe()
        }
    }
    ,
    t.prototype._complete = function() {
        try {
            this.destination.complete()
        } finally {
            this.unsubscribe()
        }
    }
    ,
    t
}(Subscription)
  , _bind = Function.prototype.bind;
function bind$2(e, t) {
    return _bind.call(e, t)
}
var ConsumerObserver = function() {
    function e(e) {
        this.partialObserver = e
    }
    return e.prototype.next = function(e) {
        var t = this.partialObserver;
        if (t.next)
            try {
                t.next(e)
            } catch (n) {
                handleUnhandledError(n)
            }
    }
    ,
    e.prototype.error = function(e) {
        var t = this.partialObserver;
        if (t.error)
            try {
                t.error(e)
            } catch (n) {
                handleUnhandledError(n)
            }
        else
            handleUnhandledError(e)
    }
    ,
    e.prototype.complete = function() {
        var e = this.partialObserver;
        if (e.complete)
            try {
                e.complete()
            } catch (t) {
                handleUnhandledError(t)
            }
    }
    ,
    e
}()
  , SafeSubscriber = function(e) {
    function t(t, n, r) {
        var o, i, a = e.call(this) || this;
        isFunction(t) || !t ? o = {
            next: null != t ? t : void 0,
            error: null != n ? n : void 0,
            complete: null != r ? r : void 0
        } : a && config.useDeprecatedNextContext ? ((i = Object.create(t)).unsubscribe = function() {
            return a.unsubscribe()
        }
        ,
        o = {
            next: t.next && bind$2(t.next, i),
            error: t.error && bind$2(t.error, i),
            complete: t.complete && bind$2(t.complete, i)
        }) : o = t;
        return a.destination = new ConsumerObserver(o),
        a
    }
    return __extends(t, e),
    t
}(Subscriber);
function handleUnhandledError(e) {
    reportUnhandledError(e)
}
function defaultErrorHandler(e) {
    throw e
}
var EMPTY_OBSERVER = {
    closed: !0,
    next: noop$1,
    error: defaultErrorHandler,
    complete: noop$1
}
  , observable = "function" == typeof Symbol && Symbol.observable || "@@observable";
function identity(e) {
    return e
}
function pipeFromArray(e) {
    return 0 === e.length ? identity : 1 === e.length ? e[0] : function(t) {
        return e.reduce((function(e, t) {
            return t(e)
        }
        ), t)
    }
}
var Observable = function() {
    function e(e) {
        e && (this._subscribe = e)
    }
    return e.prototype.lift = function(t) {
        var n = new e;
        return n.source = this,
        n.operator = t,
        n
    }
    ,
    e.prototype.subscribe = function(e, t, n) {
        var r = this
          , o = isSubscriber(e) ? e : new SafeSubscriber(e,t,n);
        return errorContext((function() {
            var e = r
              , t = e.operator
              , n = e.source;
            o.add(t ? t.call(o, n) : n ? r._subscribe(o) : r._trySubscribe(o))
        }
        )),
        o
    }
    ,
    e.prototype._trySubscribe = function(e) {
        try {
            return this._subscribe(e)
        } catch (t) {
            e.error(t)
        }
    }
    ,
    e.prototype.forEach = function(e, t) {
        var n = this;
        return new (t = getPromiseCtor(t))((function(t, r) {
            var o = new SafeSubscriber({
                next: function(t) {
                    try {
                        e(t)
                    } catch (n) {
                        r(n),
                        o.unsubscribe()
                    }
                },
                error: r,
                complete: t
            });
            n.subscribe(o)
        }
        ))
    }
    ,
    e.prototype._subscribe = function(e) {
        var t;
        return null === (t = this.source) || void 0 === t ? void 0 : t.subscribe(e)
    }
    ,
    e.prototype[observable] = function() {
        return this
    }
    ,
    e.prototype.pipe = function() {
        for (var e = [], t = 0; t < arguments.length; t++)
            e[t] = arguments[t];
        return pipeFromArray(e)(this)
    }
    ,
    e.prototype.toPromise = function(e) {
        var t = this;
        return new (e = getPromiseCtor(e))((function(e, n) {
            var r;
            t.subscribe((function(e) {
                return r = e
            }
            ), (function(e) {
                return n(e)
            }
            ), (function() {
                return e(r)
            }
            ))
        }
        ))
    }
    ,
    e.create = function(t) {
        return new e(t)
    }
    ,
    e
}();
function getPromiseCtor(e) {
    var t;
    return null !== (t = null != e ? e : config.Promise) && void 0 !== t ? t : Promise
}
function isObserver(e) {
    return e && isFunction(e.next) && isFunction(e.error) && isFunction(e.complete)
}
function isSubscriber(e) {
    return e && e instanceof Subscriber || isObserver(e) && isSubscription(e)
}
function hasLift(e) {
    return isFunction(null == e ? void 0 : e.lift)
}
function operate(e) {
    return function(t) {
        if (hasLift(t))
            return t.lift((function(t) {
                try {
                    return e(t, this)
                } catch (n) {
                    this.error(n)
                }
            }
            ));
        throw new TypeError("Unable to lift unknown Observable type")
    }
}
function createOperatorSubscriber(e, t, n, r, o) {
    return new OperatorSubscriber(e,t,n,r,o)
}
var OperatorSubscriber = function(e) {
    function t(t, n, r, o, i, a) {
        var s = e.call(this, t) || this;
        return s.onFinalize = i,
        s.shouldUnsubscribe = a,
        s._next = n ? function(e) {
            try {
                n(e)
            } catch (r) {
                t.error(r)
            }
        }
        : e.prototype._next,
        s._error = o ? function(e) {
            try {
                o(e)
            } catch (n) {
                t.error(n)
            } finally {
                this.unsubscribe()
            }
        }
        : e.prototype._error,
        s._complete = r ? function() {
            try {
                r()
            } catch (e) {
                t.error(e)
            } finally {
                this.unsubscribe()
            }
        }
        : e.prototype._complete,
        s
    }
    return __extends(t, e),
    t.prototype.unsubscribe = function() {
        var t;
        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
            var n = this.closed;
            e.prototype.unsubscribe.call(this),
            !n && (null === (t = this.onFinalize) || void 0 === t || t.call(this))
        }
    }
    ,
    t
}(Subscriber)
  , ObjectUnsubscribedError = createErrorClass((function(e) {
    return function() {
        e(this),
        this.name = "ObjectUnsubscribedError",
        this.message = "object unsubscribed"
    }
}
))
  , Subject = function(e) {
    function t() {
        var t = e.call(this) || this;
        return t.closed = !1,
        t.currentObservers = null,
        t.observers = [],
        t.isStopped = !1,
        t.hasError = !1,
        t.thrownError = null,
        t
    }
    return __extends(t, e),
    t.prototype.lift = function(e) {
        var t = new AnonymousSubject(this,this);
        return t.operator = e,
        t
    }
    ,
    t.prototype._throwIfClosed = function() {
        if (this.closed)
            throw new ObjectUnsubscribedError
    }
    ,
    t.prototype.next = function(e) {
        var t = this;
        errorContext((function() {
            var n, r;
            if (t._throwIfClosed(),
            !t.isStopped) {
                t.currentObservers || (t.currentObservers = Array.from(t.observers));
                try {
                    for (var o = __values(t.currentObservers), i = o.next(); !i.done; i = o.next()) {
                        i.value.next(e)
                    }
                } catch (a) {
                    n = {
                        error: a
                    }
                } finally {
                    try {
                        i && !i.done && (r = o.return) && r.call(o)
                    } finally {
                        if (n)
                            throw n.error
                    }
                }
            }
        }
        ))
    }
    ,
    t.prototype.error = function(e) {
        var t = this;
        errorContext((function() {
            if (t._throwIfClosed(),
            !t.isStopped) {
                t.hasError = t.isStopped = !0,
                t.thrownError = e;
                for (var n = t.observers; n.length; )
                    n.shift().error(e)
            }
        }
        ))
    }
    ,
    t.prototype.complete = function() {
        var e = this;
        errorContext((function() {
            if (e._throwIfClosed(),
            !e.isStopped) {
                e.isStopped = !0;
                for (var t = e.observers; t.length; )
                    t.shift().complete()
            }
        }
        ))
    }
    ,
    t.prototype.unsubscribe = function() {
        this.isStopped = this.closed = !0,
        this.observers = this.currentObservers = null
    }
    ,
    Object.defineProperty(t.prototype, "observed", {
        get: function() {
            var e;
            return (null === (e = this.observers) || void 0 === e ? void 0 : e.length) > 0
        },
        enumerable: !1,
        configurable: !0
    }),
    t.prototype._trySubscribe = function(t) {
        return this._throwIfClosed(),
        e.prototype._trySubscribe.call(this, t)
    }
    ,
    t.prototype._subscribe = function(e) {
        return this._throwIfClosed(),
        this._checkFinalizedStatuses(e),
        this._innerSubscribe(e)
    }
    ,
    t.prototype._innerSubscribe = function(e) {
        var t = this
          , n = this
          , r = n.hasError
          , o = n.isStopped
          , i = n.observers;
        return r || o ? EMPTY_SUBSCRIPTION : (this.currentObservers = null,
        i.push(e),
        new Subscription((function() {
            t.currentObservers = null,
            arrRemove(i, e)
        }
        )))
    }
    ,
    t.prototype._checkFinalizedStatuses = function(e) {
        var t = this
          , n = t.hasError
          , r = t.thrownError
          , o = t.isStopped;
        n ? e.error(r) : o && e.complete()
    }
    ,
    t.prototype.asObservable = function() {
        var e = new Observable;
        return e.source = this,
        e
    }
    ,
    t.create = function(e, t) {
        return new AnonymousSubject(e,t)
    }
    ,
    t
}(Observable)
  , AnonymousSubject = function(e) {
    function t(t, n) {
        var r = e.call(this) || this;
        return r.destination = t,
        r.source = n,
        r
    }
    return __extends(t, e),
    t.prototype.next = function(e) {
        var t, n;
        null === (n = null === (t = this.destination) || void 0 === t ? void 0 : t.next) || void 0 === n || n.call(t, e)
    }
    ,
    t.prototype.error = function(e) {
        var t, n;
        null === (n = null === (t = this.destination) || void 0 === t ? void 0 : t.error) || void 0 === n || n.call(t, e)
    }
    ,
    t.prototype.complete = function() {
        var e, t;
        null === (t = null === (e = this.destination) || void 0 === e ? void 0 : e.complete) || void 0 === t || t.call(e)
    }
    ,
    t.prototype._subscribe = function(e) {
        var t, n;
        return null !== (n = null === (t = this.source) || void 0 === t ? void 0 : t.subscribe(e)) && void 0 !== n ? n : EMPTY_SUBSCRIPTION
    }
    ,
    t
}(Subject)
  , dateTimestampProvider = {
    now: function() {
        return (dateTimestampProvider.delegate || Date).now()
    },
    delegate: void 0
}
  , ReplaySubject = function(e) {
    function t(t, n, r) {
        void 0 === t && (t = 1 / 0),
        void 0 === n && (n = 1 / 0),
        void 0 === r && (r = dateTimestampProvider);
        var o = e.call(this) || this;
        return o._bufferSize = t,
        o._windowTime = n,
        o._timestampProvider = r,
        o._buffer = [],
        o._infiniteTimeWindow = !0,
        o._infiniteTimeWindow = n === 1 / 0,
        o._bufferSize = Math.max(1, t),
        o._windowTime = Math.max(1, n),
        o
    }
    return __extends(t, e),
    t.prototype.next = function(t) {
        var n = this
          , r = n.isStopped
          , o = n._buffer
          , i = n._infiniteTimeWindow
          , a = n._timestampProvider
          , s = n._windowTime;
        r || (o.push(t),
        !i && o.push(a.now() + s)),
        this._trimBuffer(),
        e.prototype.next.call(this, t)
    }
    ,
    t.prototype._subscribe = function(e) {
        this._throwIfClosed(),
        this._trimBuffer();
        for (var t = this._innerSubscribe(e), n = this._infiniteTimeWindow, r = this._buffer.slice(), o = 0; o < r.length && !e.closed; o += n ? 1 : 2)
            e.next(r[o]);
        return this._checkFinalizedStatuses(e),
        t
    }
    ,
    t.prototype._trimBuffer = function() {
        var e = this
          , t = e._bufferSize
          , n = e._timestampProvider
          , r = e._buffer
          , o = e._infiniteTimeWindow
          , i = (o ? 1 : 2) * t;
        if (t < 1 / 0 && i < r.length && r.splice(0, r.length - i),
        !o) {
            for (var a = n.now(), s = 0, c = 1; c < r.length && r[c] <= a; c += 2)
                s = c;
            s && r.splice(0, s + 1)
        }
    }
    ,
    t
}(Subject)
  , EMPTY = new Observable((function(e) {
    return e.complete()
}
));
function isScheduler(e) {
    return e && isFunction(e.schedule)
}
function last(e) {
    return e[e.length - 1]
}
function popScheduler(e) {
    return isScheduler(last(e)) ? e.pop() : void 0
}
function popNumber(e, t) {
    return "number" == typeof last(e) ? e.pop() : t
}
var isArrayLike = function(e) {
    return e && "number" == typeof e.length && "function" != typeof e
};
function isPromise(e) {
    return isFunction(null == e ? void 0 : e.then)
}
function isInteropObservable(e) {
    return isFunction(e[observable])
}
function isAsyncIterable(e) {
    return Symbol.asyncIterator && isFunction(null == e ? void 0 : e[Symbol.asyncIterator])
}
function createInvalidObservableTypeError(e) {
    return new TypeError("You provided " + (null !== e && "object" == typeof e ? "an invalid object" : "'" + e + "'") + " where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")
}
function getSymbolIterator() {
    return "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator"
}
var iterator = getSymbolIterator();
function isIterable(e) {
    return isFunction(null == e ? void 0 : e[iterator])
}
function readableStreamLikeToAsyncGenerator(e) {
    return __asyncGenerator(this, arguments, (function() {
        var t, n, r;
        return __generator(this, (function(o) {
            switch (o.label) {
            case 0:
                t = e.getReader(),
                o.label = 1;
            case 1:
                o.trys.push([1, , 9, 10]),
                o.label = 2;
            case 2:
                return [4, __await(t.read())];
            case 3:
                return n = o.sent(),
                r = n.value,
                n.done ? [4, __await(void 0)] : [3, 5];
            case 4:
                return [2, o.sent()];
            case 5:
                return [4, __await(r)];
            case 6:
                return [4, o.sent()];
            case 7:
                return o.sent(),
                [3, 2];
            case 8:
                return [3, 10];
            case 9:
                return t.releaseLock(),
                [7];
            case 10:
                return [2]
            }
        }
        ))
    }
    ))
}
function isReadableStreamLike(e) {
    return isFunction(null == e ? void 0 : e.getReader)
}
function innerFrom(e) {
    if (e instanceof Observable)
        return e;
    if (null != e) {
        if (isInteropObservable(e))
            return fromInteropObservable(e);
        if (isArrayLike(e))
            return fromArrayLike(e);
        if (isPromise(e))
            return fromPromise(e);
        if (isAsyncIterable(e))
            return fromAsyncIterable(e);
        if (isIterable(e))
            return fromIterable(e);
        if (isReadableStreamLike(e))
            return fromReadableStreamLike(e)
    }
    throw createInvalidObservableTypeError(e)
}
function fromInteropObservable(e) {
    return new Observable((function(t) {
        var n = e[observable]();
        if (isFunction(n.subscribe))
            return n.subscribe(t);
        throw new TypeError("Provided object does not correctly implement Symbol.observable")
    }
    ))
}
function fromArrayLike(e) {
    return new Observable((function(t) {
        for (var n = 0; n < e.length && !t.closed; n++)
            t.next(e[n]);
        t.complete()
    }
    ))
}
function fromPromise(e) {
    return new Observable((function(t) {
        e.then((function(e) {
            t.closed || (t.next(e),
            t.complete())
        }
        ), (function(e) {
            return t.error(e)
        }
        )).then(null, reportUnhandledError)
    }
    ))
}
function fromIterable(e) {
    return new Observable((function(t) {
        var n, r;
        try {
            for (var o = __values(e), i = o.next(); !i.done; i = o.next()) {
                var a = i.value;
                if (t.next(a),
                t.closed)
                    return
            }
        } catch (s) {
            n = {
                error: s
            }
        } finally {
            try {
                i && !i.done && (r = o.return) && r.call(o)
            } finally {
                if (n)
                    throw n.error
            }
        }
        t.complete()
    }
    ))
}
function fromAsyncIterable(e) {
    return new Observable((function(t) {
        process(e, t).catch((function(e) {
            return t.error(e)
        }
        ))
    }
    ))
}
function fromReadableStreamLike(e) {
    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(e))
}
function process(e, t) {
    var n, r, o, i;
    return __awaiter(this, void 0, void 0, (function() {
        var a, s;
        return __generator(this, (function(c) {
            switch (c.label) {
            case 0:
                c.trys.push([0, 5, 6, 11]),
                n = __asyncValues(e),
                c.label = 1;
            case 1:
                return [4, n.next()];
            case 2:
                if ((r = c.sent()).done)
                    return [3, 4];
                if (a = r.value,
                t.next(a),
                t.closed)
                    return [2];
                c.label = 3;
            case 3:
                return [3, 1];
            case 4:
                return [3, 11];
            case 5:
                return s = c.sent(),
                o = {
                    error: s
                },
                [3, 11];
            case 6:
                return c.trys.push([6, , 9, 10]),
                r && !r.done && (i = n.return) ? [4, i.call(n)] : [3, 8];
            case 7:
                c.sent(),
                c.label = 8;
            case 8:
                return [3, 10];
            case 9:
                if (o)
                    throw o.error;
                return [7];
            case 10:
                return [7];
            case 11:
                return t.complete(),
                [2]
            }
        }
        ))
    }
    ))
}
function executeSchedule(e, t, n, r, o) {
    void 0 === r && (r = 0),
    void 0 === o && (o = !1);
    var i = t.schedule((function() {
        n(),
        o ? e.add(this.schedule(null, r)) : this.unsubscribe()
    }
    ), r);
    if (e.add(i),
    !o)
        return i
}
function observeOn(e, t) {
    return void 0 === t && (t = 0),
    operate((function(n, r) {
        n.subscribe(createOperatorSubscriber(r, (function(n) {
            return executeSchedule(r, e, (function() {
                return r.next(n)
            }
            ), t)
        }
        ), (function() {
            return executeSchedule(r, e, (function() {
                return r.complete()
            }
            ), t)
        }
        ), (function(n) {
            return executeSchedule(r, e, (function() {
                return r.error(n)
            }
            ), t)
        }
        )))
    }
    ))
}
function subscribeOn(e, t) {
    return void 0 === t && (t = 0),
    operate((function(n, r) {
        r.add(e.schedule((function() {
            return n.subscribe(r)
        }
        ), t))
    }
    ))
}
function scheduleObservable(e, t) {
    return innerFrom(e).pipe(subscribeOn(t), observeOn(t))
}
function schedulePromise(e, t) {
    return innerFrom(e).pipe(subscribeOn(t), observeOn(t))
}
function scheduleArray(e, t) {
    return new Observable((function(n) {
        var r = 0;
        return t.schedule((function() {
            r === e.length ? n.complete() : (n.next(e[r++]),
            n.closed || this.schedule())
        }
        ))
    }
    ))
}
function scheduleIterable(e, t) {
    return new Observable((function(n) {
        var r;
        return executeSchedule(n, t, (function() {
            r = e[iterator](),
            executeSchedule(n, t, (function() {
                var e, t, o;
                try {
                    t = (e = r.next()).value,
                    o = e.done
                } catch (i) {
                    return void n.error(i)
                }
                o ? n.complete() : n.next(t)
            }
            ), 0, !0)
        }
        )),
        function() {
            return isFunction(null == r ? void 0 : r.return) && r.return()
        }
    }
    ))
}
function scheduleAsyncIterable(e, t) {
    if (!e)
        throw new Error("Iterable cannot be null");
    return new Observable((function(n) {
        executeSchedule(n, t, (function() {
            var r = e[Symbol.asyncIterator]();
            executeSchedule(n, t, (function() {
                r.next().then((function(e) {
                    e.done ? n.complete() : n.next(e.value)
                }
                ))
            }
            ), 0, !0)
        }
        ))
    }
    ))
}
function scheduleReadableStreamLike(e, t) {
    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(e), t)
}
function scheduled(e, t) {
    if (null != e) {
        if (isInteropObservable(e))
            return scheduleObservable(e, t);
        if (isArrayLike(e))
            return scheduleArray(e, t);
        if (isPromise(e))
            return schedulePromise(e, t);
        if (isAsyncIterable(e))
            return scheduleAsyncIterable(e, t);
        if (isIterable(e))
            return scheduleIterable(e, t);
        if (isReadableStreamLike(e))
            return scheduleReadableStreamLike(e, t)
    }
    throw createInvalidObservableTypeError(e)
}
function from(e, t) {
    return t ? scheduled(e, t) : innerFrom(e)
}
function map(e, t) {
    return operate((function(n, r) {
        var o = 0;
        n.subscribe(createOperatorSubscriber(r, (function(n) {
            r.next(e.call(t, n, o++))
        }
        )))
    }
    ))
}
function mergeInternals(e, t, n, r, o, i, a, s) {
    var c = []
      , l = 0
      , u = 0
      , p = !1
      , d = function() {
        !p || c.length || l || t.complete()
    }
      , f = function(e) {
        l++;
        var o = !1;
        innerFrom(n(e, u++)).subscribe(createOperatorSubscriber(t, (function(e) {
            t.next(e)
        }
        ), (function() {
            o = !0
        }
        ), void 0, (function() {
            if (o)
                try {
                    l--;
                    for (; c.length && l < r; )
                        e = void 0,
                        e = c.shift(),
                        a || f(e);
                    d()
                } catch (n) {
                    t.error(n)
                }
            var e
        }
        )))
    };
    return e.subscribe(createOperatorSubscriber(t, (function(e) {
        return l < r ? f(e) : c.push(e)
    }
    ), (function() {
        p = !0,
        d()
    }
    ))),
    function() {}
}
function mergeMap(e, t, n) {
    return void 0 === n && (n = 1 / 0),
    isFunction(t) ? mergeMap((function(n, r) {
        return map((function(e, o) {
            return t(n, e, r, o)
        }
        ))(innerFrom(e(n, r)))
    }
    ), n) : ("number" == typeof t && (n = t),
    operate((function(t, r) {
        return mergeInternals(t, r, e, n)
    }
    )))
}
function mergeAll(e) {
    return void 0 === e && (e = 1 / 0),
    mergeMap(identity, e)
}
function merge$1() {
    for (var e = [], t = 0; t < arguments.length; t++)
        e[t] = arguments[t];
    var n = popScheduler(e)
      , r = popNumber(e, 1 / 0)
      , o = e;
    return o.length ? 1 === o.length ? innerFrom(o[0]) : mergeAll(r)(from(o, n)) : EMPTY
}
function switchMap(e, t) {
    return operate((function(n, r) {
        var o = null
          , i = 0
          , a = !1
          , s = function() {
            return a && !o && r.complete()
        };
        n.subscribe(createOperatorSubscriber(r, (function(n) {
            null == o || o.unsubscribe();
            var a = 0
              , c = i++;
            innerFrom(e(n, c)).subscribe(o = createOperatorSubscriber(r, (function(e) {
                return r.next(t ? t(n, e, c, a++) : e)
            }
            ), (function() {
                o = null,
                s()
            }
            )))
        }
        ), (function() {
            a = !0,
            s()
        }
        )))
    }
    ))
}
function switchAll() {
    return switchMap(identity)
}
const INJECT_KEY = "REBORN_STORE_KEY"
  , ROOT_STORE_MAP = new WeakMap;
let MODE = "SPA";
function setMode(e) {
    MODE = e
}
function getRootStore() {
    var e;
    const t = null == (e = getCurrentInstance()) ? void 0 : e.proxy
      , n = t && ROOT_STORE_MAP.get(t);
    return null != n ? n : inject(INJECT_KEY)
}
function storeFactory() {
    const e = new Map;
    return {
        getModelInstance: function(t) {
            var n, r;
            return null == (r = null == (n = e.get(t)) ? void 0 : n.instance) ? void 0 : r.model
        },
        addModel: function(t) {
            if (e.has(t))
                return e.get(t);
            const n = {
                constructor: t,
                instance: null,
                count: 0,
                queryList: [],
                scope: null
            };
            return e.set(t, n),
            n
        },
        removeModel: function(t) {
            e.has(t) && e.delete(t)
        },
        hydrationStatus: ref$1(0)
    }
}
function createStore() {
    const e = storeFactory()
      , t = {};
    return {
        install: function(n, r=!1) {
            n.config && "object" == typeof n.config.globalProperties ? (n.config.globalProperties.rebornStore = e,
            n.config.globalProperties.rebornClient = t,
            n.provide(INJECT_KEY, {
                store: e,
                rebornClient: t
            })) : n.mixin({
                provide() {
                    if (this === this.$root)
                        return {
                            [INJECT_KEY]: {
                                store: e,
                                rebornClient: t
                            }
                        }
                },
                beforeCreate() {
                    this === this.$root && ROOT_STORE_MAP.set(this, {
                        store: e,
                        rebornClient: t
                    })
                }
            }),
            setMode(r ? "SSR" : "SPA")
        },
        registerClient: function(e) {
            if ("REST" === e.type)
                return t.rest ? void console.warn("You have already registered a restClient yet") : void (t.rest = e);
            t.gql ? console.warn("You have already registered a gqlClient yet") : t.gql = e
        }
    }
}
const ESCAPED_CHARS = {
    "<": "\\u003C",
    ">": "\\u003E",
    "/": "\\u002F",
    "\u2028": "\\u2028",
    "\u2029": "\\u2029"
};
function encode$1(e) {
    var t;
    let n = "";
    for (let r = 0; r < e.length; r++) {
        const o = String.fromCharCode(e.charCodeAt(r) + 1);
        n += null != (t = ESCAPED_CHARS[o]) ? t : o
    }
    return n
}
function hash(e) {
    if (null === e)
        return encode$1("null-null");
    if (Array.isArray(e))
        return encode$1("array-".concat(e.map(hash).join("-")));
    if ("function" == typeof e)
        throw new Error("Function hash is not support");
    return encode$1("object" == typeof e ? "object-".concat(Object.keys(e).sort().map((t => "".concat(t, "-").concat(hash(e[t])))).join("-")) : "".concat(typeof e, "-").concat(e))
}
function stringifyPrimitive(e) {
    switch (typeof e) {
    case "string":
        return e;
    case "boolean":
        return e ? "true" : "false";
    case "number":
        return isFinite(e) ? e : "";
    default:
        return ""
    }
}
function encode$2(e) {
    return encodeURIComponent(stringifyPrimitive(e))
}
function shimStringify(e) {
    if (null === e && (e = void 0),
    "object" != typeof e)
        throw new Error("Params stringify Error, only support object");
    return Object.keys(e).map((t => {
        const n = encode$2(t) + "=";
        return Array.isArray(e[t]) ? e[t].map((e => n + encode$2(e))).join("&") : n + encode$2(e[t])
    }
    )).join("&")
}
function appendQueryStringToUrl(e, t) {
    return e = -1 !== e.indexOf("?") ? "".concat(e, "&").concat(t) : "".concat(e, "?").concat(t)
}
function deepMerge(e, ...t) {
    for (const n of t)
        for (const t in n) {
            const r = e[t]
              , o = n[t];
            if (null == o)
                continue;
            let i;
            i = Array.isArray(o) ? o.map((e => Array.isArray(e) ? [...deepMerge([], e)] : "object" == typeof e && null !== e ? deepMerge({}, e) : e)) : "object" == typeof o && null !== o ? deepMerge({}, o) : o,
            typeof r == typeof o && null !== r ? Array.isArray(r) ? r.push(...i) : e[t] = "object" == typeof i ? deepMerge(r, o) : o : e[t] = i
        }
    return e
}
function fromWatch(e, t) {
    return new Observable((n => {
        watch(e, ( (e, t) => {
            (!e && void 0 === t || hash(e) !== hash(t)) && n.next(e)
        }
        ), t)
    }
    ))
}
function isDef(e) {
    return null != e
}
function createCache() {
    let e = {};
    return {
        restore: function(t) {
            e = t || e
        },
        put: function(t, n) {
            e[t] = n
        },
        get: function(t) {
            return e[t]
        },
        update: function(t, n) {
            e[t] = deepMerge(e[t], n)
        },
        remove: function(t) {
            e[t] = void 0
        },
        extract: function() {
            return JSON.stringify(e)
        }
    }
}
function createInterceptor(e) {
    const t = [];
    return {
        list: t,
        use: function e(n, r) {
            return t.push({
                onResolve: n,
                onReject: r
            }),
            {
                use: e
            }
        }
    }
}
class TimeoutError extends Error {
    constructor(e) {
        super(e),
        this.message = e
    }
}
const DEFAULT_OPTIONS = {
    method: "GET",
    headers: {},
    timeout: 6e4,
    credentials: "include"
};
function mergeClientOptionsAndParams(e, t) {
    const {timeout: n, headers: r, method: o, credentials: i, baseUrl: a} = e
      , s = a ? new URL(t.url || "/",a).href : t.url || ""
      , c = {
        timeout: t.timeout || n,
        headers: deepMerge({}, r, t.headers),
        credentials: i,
        url: s || "",
        variables: t.variables
    };
    return "method"in t ? {
        ...c,
        method: t.method || o,
        fetchPolicy: t.fetchPolicy
    } : "query"in t ? {
        ...c,
        query: t.query,
        fetchPolicy: t.fetchPolicy
    } : "mutation"in t ? {
        ...c,
        mutation: t.mutation
    } : c
}
function clientFactory(e, t, n) {
    const r = n ? deepMerge({}, DEFAULT_OPTIONS, n) : deepMerge({}, DEFAULT_OPTIONS)
      , o = createInterceptor()
      , i = createInterceptor()
      , a = {
        request: {
            use: o.use
        },
        response: {
            use: i.use
        }
    };
    function s(n) {
        const a = [...o.list]
          , s = mergeClientOptionsAndParams(r, n);
        let c, l = Promise.resolve(s);
        for (; a.length; ) {
            const e = a.shift();
            l = l.then(null == e ? void 0 : e.onResolve, null == e ? void 0 : e.onReject)
        }
        return l.then((n => {
            if (c = t(e, n),
            !r.fetch)
                if ("SPA" === MODE) {
                    if ("undefined" == typeof window || !window.fetch)
                        throw new Error('There is no useful "fetch" function');
                    r.fetch = (e, t) => window.fetch(e, t)
                } else if ("SSR" === MODE) {
                    if (!globalThis.fetch)
                        throw new Error('There is no useful "fetch" function');
                    r.fetch = (e, t) => globalThis.fetch(e, t)
                }
            const {url: o, requestInit: i} = c
              , a = r.fetch(o, i)
              , l = new Promise((e => {
                setTimeout(( () => {
                    "SSR" !== MODE && "undefined" != typeof DOMException ? e(new DOMException("The request has been timeout")) : e(new TimeoutError("The request has been timeout"))
                }
                ), s.timeout)
            }
            ));
            return Promise.race([l, a])
        }
        )).then((e => {
            var t, n;
            null === e && (e = "SSR" !== MODE && "undefined" != typeof DOMException ? new DOMException("The request has been timeout") : new TimeoutError("The request has been timeout"));
            const r = [...i.list];
            if (!("status"in e)) {
                let t = Promise.reject({
                    res: e,
                    request: c
                });
                for (; r.length; ) {
                    const e = r.shift();
                    t = t.then(null == e ? void 0 : e.onResolve, null == e ? void 0 : e.onReject)
                }
                return t
            }
            const o = e.headers.get("Content-Type") || (null == (t = c.requestInit.headers) ? void 0 : t["Content-Type"]) || (null == (n = c.requestInit.headers) ? void 0 : n["content-type"]) || "application/json"
              , a = {
                status: e.status,
                statusText: e.statusText,
                headers: e.headers,
                config: c,
                data: void 0
            };
            let s;
            for (-1 !== o.indexOf("application/json") ? s = e.ok ? e.json().then((e => (a.data = e,
            a))) : Promise.reject({
                res: e,
                request: c
            }) : (a.data = e.body,
            s = e.ok ? Promise.resolve(a) : Promise.reject({
                res: e,
                request: c
            })); r.length; ) {
                const e = r.shift();
                s = s.then(null == e ? void 0 : e.onResolve, null == e ? void 0 : e.onReject)
            }
            return s
        }
        ))
    }
    const c = (null == n ? void 0 : n.cache) || createCache();
    function l(e) {
        return c.get("".concat(hash(e.url), "-").concat(hash(e.variables || {})))
    }
    function u(e, t) {
        const n = "".concat(hash(e.url), "-").concat(hash(e.variables || {}));
        c.put(n, t)
    }
    return {
        interceptors: a,
        query: function(e, t="network-first", n) {
            const r = new ReplaySubject;
            if (2 !== n.value) {
                const t = l(e);
                if (t)
                    return r.next(t),
                    r.complete(),
                    r
            }
            const o = l(e);
            switch (t) {
            case "cache-and-network":
                o && r.next(o),
                s(e).then((t => {
                    u(e, t),
                    r.next(t),
                    r.complete()
                }
                )).catch((e => {
                    r.error(e),
                    r.complete()
                }
                ));
                break;
            case "cache-first":
                o ? r.next(o) : s(e).then((t => {
                    u(e, t),
                    r.next(t),
                    r.complete()
                }
                )).catch((e => r.error(e)));
                break;
            case "network-first":
                s(e).then((t => {
                    u(e, t),
                    r.next(t),
                    r.complete()
                }
                )).catch((e => {
                    r.error(e),
                    r.complete()
                }
                ));
                break;
            case "cache-only":
                o ? (r.next(o),
                r.complete()) : (r.error("No data in cache"),
                r.complete());
                break;
            case "network-only":
                s(e).then((e => {
                    r.next(e),
                    r.complete()
                }
                )).catch((e => {
                    r.complete(),
                    r.error(e)
                }
                ));
            default:
                throw new Error("There is a wrong fetchPolicy: ".concat(t))
            }
            return r
        },
        mutate: s,
        type: e
    }
}
function transformRequestBody(e, t) {
    if (t && "application/json" === t["content-type"])
        return JSON.stringify(e);
    if (t && "application/x-www-form-urlencoded" === t["content-type"])
        return shimStringify(e);
    if (t && "multipart/form-data" === t["content-type"]) {
        const t = new FormData;
        for (const n in e)
            t.append(n, e[n]);
        return t
    }
    return "function" == typeof FormData && FormData && e instanceof FormData ? e : "function" == typeof URLSearchParams && e instanceof URLSearchParams && t ? (t["content-type"] = "application/x-www-form-urlencoded",
    e.toString()) : "[object ArrayBuffer]" === Object.prototype.toString.call(e) || "[object File]" === Object.prototype.toString.call(e) || "[object Blob]" === Object.prototype.toString.call(e) ? e : JSON.stringify(e)
}
function generateCommonRequestInfo(e) {
    return {
        method: e.method,
        credentials: e.credentials,
        headers: e.headers,
        cache: "no-store"
    }
}
function generateRestRequestInfo(e) {
    var t, n, r, o;
    let i = generateCommonRequestInfo(e);
    const a = i.headers || {};
    let {variables: s, url: c} = e;
    "get" === (null == (t = i.method) ? void 0 : t.toLowerCase()) && s && (a["content-type"] && "application/x-www-form-urlencoded" !== a["content-type"] && console.error("get 请求请指定 content-type 为 `application/x-www-form-urlencoded` 传参，当前为：", a["content-type"]),
    a["content-type"] = "application/x-www-form-urlencoded"),
    "post" !== (null == (n = i.method) ? void 0 : n.toLowerCase()) || a["content-type"] || (a["content-type"] = "application/json");
    let l = s ? transformRequestBody(s, a) : void 0;
    return "get" !== (null == (r = i.method) ? void 0 : r.toLowerCase()) && "head" !== (null == (o = i.method) ? void 0 : o.toLowerCase()) || ("application/x-www-form-urlencoded" === a["content-type"] && l && (c = appendQueryStringToUrl(c, l)),
    l = void 0),
    "function" == typeof FormData && l instanceof FormData ? delete a["content-type"] : "application/x-www-form-urlencoded" === a["content-type"] && (a["content-type"] = "application/x-www-form-urlencoded;charset=UTF-8"),
    l && (i.body = l),
    {
        url: c,
        requestInit: i
    }
}
function generateGQLRequestInfo(e) {
    let {url: t, timeout: n, ...r} = e;
    return {
        url: t || "",
        requestInit: r
    }
}
function generateRequestInfo(e, t) {
    return "GQL" === e ? generateGQLRequestInfo(t) : generateRestRequestInfo(t)
}
function createClient(e, t) {
    return clientFactory(e, generateRequestInfo, t)
}
var RequestReason, RequestReason2, StateStatus, StateStatus2;
function getStatus(e, t) {
    return e.loading ? isDef(e.data) ? t === RequestReason.fetchMore ? StateStatus.FetchMore : t === RequestReason.poll ? StateStatus.Pool : StateStatus.Refresh : StateStatus.Loading : isDef(e.error) ? isDef(e.data) ? t === RequestReason.fetchMore ? StateStatus.FetchMoreError : t === RequestReason.poll ? StateStatus.PoolError : StateStatus.RefreshError : StateStatus.Error : isDef(e.data) ? StateStatus.Done : StateStatus.Empty
}
function useStatus(e, t) {
    return computed(( () => getStatus(e, t.value)))
}
function initDataType() {
    return reactive({
        data: void 0,
        loading: !1,
        error: void 0
    })
}
function generateQueryOptions(e, t, n) {
    const r = initDataType()
      , o = computed(( () => "function" == typeof e.skip ? e.skip.call(n, t) : !!e.skip))
      , i = computed(( () => "function" == typeof e.pollInterval ? e.pollInterval.call(n, t) : e.pollInterval || 0))
      , a = computed(( () => "function" == typeof e.variables ? e.variables.call(n, t) : e.variables))
      , s = computed(( () => "function" == typeof e.url ? e.url.call(n, t, a.value) : e.url))
      , c = merge$1(fromWatch(( () => ({
        variables: a.value,
        url: s.value,
        skip: o.value
    })), {
        immediate: !0
    }).pipe(map((e => RequestReason.setVariables))), new Observable((e => {
        let t;
        const n = () => {
            "SSR" !== MODE && (clearTimeout(t),
            i.value > 0 && (t = setTimeout(r, i.value)))
        }
          , r = () => {
            e.next(RequestReason.poll),
            n()
        }
        ;
        watch(( () => i.value), ( (e, t) => {
            e !== t && n()
        }
        ), {
            immediate: !0
        })
    }
    )));
    return {
        info: r,
        skip: o,
        pollInterval: i,
        variables: a,
        url: s,
        fetchQuery$: c,
        prefetch: e.prefetch || !0
    }
}
function createGQLMutation(e, t, n, r) {
    if (!r)
        throw new Error("No GQL Client has been set");
    const o = initDataType();
    function i(r) {
        return e.variables && "function" == typeof e.variables ? e.variables.call(t, r, n) : r
    }
    return {
        info: o,
        mutate: e => (o.loading = !0,
        o.error = void 0,
        r.mutate({
            mutation: "",
            variables: i(e)
        }).then((e => {
            o.error = void 0,
            e && (o.data = e),
            o.loading = !1
        }
        )).catch((e => {
            o.error = e,
            o.loading = !1
        }
        )))
    }
}
function createGQLQuery(e, t, n, r, o) {
    if (!o)
        throw new Error("No GQL Client has been set");
    const {info: i, skip: a, pollInterval: s, variables: c} = generateQueryOptions(e, n, t)
      , l = ref$1(0);
    function u() {}
    return computed(( () => ({
        ...e,
        variables: c.value,
        skip: a.value,
        pollInterval: s.value
    }))),
    computed(( () => [c.value, a.value, s.value])),
    {
        info: i,
        init: function() {},
        destroy: function() {},
        fetchMore: function(e) {},
        refetch: u,
        prefetch: u,
        onNext: function() {},
        requestReason: l
    }
}
function createRestMutation(e, t, n, r) {
    if (!r)
        throw new Error("No Rest Client has been set");
    const o = initDataType();
    function i(r) {
        return e.variables && "function" == typeof e.variables ? e.variables.call(t, r, n) : r
    }
    function a(r, o) {
        return e.url && "function" == typeof e.url ? e.url.call(t, n, r, o) : e.url
    }
    const s = new Subject
      , c = s.pipe(mergeAll());
    s.pipe(switchAll()).subscribe((e => {
        o.loading = e.loading,
        o.loading || (o.error = e.error,
        e.data && (o.data = e.data))
    }
    ));
    let l = 0;
    return {
        info: o,
        mutate: function(t, n) {
            const o = ++l
              , c = {
                url: a(i(t), t),
                headers: e.headers,
                method: e.method,
                variables: i(t),
                timeout: e.timeout
            }
              , u = new Subject;
            return s.next(u),
            u.next({
                id: o,
                url: c.url,
                variables: c.variables,
                loading: !0,
                data: void 0,
                error: void 0,
                context: n
            }),
            r.mutate(c).then((e => {
                u.next({
                    id: o,
                    url: c.url,
                    variables: c.variables,
                    loading: !1,
                    data: e,
                    error: void 0,
                    context: n
                })
            }
            )).catch((e => {
                u.next({
                    id: o,
                    url: c.url,
                    variables: c.variables,
                    loading: !1,
                    data: void 0,
                    error: e,
                    context: n
                })
            }
            )).finally(( () => {
                u.complete()
            }
            ))
        },
        stream$: c,
        destroy: function() {
            s.complete()
        }
    }
}
function createRestQuery(e, t, n, r, o) {
    if (!o)
        throw new Error("No Rest Client has been set");
    const {info: i, skip: a, variables: s, fetchQuery$: c, url: l, prefetch: u} = generateQueryOptions(e, n, t)
      , p = new Subject
      , d = p.pipe(mergeAll())
      , f = ref$1(RequestReason.setVariables);
    p.pipe(switchAll()).subscribe((e => {
        i.loading = e.loading,
        e.loading || (i.error = e.error,
        e.data && (i.data = e.data))
    }
    ));
    let h = 0;
    function g(t, n) {
        var a, s;
        const c = {
            ...i
        };
        f.value = t;
        const u = ++h
          , d = {
            url: l.value,
            variables: n
        }
          , g = {
            headers: e.headers,
            method: e.method,
            fetchPolicy: e.fetchPolicy,
            timeout: e.timeout,
            ...d,
            ...null != (s = null == (a = e.beforeQuery) ? void 0 : a.call(e, d)) ? s : {}
        }
          , m = new Subject;
        return p.next(m),
        new Promise((n => {
            m.next({
                id: u,
                url: g.url,
                variables: g.variables,
                requestReason: t,
                status: getStatus({
                    ...c,
                    loading: !0
                }, t),
                data: void 0,
                loading: !0,
                error: void 0
            });
            const i = o.query(g, e.fetchPolicy, r);
            i.subscribe({
                next: r => {
                    const o = r && e.updateQuery && t === RequestReason.fetchMore ? e.updateQuery(c.data, r) : r;
                    m.next({
                        id: u,
                        url: g.url,
                        variables: g.variables,
                        requestReason: t,
                        status: getStatus({
                            error: void 0,
                            data: o,
                            loading: !1
                        }, t),
                        data: o,
                        loading: !1,
                        error: void 0
                    }),
                    n(void 0)
                }
                ,
                error: e => {
                    m.next({
                        id: u,
                        url: g.url,
                        variables: g.variables,
                        requestReason: t,
                        status: getStatus({
                            ...c,
                            error: e,
                            loading: !1
                        }, t),
                        data: void 0,
                        loading: !1,
                        error: e
                    }),
                    m.complete(),
                    n(void 0)
                }
                ,
                complete: () => {
                    m.complete(),
                    i.unsubscribe()
                }
            })
        }
        ))
    }
    let m = null;
    return {
        info: i,
        init: function() {
            m = c.subscribe((e => {
                a.value || g(e, s.value)
            }
            ))
        },
        refetch: () => g(RequestReason.refetch, s.value),
        prefetch: () => {
            if (!a.value)
                return g(RequestReason.setVariables, s.value)
        }
        ,
        fetchMore: function(e) {
            return g(RequestReason.fetchMore, e)
        },
        destroy: function() {
            m && (m.unsubscribe(),
            m = null,
            p.complete())
        },
        onNext: function(e) {},
        requestReason: f,
        stream$: d
    }
}
RequestReason2 = RequestReason || (RequestReason = {}),
RequestReason2[RequestReason2.setVariables = 0] = "setVariables",
RequestReason2[RequestReason2.fetchMore = 1] = "fetchMore",
RequestReason2[RequestReason2.refetch = 2] = "refetch",
RequestReason2[RequestReason2.poll = 3] = "poll",
StateStatus2 = StateStatus || (StateStatus = {}),
StateStatus2.Empty = "Empty",
StateStatus2.Loading = "Loading",
StateStatus2.Done = "Done",
StateStatus2.Error = "Error",
StateStatus2.Refresh = "Refresh",
StateStatus2.RefreshError = "RefreshError",
StateStatus2.FetchMore = "FetchMore",
StateStatus2.FetchMoreError = "FetchMoreError",
StateStatus2.Pool = "Pool",
StateStatus2.PoolError = "PoolError";
let creatingModelCount = 0;
const tempQueryList = []
  , useRoute = e => {
    const t = shallowReactive(Object.assign({}, e.proxy.$route));
    return watch(( () => e.proxy.$route), (e => {
        Object.assign(t, e)
    }
    )),
    t
}
  , useRestQuery = e => {
    const t = getCurrentInstance();
    if (creatingModelCount <= 0 || !t)
        throw new Error("You should use useRestQuery with createModel context ");
    const n = useRoute(t)
      , {rebornClient: r, store: o} = getRootStore()
      , i = createRestQuery(e, null, n, o.hydrationStatus, r.rest);
    tempQueryList.push(i);
    const a = useStatus(i.info, i.requestReason)
      , {loading: s, error: c, data: l} = toRefs(i.info);
    return {
        info: i.info,
        status: a,
        loading: s,
        error: c,
        data: l,
        refetch: i.refetch,
        fetchMore: i.fetchMore,
        onNext: i.onNext,
        requestReason: i.requestReason,
        stream$: i.stream$
    }
}
  , useRestMutation = e => {
    const t = getCurrentInstance();
    if (creatingModelCount <= 0 || !t)
        throw new Error("You should use useRestMutation with createModel context ");
    const n = useRoute(t)
      , {rebornClient: r} = getRootStore()
      , o = createRestMutation(e, null, n, r.rest);
    return tempQueryList.push(o),
    {
        info: o.info,
        mutate: o.mutate,
        stream$: o.stream$
    }
}
;
function createModelFromCA(e) {
    return {
        type: "FunctionalModel",
        cotr: () => {
            const {model: t, queryList: n} = e.creator();
            let r;
            return n.length && "SSR" !== MODE && n.forEach((e => {
                var t;
                return null == (t = e.init) ? void 0 : t.call(e)
            }
            )),
            {
                model: t,
                prefetch: function() {
                    return r || (r = Promise.all(n.map((e => {
                        var t;
                        return null == (t = e.prefetch) ? void 0 : t.call(e)
                    }
                    )))),
                    r
                },
                destroy: function() {
                    n && (n.forEach((e => {
                        var t;
                        return null == (t = e.destroy) ? void 0 : t.call(e)
                    }
                    )),
                    n.length = 0)
                }
            }
        }
    }
}
function createModel(e) {
    return {
        type: "FN",
        creator: () => {
            creatingModelCount++;
            const {store: t} = getRootStore()
              , n = e({
                getModelInstance: t.getModelInstance
            })
              , r = [...tempQueryList];
            return creatingModelCount--,
            tempQueryList.length = 0,
            {
                queryList: r,
                model: n
            }
        }
    }
}
function registerProperty(e, t, n) {
    Object.defineProperty(e, t, {
        value: n,
        writable: !1,
        configurable: !1,
        enumerable: !0
    })
}
function getDecoratorList(e) {
    const t = [];
    let n = e.constructor;
    for (; n !== Object; ) {
        const e = n.rebornDecorators;
        e && t.push(...e),
        n = Object.getPrototypeOf(n.prototype).constructor
    }
    return t
}
function initRebornDesc(e, t, n, r, o) {
    const i = []
      , a = getCurrentInstance();
    for (const s of n) {
        const {key: n, meta: c} = s;
        if (c.type.startsWith("gql") && !o.gql)
            throw new Error('Before use an gqlQuery / gqlMutation, you must register "GQL" client first');
        if (c.type.startsWith("rest") && !o.rest)
            throw new Error('Before use an restQuery / restMutation, you must register "REST" client first');
        if (c.type.endsWith("Mutation")) {
            let r;
            "gqlMutation" === c.type ? r = createGQLMutation(c.detail, e, a.proxy.$route, o.gql) : "restMutation" === c.type && (r = createRestMutation(c.detail, e, a.proxy.$route, o.rest));
            registerProperty(t, n, {
                get data() {
                    return r.info.data
                },
                get loading() {
                    return r.info.loading
                },
                get mutate() {
                    return r.mutate.bind(r)
                },
                get error() {
                    return r.info.error
                }
            })
        } else {
            let s;
            "gqlQuery" === c.type ? s = createGQLQuery(c.detail, e, a.proxy.$route, r.hydrationStatus, o.gql) : "restQuery" === c.type && (s = createRestQuery(c.detail, e, a.proxy.$route, r.hydrationStatus, o.rest));
            const l = useStatus(s.info, s.requestReason)
              , u = {
                get data() {
                    return s.info.data
                },
                get loading() {
                    return s.info.loading
                },
                get refetch() {
                    return s.refetch.bind(s)
                },
                get fetchMore() {
                    return s.fetchMore.bind(s)
                },
                get error() {
                    return s.info.error
                },
                get status() {
                    return l.value
                }
            };
            i.push(s),
            registerProperty(t, n, u)
        }
    }
    return i
}
const SKIP_PROPERTIES = ["constructor"];
function collectProperty(e) {
    const t = [];
    return Object.getOwnPropertyNames(e).forEach((n => {
        if (SKIP_PROPERTIES.indexOf(n) >= 0)
            return;
        const r = Object.getOwnPropertyDescriptor(e, n);
        r.get ? t.push({
            key: n,
            type: "getter",
            get: r.get,
            set: r.set
        }) : "function" == typeof r.value ? t.push({
            key: n,
            type: "function",
            value: r.value
        }) : t.push({
            key: n,
            type: "other",
            value: r.value
        })
    }
    )),
    t
}
function getDataFactory(e) {
    return () => {
        const t = new e
          , n = reactive({
            ...t
        })
          , r = {};
        return Object.getOwnPropertyNames(n).forEach((e => {
            Object.defineProperty(r, e, {
                get: () => n[e],
                set: t => {
                    n[e] = t
                }
            }),
            Object.defineProperty(t, e, {
                get: () => r[e],
                set: t => {
                    r[e] = t
                }
            })
        }
        )),
        {
            reactiveData: n,
            original: t,
            modelAccessor: r
        }
    }
}
function getPropertyMetaList(e) {
    const t = [];
    let n = e.prototype;
    for (; n && n !== Object.prototype; )
        t.push(...collectProperty(n)),
        n = Object.getPrototypeOf(n);
    return t
}
function generateProtoData(e) {
    return t => {
        const n = getPropertyMetaList(e);
        for (const e of n)
            if ("function" === e.type)
                Object.defineProperty(t, e.key, {
                    get: () => e.value.bind(t)
                });
            else if ("getter" === e.type) {
                const {get: n=( () => {}
                ), set: r} = e
                  , o = computed({
                    get: () => n.call(t),
                    set: e => {
                        r && r.call(t, e)
                    }
                })
                  , i = {
                    enumerable: !0,
                    get: () => o.value
                };
                r && (i.set = e => {
                    o.value = e
                }
                ),
                Object.defineProperty(t, e.key, i)
            }
    }
}
function createModelFromClass(e) {
    const t = getDataFactory(e)
      , n = generateProtoData(e);
    return {
        type: "ClassModel",
        cotr: e => {
            if (!e)
                throw new Error("no client has been set before you use class mode model");
            const {original: r, reactiveData: o, modelAccessor: i} = t()
              , a = getRootStore().store
              , s = getDecoratorList(r)
              , c = s.length ? initRebornDesc(o, i, s, a, e) : [];
            return n(i),
            Object.defineProperty(i, "getModelInstance", {
                get: () => a.getModelInstance,
                configurable: !0,
                enumerable: !1
            }),
            c.length && "SSR" !== MODE && c.forEach((e => e.init())),
            {
                model: i,
                prefetch: function() {
                    return Promise.all(c.map((e => e.prefetch())))
                },
                destroy: function() {
                    c && (c.forEach((e => e.destroy())),
                    c.length = 0),
                    Object.defineProperty(i, "getModelInstance", {
                        get: () => null,
                        configurable: !0,
                        enumerable: !1
                    })
                }
            }
        }
    }
}
function useModel(e) {
    if (!getCurrentInstance())
        throw new Error("useModel must use in a setup context!");
    const {store: t, rebornClient: n} = getRootStore();
    if (!t)
        throw new Error("There is no reborn-model store in your root vm!!");
    0 === t.hydrationStatus.value && (t.hydrationStatus.value = 1,
    onMounted(( () => {
        nextTick(( () => {
            t.hydrationStatus.value = 2
        }
        ))
    }
    )));
    const r = t.addModel(e);
    if (!r.count) {
        const t = "type"in e ? createModelFromCA(e) : createModelFromClass(e);
        r.scope = effectScope(!0);
        const o = r.scope;
        null == o || o.run(( () => {
            const e = t.cotr(n);
            r.instance = e
        }
        ))
    }
    return r.count++,
    onBeforeUnmount(( () => {
        var n;
        r.count--,
        0 === r.count && r.instance && (r.instance.destroy(),
        r.instance = null,
        null == (n = r.scope) || n.stop(),
        r.scope = null,
        t.removeModel(e))
    }
    )),
    onServerPrefetch((async () => {
        var n, o;
        await (null == (n = r.instance) ? void 0 : n.prefetch()),
        r.count--,
        0 === r.count && r.instance && (r.instance.destroy(),
        r.instance = null,
        null == (o = r.scope) || o.stop(),
        r.scope = null,
        t.removeModel(e))
    }
    )),
    r.instance.model
}
function createRequestInterceptors(e, t, {mock: n=!1, mockHost: r="http://localhost:6173"}={
    mock: !1
}) {
    return e => {
        if (!e.url)
            throw new Error("请求缺少url");
        return e
    }
}
var esErrors = Error, _eval = EvalError, range = RangeError, ref = ReferenceError, syntax = SyntaxError, type = TypeError, uri = URIError, shams = function() {
    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
        return !1;
    if ("symbol" == typeof Symbol.iterator)
        return !0;
    var e = {}
      , t = Symbol("test")
      , n = Object(t);
    if ("string" == typeof t)
        return !1;
    if ("[object Symbol]" !== Object.prototype.toString.call(t))
        return !1;
    if ("[object Symbol]" !== Object.prototype.toString.call(n))
        return !1;
    for (t in e[t] = 42,
    e)
        return !1;
    if ("function" == typeof Object.keys && 0 !== Object.keys(e).length)
        return !1;
    if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(e).length)
        return !1;
    var r = Object.getOwnPropertySymbols(e);
    if (1 !== r.length || r[0] !== t)
        return !1;
    if (!Object.prototype.propertyIsEnumerable.call(e, t))
        return !1;
    if ("function" == typeof Object.getOwnPropertyDescriptor) {
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (42 !== o.value || !0 !== o.enumerable)
            return !1
    }
    return !0
}, origSymbol = "undefined" != typeof Symbol && Symbol, hasSymbolSham = shams, hasSymbols$1 = function() {
    return "function" == typeof origSymbol && ("function" == typeof Symbol && ("symbol" == typeof origSymbol("foo") && ("symbol" == typeof Symbol("bar") && hasSymbolSham())))
}, test = {
    __proto__: null,
    foo: {}
}, $Object = Object, hasProto$1 = function() {
    return {
        __proto__: test
    }.foo === test.foo && !(test instanceof $Object)
}, ERROR_MESSAGE = "Function.prototype.bind called on incompatible ", toStr$1 = Object.prototype.toString, max = Math.max, funcType = "[object Function]", concatty = function(e, t) {
    for (var n = [], r = 0; r < e.length; r += 1)
        n[r] = e[r];
    for (var o = 0; o < t.length; o += 1)
        n[o + e.length] = t[o];
    return n
}, slicy = function(e, t) {
    for (var n = [], r = t, o = 0; r < e.length; r += 1,
    o += 1)
        n[o] = e[r];
    return n
}, joiny = function(e, t) {
    for (var n = "", r = 0; r < e.length; r += 1)
        n += e[r],
        r + 1 < e.length && (n += t);
    return n
}, implementation$1 = function(e) {
    var t = this;
    if ("function" != typeof t || toStr$1.apply(t) !== funcType)
        throw new TypeError(ERROR_MESSAGE + t);
    for (var n, r = slicy(arguments, 1), o = max(0, t.length - r.length), i = [], a = 0; a < o; a++)
        i[a] = "$" + a;
    if (n = Function("binder", "return function (" + joiny(i, ",") + "){ return binder.apply(this,arguments); }")((function() {
        if (this instanceof n) {
            var o = t.apply(this, concatty(r, arguments));
            return Object(o) === o ? o : this
        }
        return t.apply(e, concatty(r, arguments))
    }
    )),
    t.prototype) {
        var s = function() {};
        s.prototype = t.prototype,
        n.prototype = new s,
        s.prototype = null
    }
    return n
}, implementation = implementation$1, functionBind = Function.prototype.bind || implementation, call = Function.prototype.call, $hasOwn = Object.prototype.hasOwnProperty, bind$1 = functionBind, hasown = bind$1.call(call, $hasOwn), undefined$1, $Error = esErrors, $EvalError = _eval, $RangeError = range, $ReferenceError = ref, $SyntaxError$1 = syntax, $TypeError$3 = type, $URIError = uri, $Function = Function, getEvalledConstructor = function(e) {
    try {
        return $Function('"use strict"; return (' + e + ").constructor;")()
    } catch (e2) {}
}, $gOPD$1 = Object.getOwnPropertyDescriptor;
if ($gOPD$1)
    try {
        $gOPD$1({}, "")
    } catch (e2) {
        $gOPD$1 = null
    }
var throwTypeError = function() {
    throw new $TypeError$3
}
  , ThrowTypeError = $gOPD$1 ? function() {
    try {
        return throwTypeError
    } catch (e) {
        try {
            return $gOPD$1(arguments, "callee").get
        } catch (t) {
            return throwTypeError
        }
    }
}() : throwTypeError
  , hasSymbols = hasSymbols$1()
  , hasProto = hasProto$1()
  , getProto = Object.getPrototypeOf || (hasProto ? function(e) {
    return e.__proto__
}
: null)
  , needsEval = {}
  , TypedArray = "undefined" != typeof Uint8Array && getProto ? getProto(Uint8Array) : undefined$1
  , INTRINSICS = {
    __proto__: null,
    "%AggregateError%": "undefined" == typeof AggregateError ? undefined$1 : AggregateError,
    "%Array%": Array,
    "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? undefined$1 : ArrayBuffer,
    "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined$1,
    "%AsyncFromSyncIteratorPrototype%": undefined$1,
    "%AsyncFunction%": needsEval,
    "%AsyncGenerator%": needsEval,
    "%AsyncGeneratorFunction%": needsEval,
    "%AsyncIteratorPrototype%": needsEval,
    "%Atomics%": "undefined" == typeof Atomics ? undefined$1 : Atomics,
    "%BigInt%": "undefined" == typeof BigInt ? undefined$1 : BigInt,
    "%BigInt64Array%": "undefined" == typeof BigInt64Array ? undefined$1 : BigInt64Array,
    "%BigUint64Array%": "undefined" == typeof BigUint64Array ? undefined$1 : BigUint64Array,
    "%Boolean%": Boolean,
    "%DataView%": "undefined" == typeof DataView ? undefined$1 : DataView,
    "%Date%": Date,
    "%decodeURI%": decodeURI,
    "%decodeURIComponent%": decodeURIComponent,
    "%encodeURI%": encodeURI,
    "%encodeURIComponent%": encodeURIComponent,
    "%Error%": $Error,
    "%eval%": eval,
    "%EvalError%": $EvalError,
    "%Float32Array%": "undefined" == typeof Float32Array ? undefined$1 : Float32Array,
    "%Float64Array%": "undefined" == typeof Float64Array ? undefined$1 : Float64Array,
    "%FinalizationRegistry%": "undefined" == typeof FinalizationRegistry ? undefined$1 : FinalizationRegistry,
    "%Function%": $Function,
    "%GeneratorFunction%": needsEval,
    "%Int8Array%": "undefined" == typeof Int8Array ? undefined$1 : Int8Array,
    "%Int16Array%": "undefined" == typeof Int16Array ? undefined$1 : Int16Array,
    "%Int32Array%": "undefined" == typeof Int32Array ? undefined$1 : Int32Array,
    "%isFinite%": isFinite,
    "%isNaN%": isNaN,
    "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined$1,
    "%JSON%": "object" == typeof JSON ? JSON : undefined$1,
    "%Map%": "undefined" == typeof Map ? undefined$1 : Map,
    "%MapIteratorPrototype%": "undefined" != typeof Map && hasSymbols && getProto ? getProto((new Map)[Symbol.iterator]()) : undefined$1,
    "%Math%": Math,
    "%Number%": Number,
    "%Object%": Object,
    "%parseFloat%": parseFloat,
    "%parseInt%": parseInt,
    "%Promise%": "undefined" == typeof Promise ? undefined$1 : Promise,
    "%Proxy%": "undefined" == typeof Proxy ? undefined$1 : Proxy,
    "%RangeError%": $RangeError,
    "%ReferenceError%": $ReferenceError,
    "%Reflect%": "undefined" == typeof Reflect ? undefined$1 : Reflect,
    "%RegExp%": RegExp,
    "%Set%": "undefined" == typeof Set ? undefined$1 : Set,
    "%SetIteratorPrototype%": "undefined" != typeof Set && hasSymbols && getProto ? getProto((new Set)[Symbol.iterator]()) : undefined$1,
    "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? undefined$1 : SharedArrayBuffer,
    "%String%": String,
    "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined$1,
    "%Symbol%": hasSymbols ? Symbol : undefined$1,
    "%SyntaxError%": $SyntaxError$1,
    "%ThrowTypeError%": ThrowTypeError,
    "%TypedArray%": TypedArray,
    "%TypeError%": $TypeError$3,
    "%Uint8Array%": "undefined" == typeof Uint8Array ? undefined$1 : Uint8Array,
    "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? undefined$1 : Uint8ClampedArray,
    "%Uint16Array%": "undefined" == typeof Uint16Array ? undefined$1 : Uint16Array,
    "%Uint32Array%": "undefined" == typeof Uint32Array ? undefined$1 : Uint32Array,
    "%URIError%": $URIError,
    "%WeakMap%": "undefined" == typeof WeakMap ? undefined$1 : WeakMap,
    "%WeakRef%": "undefined" == typeof WeakRef ? undefined$1 : WeakRef,
    "%WeakSet%": "undefined" == typeof WeakSet ? undefined$1 : WeakSet
};
if (getProto)
    try {
        null.error
    } catch (e2) {
        var errorProto = getProto(getProto(e2));
        INTRINSICS["%Error.prototype%"] = errorProto
    }
var doEval = function e(t) {
    var n;
    if ("%AsyncFunction%" === t)
        n = getEvalledConstructor("async function () {}");
    else if ("%GeneratorFunction%" === t)
        n = getEvalledConstructor("function* () {}");
    else if ("%AsyncGeneratorFunction%" === t)
        n = getEvalledConstructor("async function* () {}");
    else if ("%AsyncGenerator%" === t) {
        var r = e("%AsyncGeneratorFunction%");
        r && (n = r.prototype)
    } else if ("%AsyncIteratorPrototype%" === t) {
        var o = e("%AsyncGenerator%");
        o && getProto && (n = getProto(o.prototype))
    }
    return INTRINSICS[t] = n,
    n
}, LEGACY_ALIASES = {
    __proto__: null,
    "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
    "%ArrayPrototype%": ["Array", "prototype"],
    "%ArrayProto_entries%": ["Array", "prototype", "entries"],
    "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
    "%ArrayProto_keys%": ["Array", "prototype", "keys"],
    "%ArrayProto_values%": ["Array", "prototype", "values"],
    "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
    "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
    "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
    "%BooleanPrototype%": ["Boolean", "prototype"],
    "%DataViewPrototype%": ["DataView", "prototype"],
    "%DatePrototype%": ["Date", "prototype"],
    "%ErrorPrototype%": ["Error", "prototype"],
    "%EvalErrorPrototype%": ["EvalError", "prototype"],
    "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
    "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
    "%FunctionPrototype%": ["Function", "prototype"],
    "%Generator%": ["GeneratorFunction", "prototype"],
    "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
    "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
    "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
    "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
    "%JSONParse%": ["JSON", "parse"],
    "%JSONStringify%": ["JSON", "stringify"],
    "%MapPrototype%": ["Map", "prototype"],
    "%NumberPrototype%": ["Number", "prototype"],
    "%ObjectPrototype%": ["Object", "prototype"],
    "%ObjProto_toString%": ["Object", "prototype", "toString"],
    "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
    "%PromisePrototype%": ["Promise", "prototype"],
    "%PromiseProto_then%": ["Promise", "prototype", "then"],
    "%Promise_all%": ["Promise", "all"],
    "%Promise_reject%": ["Promise", "reject"],
    "%Promise_resolve%": ["Promise", "resolve"],
    "%RangeErrorPrototype%": ["RangeError", "prototype"],
    "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
    "%RegExpPrototype%": ["RegExp", "prototype"],
    "%SetPrototype%": ["Set", "prototype"],
    "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
    "%StringPrototype%": ["String", "prototype"],
    "%SymbolPrototype%": ["Symbol", "prototype"],
    "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
    "%TypedArrayPrototype%": ["TypedArray", "prototype"],
    "%TypeErrorPrototype%": ["TypeError", "prototype"],
    "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
    "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
    "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
    "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
    "%URIErrorPrototype%": ["URIError", "prototype"],
    "%WeakMapPrototype%": ["WeakMap", "prototype"],
    "%WeakSetPrototype%": ["WeakSet", "prototype"]
}, bind = functionBind, hasOwn$1 = hasown, $concat$1 = bind.call(Function.call, Array.prototype.concat), $spliceApply = bind.call(Function.apply, Array.prototype.splice), $replace$1 = bind.call(Function.call, String.prototype.replace), $strSlice = bind.call(Function.call, String.prototype.slice), $exec = bind.call(Function.call, RegExp.prototype.exec), rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, reEscapeChar = /\\(\\)?/g, stringToPath = function(e) {
    var t = $strSlice(e, 0, 1)
      , n = $strSlice(e, -1);
    if ("%" === t && "%" !== n)
        throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");
    if ("%" === n && "%" !== t)
        throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");
    var r = [];
    return $replace$1(e, rePropName, (function(e, t, n, o) {
        r[r.length] = n ? $replace$1(o, reEscapeChar, "$1") : t || e
    }
    )),
    r
}, getBaseIntrinsic = function(e, t) {
    var n, r = e;
    if (hasOwn$1(LEGACY_ALIASES, r) && (r = "%" + (n = LEGACY_ALIASES[r])[0] + "%"),
    hasOwn$1(INTRINSICS, r)) {
        var o = INTRINSICS[r];
        if (o === needsEval && (o = doEval(r)),
        void 0 === o && !t)
            throw new $TypeError$3("intrinsic " + e + " exists, but is not available. Please file an issue!");
        return {
            alias: n,
            name: r,
            value: o
        }
    }
    throw new $SyntaxError$1("intrinsic " + e + " does not exist!")
}, getIntrinsic = function(e, t) {
    if ("string" != typeof e || 0 === e.length)
        throw new $TypeError$3("intrinsic name must be a non-empty string");
    if (arguments.length > 1 && "boolean" != typeof t)
        throw new $TypeError$3('"allowMissing" argument must be a boolean');
    if (null === $exec(/^%?[^%]*%?$/, e))
        throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
    var n = stringToPath(e)
      , r = n.length > 0 ? n[0] : ""
      , o = getBaseIntrinsic("%" + r + "%", t)
      , i = o.name
      , a = o.value
      , s = !1
      , c = o.alias;
    c && (r = c[0],
    $spliceApply(n, $concat$1([0, 1], c)));
    for (var l = 1, u = !0; l < n.length; l += 1) {
        var p = n[l]
          , d = $strSlice(p, 0, 1)
          , f = $strSlice(p, -1);
        if (('"' === d || "'" === d || "`" === d || '"' === f || "'" === f || "`" === f) && d !== f)
            throw new $SyntaxError$1("property names with quotes must have matching quotes");
        if ("constructor" !== p && u || (s = !0),
        hasOwn$1(INTRINSICS, i = "%" + (r += "." + p) + "%"))
            a = INTRINSICS[i];
        else if (null != a) {
            if (!(p in a)) {
                if (!t)
                    throw new $TypeError$3("base intrinsic for " + e + " exists, but the property is not available.");
                return
            }
            if ($gOPD$1 && l + 1 >= n.length) {
                var h = $gOPD$1(a, p);
                a = (u = !!h) && "get"in h && !("originalValue"in h.get) ? h.get : a[p]
            } else
                u = hasOwn$1(a, p),
                a = a[p];
            u && !s && (INTRINSICS[i] = a)
        }
    }
    return a
}, callBind$1 = {
    exports: {}
}, esDefineProperty, hasRequiredEsDefineProperty;
function requireEsDefineProperty() {
    if (hasRequiredEsDefineProperty)
        return esDefineProperty;
    hasRequiredEsDefineProperty = 1;
    var e = getIntrinsic("%Object.defineProperty%", !0) || !1;
    if (e)
        try {
            e({}, "a", {
                value: 1
            })
        } catch (e2) {
            e = !1
        }
    return esDefineProperty = e
}
var GetIntrinsic$3 = getIntrinsic
  , $gOPD = GetIntrinsic$3("%Object.getOwnPropertyDescriptor%", !0);
if ($gOPD)
    try {
        $gOPD([], "length")
    } catch (e2) {
        $gOPD = null
    }
var gopd$1 = $gOPD
  , $defineProperty$1 = requireEsDefineProperty()
  , $SyntaxError = syntax
  , $TypeError$2 = type
  , gopd = gopd$1
  , defineDataProperty = function(e, t, n) {
    if (!e || "object" != typeof e && "function" != typeof e)
        throw new $TypeError$2("`obj` must be an object or a function`");
    if ("string" != typeof t && "symbol" != typeof t)
        throw new $TypeError$2("`property` must be a string or a symbol`");
    if (arguments.length > 3 && "boolean" != typeof arguments[3] && null !== arguments[3])
        throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");
    if (arguments.length > 4 && "boolean" != typeof arguments[4] && null !== arguments[4])
        throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");
    if (arguments.length > 5 && "boolean" != typeof arguments[5] && null !== arguments[5])
        throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");
    if (arguments.length > 6 && "boolean" != typeof arguments[6])
        throw new $TypeError$2("`loose`, if provided, must be a boolean");
    var r = arguments.length > 3 ? arguments[3] : null
      , o = arguments.length > 4 ? arguments[4] : null
      , i = arguments.length > 5 ? arguments[5] : null
      , a = arguments.length > 6 && arguments[6]
      , s = !!gopd && gopd(e, t);
    if ($defineProperty$1)
        $defineProperty$1(e, t, {
            configurable: null === i && s ? s.configurable : !i,
            enumerable: null === r && s ? s.enumerable : !r,
            value: n,
            writable: null === o && s ? s.writable : !o
        });
    else {
        if (!a && (r || o || i))
            throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
        e[t] = n
    }
}
  , $defineProperty = requireEsDefineProperty()
  , hasPropertyDescriptors = function() {
    return !!$defineProperty
};
hasPropertyDescriptors.hasArrayLengthDefineBug = function() {
    if (!$defineProperty)
        return null;
    try {
        return 1 !== $defineProperty([], "length", {
            value: 1
        }).length
    } catch (e2) {
        return !0
    }
}
;
var hasPropertyDescriptors_1 = hasPropertyDescriptors
  , GetIntrinsic$2 = getIntrinsic
  , define$1 = defineDataProperty
  , hasDescriptors = hasPropertyDescriptors_1()
  , gOPD = gopd$1
  , $TypeError$1 = type
  , $floor$1 = GetIntrinsic$2("%Math.floor%")
  , setFunctionLength = function(e, t) {
    if ("function" != typeof e)
        throw new $TypeError$1("`fn` is not a function");
    if ("number" != typeof t || t < 0 || t > 4294967295 || $floor$1(t) !== t)
        throw new $TypeError$1("`length` must be a positive 32-bit integer");
    var n = arguments.length > 2 && !!arguments[2]
      , r = !0
      , o = !0;
    if ("length"in e && gOPD) {
        var i = gOPD(e, "length");
        i && !i.configurable && (r = !1),
        i && !i.writable && (o = !1)
    }
    return (r || o || !n) && (hasDescriptors ? define$1(e, "length", t, !0, !0) : define$1(e, "length", t)),
    e
};
!function(e) {
    var t = functionBind
      , n = getIntrinsic
      , r = setFunctionLength
      , o = type
      , i = n("%Function.prototype.apply%")
      , a = n("%Function.prototype.call%")
      , s = n("%Reflect.apply%", !0) || t.call(a, i)
      , c = requireEsDefineProperty()
      , l = n("%Math.max%");
    e.exports = function(e) {
        if ("function" != typeof e)
            throw new o("a function is required");
        var n = s(t, a, arguments);
        return r(n, 1 + l(0, e.length - (arguments.length - 1)), !0)
    }
    ;
    var u = function() {
        return s(t, i, arguments)
    };
    c ? c(e.exports, "apply", {
        value: u
    }) : e.exports.apply = u
}(callBind$1);
var callBindExports = callBind$1.exports
  , GetIntrinsic$1 = getIntrinsic
  , callBind = callBindExports
  , $indexOf = callBind(GetIntrinsic$1("String.prototype.indexOf"))
  , callBound$1 = function(e, t) {
    var n = GetIntrinsic$1(e, !!t);
    return "function" == typeof n && $indexOf(e, ".prototype.") > -1 ? callBind(n) : n
};
const __viteBrowserExternal = {}
  , __viteBrowserExternal$1 = Object.freeze(Object.defineProperty({
    __proto__: null,
    default: __viteBrowserExternal
}, Symbol.toStringTag, {
    value: "Module"
}))
  , require$$0 = getAugmentedNamespace(__viteBrowserExternal$1);
var hasMap = "function" == typeof Map && Map.prototype
  , mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null
  , mapSize = hasMap && mapSizeDescriptor && "function" == typeof mapSizeDescriptor.get ? mapSizeDescriptor.get : null
  , mapForEach = hasMap && Map.prototype.forEach
  , hasSet = "function" == typeof Set && Set.prototype
  , setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null
  , setSize = hasSet && setSizeDescriptor && "function" == typeof setSizeDescriptor.get ? setSizeDescriptor.get : null
  , setForEach = hasSet && Set.prototype.forEach
  , hasWeakMap = "function" == typeof WeakMap && WeakMap.prototype
  , weakMapHas = hasWeakMap ? WeakMap.prototype.has : null
  , hasWeakSet = "function" == typeof WeakSet && WeakSet.prototype
  , weakSetHas = hasWeakSet ? WeakSet.prototype.has : null
  , hasWeakRef = "function" == typeof WeakRef && WeakRef.prototype
  , weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null
  , booleanValueOf = Boolean.prototype.valueOf
  , objectToString = Object.prototype.toString
  , functionToString = Function.prototype.toString
  , $match = String.prototype.match
  , $slice = String.prototype.slice
  , $replace = String.prototype.replace
  , $toUpperCase = String.prototype.toUpperCase
  , $toLowerCase = String.prototype.toLowerCase
  , $test = RegExp.prototype.test
  , $concat = Array.prototype.concat
  , $join = Array.prototype.join
  , $arrSlice = Array.prototype.slice
  , $floor = Math.floor
  , bigIntValueOf = "function" == typeof BigInt ? BigInt.prototype.valueOf : null
  , gOPS = Object.getOwnPropertySymbols
  , symToString = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol.prototype.toString : null
  , hasShammedSymbols = "function" == typeof Symbol && "object" == typeof Symbol.iterator
  , toStringTag = "function" == typeof Symbol && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols || "symbol") ? Symbol.toStringTag : null
  , isEnumerable = Object.prototype.propertyIsEnumerable
  , gPO = ("function" == typeof Reflect ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(e) {
    return e.__proto__
}
: null);
function addNumericSeparator(e, t) {
    if (e === 1 / 0 || e === -1 / 0 || e != e || e && e > -1e3 && e < 1e3 || $test.call(/e/, t))
        return t;
    var n = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if ("number" == typeof e) {
        var r = e < 0 ? -$floor(-e) : $floor(e);
        if (r !== e) {
            var o = String(r)
              , i = $slice.call(t, o.length + 1);
            return $replace.call(o, n, "$&_") + "." + $replace.call($replace.call(i, /([0-9]{3})/g, "$&_"), /_$/, "")
        }
    }
    return $replace.call(t, n, "$&_")
}
var utilInspect = require$$0
  , inspectCustom = utilInspect.custom
  , inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null
  , objectInspect = function e(t, n, r, o) {
    var i = n || {};
    if (has$3(i, "quoteStyle") && "single" !== i.quoteStyle && "double" !== i.quoteStyle)
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
    if (has$3(i, "maxStringLength") && ("number" == typeof i.maxStringLength ? i.maxStringLength < 0 && i.maxStringLength !== 1 / 0 : null !== i.maxStringLength))
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
    var a = !has$3(i, "customInspect") || i.customInspect;
    if ("boolean" != typeof a && "symbol" !== a)
        throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
    if (has$3(i, "indent") && null !== i.indent && "\t" !== i.indent && !(parseInt(i.indent, 10) === i.indent && i.indent > 0))
        throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
    if (has$3(i, "numericSeparator") && "boolean" != typeof i.numericSeparator)
        throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
    var s = i.numericSeparator;
    if (void 0 === t)
        return "undefined";
    if (null === t)
        return "null";
    if ("boolean" == typeof t)
        return t ? "true" : "false";
    if ("string" == typeof t)
        return inspectString(t, i);
    if ("number" == typeof t) {
        if (0 === t)
            return 1 / 0 / t > 0 ? "0" : "-0";
        var c = String(t);
        return s ? addNumericSeparator(t, c) : c
    }
    if ("bigint" == typeof t) {
        var l = String(t) + "n";
        return s ? addNumericSeparator(t, l) : l
    }
    var u = void 0 === i.depth ? 5 : i.depth;
    if (void 0 === r && (r = 0),
    r >= u && u > 0 && "object" == typeof t)
        return isArray$3(t) ? "[Array]" : "[Object]";
    var p = getIndent(i, r);
    if (void 0 === o)
        o = [];
    else if (indexOf(o, t) >= 0)
        return "[Circular]";
    function d(t, n, a) {
        if (n && (o = $arrSlice.call(o)).push(n),
        a) {
            var s = {
                depth: i.depth
            };
            return has$3(i, "quoteStyle") && (s.quoteStyle = i.quoteStyle),
            e(t, s, r + 1, o)
        }
        return e(t, i, r + 1, o)
    }
    if ("function" == typeof t && !isRegExp$1(t)) {
        var f = nameOf(t)
          , h = arrObjKeys(t, d);
        return "[Function" + (f ? ": " + f : " (anonymous)") + "]" + (h.length > 0 ? " { " + $join.call(h, ", ") + " }" : "")
    }
    if (isSymbol(t)) {
        var g = hasShammedSymbols ? $replace.call(String(t), /^(Symbol\(.*\))_[^)]*$/, "$1") : symToString.call(t);
        return "object" != typeof t || hasShammedSymbols ? g : markBoxed(g)
    }
    if (isElement(t)) {
        for (var m = "<" + $toLowerCase.call(String(t.nodeName)), y = t.attributes || [], v = 0; v < y.length; v++)
            m += " " + y[v].name + "=" + wrapQuotes(quote(y[v].value), "double", i);
        return m += ">",
        t.childNodes && t.childNodes.length && (m += "..."),
        m += "</" + $toLowerCase.call(String(t.nodeName)) + ">"
    }
    if (isArray$3(t)) {
        if (0 === t.length)
            return "[]";
        var b = arrObjKeys(t, d);
        return p && !singleLineValues(b) ? "[" + indentedJoin(b, p) + "]" : "[ " + $join.call(b, ", ") + " ]"
    }
    if (isError(t)) {
        var _ = arrObjKeys(t, d);
        return "cause"in Error.prototype || !("cause"in t) || isEnumerable.call(t, "cause") ? 0 === _.length ? "[" + String(t) + "]" : "{ [" + String(t) + "] " + $join.call(_, ", ") + " }" : "{ [" + String(t) + "] " + $join.call($concat.call("[cause]: " + d(t.cause), _), ", ") + " }"
    }
    if ("object" == typeof t && a) {
        if (inspectSymbol && "function" == typeof t[inspectSymbol] && utilInspect)
            return utilInspect(t, {
                depth: u - r
            });
        if ("symbol" !== a && "function" == typeof t.inspect)
            return t.inspect()
    }
    if (isMap(t)) {
        var S = [];
        return mapForEach && mapForEach.call(t, (function(e, n) {
            S.push(d(n, t, !0) + " => " + d(e, t))
        }
        )),
        collectionOf("Map", mapSize.call(t), S, p)
    }
    if (isSet(t)) {
        var w = [];
        return setForEach && setForEach.call(t, (function(e) {
            w.push(d(e, t))
        }
        )),
        collectionOf("Set", setSize.call(t), w, p)
    }
    if (isWeakMap(t))
        return weakCollectionOf("WeakMap");
    if (isWeakSet(t))
        return weakCollectionOf("WeakSet");
    if (isWeakRef(t))
        return weakCollectionOf("WeakRef");
    if (isNumber(t))
        return markBoxed(d(Number(t)));
    if (isBigInt(t))
        return markBoxed(d(bigIntValueOf.call(t)));
    if (isBoolean(t))
        return markBoxed(booleanValueOf.call(t));
    if (isString(t))
        return markBoxed(d(String(t)));
    if ("undefined" != typeof window && t === window)
        return "{ [object Window] }";
    if (t === commonjsGlobal$1)
        return "{ [object globalThis] }";
    if (!isDate(t) && !isRegExp$1(t)) {
        var $ = arrObjKeys(t, d)
          , k = gPO ? gPO(t) === Object.prototype : t instanceof Object || t.constructor === Object
          , E = t instanceof Object ? "" : "null prototype"
          , T = !k && toStringTag && Object(t) === t && toStringTag in t ? $slice.call(toStr(t), 8, -1) : E ? "Object" : ""
          , O = (k || "function" != typeof t.constructor ? "" : t.constructor.name ? t.constructor.name + " " : "") + (T || E ? "[" + $join.call($concat.call([], T || [], E || []), ": ") + "] " : "");
        return 0 === $.length ? O + "{}" : p ? O + "{" + indentedJoin($, p) + "}" : O + "{ " + $join.call($, ", ") + " }"
    }
    return String(t)
};
function wrapQuotes(e, t, n) {
    var r = "double" === (n.quoteStyle || t) ? '"' : "'";
    return r + e + r
}
function quote(e) {
    return $replace.call(String(e), /"/g, "&quot;")
}
function isArray$3(e) {
    return !("[object Array]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isDate(e) {
    return !("[object Date]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isRegExp$1(e) {
    return !("[object RegExp]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isError(e) {
    return !("[object Error]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isString(e) {
    return !("[object String]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isNumber(e) {
    return !("[object Number]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isBoolean(e) {
    return !("[object Boolean]" !== toStr(e) || toStringTag && "object" == typeof e && toStringTag in e)
}
function isSymbol(e) {
    if (hasShammedSymbols)
        return e && "object" == typeof e && e instanceof Symbol;
    if ("symbol" == typeof e)
        return !0;
    if (!e || "object" != typeof e || !symToString)
        return !1;
    try {
        return symToString.call(e),
        !0
    } catch (e2) {}
    return !1
}
function isBigInt(e) {
    if (!e || "object" != typeof e || !bigIntValueOf)
        return !1;
    try {
        return bigIntValueOf.call(e),
        !0
    } catch (e2) {}
    return !1
}
var hasOwn = Object.prototype.hasOwnProperty || function(e) {
    return e in this
}
;
function has$3(e, t) {
    return hasOwn.call(e, t)
}
function toStr(e) {
    return objectToString.call(e)
}
function nameOf(e) {
    if (e.name)
        return e.name;
    var t = $match.call(functionToString.call(e), /^function\s*([\w$]+)/);
    return t ? t[1] : null
}
function indexOf(e, t) {
    if (e.indexOf)
        return e.indexOf(t);
    for (var n = 0, r = e.length; n < r; n++)
        if (e[n] === t)
            return n;
    return -1
}
function isMap(e) {
    if (!mapSize || !e || "object" != typeof e)
        return !1;
    try {
        mapSize.call(e);
        try {
            setSize.call(e)
        } catch (t) {
            return !0
        }
        return e instanceof Map
    } catch (e2) {}
    return !1
}
function isWeakMap(e) {
    if (!weakMapHas || !e || "object" != typeof e)
        return !1;
    try {
        weakMapHas.call(e, weakMapHas);
        try {
            weakSetHas.call(e, weakSetHas)
        } catch (t) {
            return !0
        }
        return e instanceof WeakMap
    } catch (e2) {}
    return !1
}
function isWeakRef(e) {
    if (!weakRefDeref || !e || "object" != typeof e)
        return !1;
    try {
        return weakRefDeref.call(e),
        !0
    } catch (e2) {}
    return !1
}
function isSet(e) {
    if (!setSize || !e || "object" != typeof e)
        return !1;
    try {
        setSize.call(e);
        try {
            mapSize.call(e)
        } catch (t) {
            return !0
        }
        return e instanceof Set
    } catch (e2) {}
    return !1
}
function isWeakSet(e) {
    if (!weakSetHas || !e || "object" != typeof e)
        return !1;
    try {
        weakSetHas.call(e, weakSetHas);
        try {
            weakMapHas.call(e, weakMapHas)
        } catch (t) {
            return !0
        }
        return e instanceof WeakSet
    } catch (e2) {}
    return !1
}
function isElement(e) {
    return !(!e || "object" != typeof e) && ("undefined" != typeof HTMLElement && e instanceof HTMLElement || "string" == typeof e.nodeName && "function" == typeof e.getAttribute)
}
function inspectString(e, t) {
    if (e.length > t.maxStringLength) {
        var n = e.length - t.maxStringLength
          , r = "... " + n + " more character" + (n > 1 ? "s" : "");
        return inspectString($slice.call(e, 0, t.maxStringLength), t) + r
    }
    return wrapQuotes($replace.call($replace.call(e, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, lowbyte), "single", t)
}
function lowbyte(e) {
    var t = e.charCodeAt(0)
      , n = {
        8: "b",
        9: "t",
        10: "n",
        12: "f",
        13: "r"
    }[t];
    return n ? "\\" + n : "\\x" + (t < 16 ? "0" : "") + $toUpperCase.call(t.toString(16))
}
function markBoxed(e) {
    return "Object(" + e + ")"
}
function weakCollectionOf(e) {
    return e + " { ? }"
}
function collectionOf(e, t, n, r) {
    return e + " (" + t + ") {" + (r ? indentedJoin(n, r) : $join.call(n, ", ")) + "}"
}
function singleLineValues(e) {
    for (var t = 0; t < e.length; t++)
        if (indexOf(e[t], "\n") >= 0)
            return !1;
    return !0
}
function getIndent(e, t) {
    var n;
    if ("\t" === e.indent)
        n = "\t";
    else {
        if (!("number" == typeof e.indent && e.indent > 0))
            return null;
        n = $join.call(Array(e.indent + 1), " ")
    }
    return {
        base: n,
        prev: $join.call(Array(t + 1), n)
    }
}
function indentedJoin(e, t) {
    if (0 === e.length)
        return "";
    var n = "\n" + t.prev + t.base;
    return n + $join.call(e, "," + n) + "\n" + t.prev
}
function arrObjKeys(e, t) {
    var n = isArray$3(e)
      , r = [];
    if (n) {
        r.length = e.length;
        for (var o = 0; o < e.length; o++)
            r[o] = has$3(e, o) ? t(e[o], e) : ""
    }
    var i, a = "function" == typeof gOPS ? gOPS(e) : [];
    if (hasShammedSymbols) {
        i = {};
        for (var s = 0; s < a.length; s++)
            i["$" + a[s]] = a[s]
    }
    for (var c in e)
        has$3(e, c) && (n && String(Number(c)) === c && c < e.length || hasShammedSymbols && i["$" + c]instanceof Symbol || ($test.call(/[^\w$]/, c) ? r.push(t(c, e) + ": " + t(e[c], e)) : r.push(c + ": " + t(e[c], e))));
    if ("function" == typeof gOPS)
        for (var l = 0; l < a.length; l++)
            isEnumerable.call(e, a[l]) && r.push("[" + t(a[l]) + "]: " + t(e[a[l]], e));
    return r
}
var GetIntrinsic = getIntrinsic
  , callBound = callBound$1
  , inspect = objectInspect
  , $TypeError = type
  , $WeakMap = GetIntrinsic("%WeakMap%", !0)
  , $Map = GetIntrinsic("%Map%", !0)
  , $weakMapGet = callBound("WeakMap.prototype.get", !0)
  , $weakMapSet = callBound("WeakMap.prototype.set", !0)
  , $weakMapHas = callBound("WeakMap.prototype.has", !0)
  , $mapGet = callBound("Map.prototype.get", !0)
  , $mapSet = callBound("Map.prototype.set", !0)
  , $mapHas = callBound("Map.prototype.has", !0)
  , listGetNode = function(e, t) {
    for (var n, r = e; null !== (n = r.next); r = n)
        if (n.key === t)
            return r.next = n.next,
            n.next = e.next,
            e.next = n,
            n
}
  , listGet = function(e, t) {
    var n = listGetNode(e, t);
    return n && n.value
}
  , listSet = function(e, t, n) {
    var r = listGetNode(e, t);
    r ? r.value = n : e.next = {
        key: t,
        next: e.next,
        value: n
    }
}
  , listHas = function(e, t) {
    return !!listGetNode(e, t)
}
  , sideChannel = function() {
    var e, t, n, r = {
        assert: function(e) {
            if (!r.has(e))
                throw new $TypeError("Side channel does not contain " + inspect(e))
        },
        get: function(r) {
            if ($WeakMap && r && ("object" == typeof r || "function" == typeof r)) {
                if (e)
                    return $weakMapGet(e, r)
            } else if ($Map) {
                if (t)
                    return $mapGet(t, r)
            } else if (n)
                return listGet(n, r)
        },
        has: function(r) {
            if ($WeakMap && r && ("object" == typeof r || "function" == typeof r)) {
                if (e)
                    return $weakMapHas(e, r)
            } else if ($Map) {
                if (t)
                    return $mapHas(t, r)
            } else if (n)
                return listHas(n, r);
            return !1
        },
        set: function(r, o) {
            $WeakMap && r && ("object" == typeof r || "function" == typeof r) ? (e || (e = new $WeakMap),
            $weakMapSet(e, r, o)) : $Map ? (t || (t = new $Map),
            $mapSet(t, r, o)) : (n || (n = {
                key: {},
                next: null
            }),
            listSet(n, r, o))
        }
    };
    return r
}
  , replace = String.prototype.replace
  , percentTwenties = /%20/g
  , Format = {
    RFC1738: "RFC1738",
    RFC3986: "RFC3986"
}
  , formats$3 = {
    default: Format.RFC3986,
    formatters: {
        RFC1738: function(e) {
            return replace.call(e, percentTwenties, "+")
        },
        RFC3986: function(e) {
            return String(e)
        }
    },
    RFC1738: Format.RFC1738,
    RFC3986: Format.RFC3986
}
  , formats$2 = formats$3
  , has$2 = Object.prototype.hasOwnProperty
  , isArray$2 = Array.isArray
  , hexTable = function() {
    for (var e = [], t = 0; t < 256; ++t)
        e.push("%" + ((t < 16 ? "0" : "") + t.toString(16)).toUpperCase());
    return e
}()
  , compactQueue = function(e) {
    for (; e.length > 1; ) {
        var t = e.pop()
          , n = t.obj[t.prop];
        if (isArray$2(n)) {
            for (var r = [], o = 0; o < n.length; ++o)
                void 0 !== n[o] && r.push(n[o]);
            t.obj[t.prop] = r
        }
    }
}
  , arrayToObject = function(e, t) {
    for (var n = t && t.plainObjects ? Object.create(null) : {}, r = 0; r < e.length; ++r)
        void 0 !== e[r] && (n[r] = e[r]);
    return n
}
  , merge = function e(t, n, r) {
    if (!n)
        return t;
    if ("object" != typeof n) {
        if (isArray$2(t))
            t.push(n);
        else {
            if (!t || "object" != typeof t)
                return [t, n];
            (r && (r.plainObjects || r.allowPrototypes) || !has$2.call(Object.prototype, n)) && (t[n] = !0)
        }
        return t
    }
    if (!t || "object" != typeof t)
        return [t].concat(n);
    var o = t;
    return isArray$2(t) && !isArray$2(n) && (o = arrayToObject(t, r)),
    isArray$2(t) && isArray$2(n) ? (n.forEach((function(n, o) {
        if (has$2.call(t, o)) {
            var i = t[o];
            i && "object" == typeof i && n && "object" == typeof n ? t[o] = e(i, n, r) : t.push(n)
        } else
            t[o] = n
    }
    )),
    t) : Object.keys(n).reduce((function(t, o) {
        var i = n[o];
        return has$2.call(t, o) ? t[o] = e(t[o], i, r) : t[o] = i,
        t
    }
    ), o)
}
  , assign = function(e, t) {
    return Object.keys(t).reduce((function(e, n) {
        return e[n] = t[n],
        e
    }
    ), e)
}
  , decode = function(e, t, n) {
    var r = e.replace(/\+/g, " ");
    if ("iso-8859-1" === n)
        return r.replace(/%[0-9a-f]{2}/gi, unescape);
    try {
        return decodeURIComponent(r)
    } catch (e2) {
        return r
    }
}
  , limit = 1024
  , encode = function(e, t, n, r, o) {
    if (0 === e.length)
        return e;
    var i = e;
    if ("symbol" == typeof e ? i = Symbol.prototype.toString.call(e) : "string" != typeof e && (i = String(e)),
    "iso-8859-1" === n)
        return escape(i).replace(/%u[0-9a-f]{4}/gi, (function(e) {
            return "%26%23" + parseInt(e.slice(2), 16) + "%3B"
        }
        ));
    for (var a = "", s = 0; s < i.length; s += limit) {
        for (var c = i.length >= limit ? i.slice(s, s + limit) : i, l = [], u = 0; u < c.length; ++u) {
            var p = c.charCodeAt(u);
            45 === p || 46 === p || 95 === p || 126 === p || p >= 48 && p <= 57 || p >= 65 && p <= 90 || p >= 97 && p <= 122 || o === formats$2.RFC1738 && (40 === p || 41 === p) ? l[l.length] = c.charAt(u) : p < 128 ? l[l.length] = hexTable[p] : p < 2048 ? l[l.length] = hexTable[192 | p >> 6] + hexTable[128 | 63 & p] : p < 55296 || p >= 57344 ? l[l.length] = hexTable[224 | p >> 12] + hexTable[128 | p >> 6 & 63] + hexTable[128 | 63 & p] : (u += 1,
            p = 65536 + ((1023 & p) << 10 | 1023 & c.charCodeAt(u)),
            l[l.length] = hexTable[240 | p >> 18] + hexTable[128 | p >> 12 & 63] + hexTable[128 | p >> 6 & 63] + hexTable[128 | 63 & p])
        }
        a += l.join("")
    }
    return a
}
  , compact = function(e) {
    for (var t = [{
        obj: {
            o: e
        },
        prop: "o"
    }], n = [], r = 0; r < t.length; ++r)
        for (var o = t[r], i = o.obj[o.prop], a = Object.keys(i), s = 0; s < a.length; ++s) {
            var c = a[s]
              , l = i[c];
            "object" == typeof l && null !== l && -1 === n.indexOf(l) && (t.push({
                obj: i,
                prop: c
            }),
            n.push(l))
        }
    return compactQueue(t),
    e
}
  , isRegExp = function(e) {
    return "[object RegExp]" === Object.prototype.toString.call(e)
}
  , isBuffer = function(e) {
    return !(!e || "object" != typeof e) && !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
}
  , combine = function(e, t) {
    return [].concat(e, t)
}
  , maybeMap = function(e, t) {
    if (isArray$2(e)) {
        for (var n = [], r = 0; r < e.length; r += 1)
            n.push(t(e[r]));
        return n
    }
    return t(e)
}
  , utils$2 = {
    arrayToObject: arrayToObject,
    assign: assign,
    combine: combine,
    compact: compact,
    decode: decode,
    encode: encode,
    isBuffer: isBuffer,
    isRegExp: isRegExp,
    maybeMap: maybeMap,
    merge: merge
}
  , getSideChannel = sideChannel
  , utils$1 = utils$2
  , formats$1 = formats$3
  , has$1 = Object.prototype.hasOwnProperty
  , arrayPrefixGenerators = {
    brackets: function(e) {
        return e + "[]"
    },
    comma: "comma",
    indices: function(e, t) {
        return e + "[" + t + "]"
    },
    repeat: function(e) {
        return e
    }
}
  , isArray$1 = Array.isArray
  , push = Array.prototype.push
  , pushToArray = function(e, t) {
    push.apply(e, isArray$1(t) ? t : [t])
}
  , toISO = Date.prototype.toISOString
  , defaultFormat = formats$1.default
  , defaults$1 = {
    addQueryPrefix: !1,
    allowDots: !1,
    allowEmptyArrays: !1,
    arrayFormat: "indices",
    charset: "utf-8",
    charsetSentinel: !1,
    delimiter: "&",
    encode: !0,
    encodeDotInKeys: !1,
    encoder: utils$1.encode,
    encodeValuesOnly: !1,
    format: defaultFormat,
    formatter: formats$1.formatters[defaultFormat],
    indices: !1,
    serializeDate: function(e) {
        return toISO.call(e)
    },
    skipNulls: !1,
    strictNullHandling: !1
}
  , isNonNullishPrimitive = function(e) {
    return "string" == typeof e || "number" == typeof e || "boolean" == typeof e || "symbol" == typeof e || "bigint" == typeof e
}
  , sentinel = {}
  , stringify$1 = function e(t, n, r, o, i, a, s, c, l, u, p, d, f, h, g, m, y, v) {
    for (var b = t, _ = v, S = 0, w = !1; void 0 !== (_ = _.get(sentinel)) && !w; ) {
        var $ = _.get(t);
        if (S += 1,
        void 0 !== $) {
            if ($ === S)
                throw new RangeError("Cyclic object value");
            w = !0
        }
        void 0 === _.get(sentinel) && (S = 0)
    }
    if ("function" == typeof u ? b = u(n, b) : b instanceof Date ? b = f(b) : "comma" === r && isArray$1(b) && (b = utils$1.maybeMap(b, (function(e) {
        return e instanceof Date ? f(e) : e
    }
    ))),
    null === b) {
        if (a)
            return l && !m ? l(n, defaults$1.encoder, y, "key", h) : n;
        b = ""
    }
    if (isNonNullishPrimitive(b) || utils$1.isBuffer(b))
        return l ? [g(m ? n : l(n, defaults$1.encoder, y, "key", h)) + "=" + g(l(b, defaults$1.encoder, y, "value", h))] : [g(n) + "=" + g(String(b))];
    var k, E = [];
    if (void 0 === b)
        return E;
    if ("comma" === r && isArray$1(b))
        m && l && (b = utils$1.maybeMap(b, l)),
        k = [{
            value: b.length > 0 ? b.join(",") || null : void 0
        }];
    else if (isArray$1(u))
        k = u;
    else {
        var T = Object.keys(b);
        k = p ? T.sort(p) : T
    }
    var O = c ? n.replace(/\./g, "%2E") : n
      , P = o && isArray$1(b) && 1 === b.length ? O + "[]" : O;
    if (i && isArray$1(b) && 0 === b.length)
        return P + "[]";
    for (var x = 0; x < k.length; ++x) {
        var C = k[x]
          , I = "object" == typeof C && void 0 !== C.value ? C.value : b[C];
        if (!s || null !== I) {
            var A = d && c ? C.replace(/\./g, "%2E") : C
              , L = isArray$1(b) ? "function" == typeof r ? r(P, A) : P : P + (d ? "." + A : "[" + A + "]");
            v.set(t, S);
            var R = getSideChannel();
            R.set(sentinel, v),
            pushToArray(E, e(I, L, r, o, i, a, s, c, "comma" === r && m && isArray$1(b) ? null : l, u, p, d, f, h, g, m, y, R))
        }
    }
    return E
}
  , normalizeStringifyOptions = function(e) {
    if (!e)
        return defaults$1;
    if (void 0 !== e.allowEmptyArrays && "boolean" != typeof e.allowEmptyArrays)
        throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
    if (void 0 !== e.encodeDotInKeys && "boolean" != typeof e.encodeDotInKeys)
        throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");
    if (null !== e.encoder && void 0 !== e.encoder && "function" != typeof e.encoder)
        throw new TypeError("Encoder has to be a function.");
    var t = e.charset || defaults$1.charset;
    if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset)
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
    var n = formats$1.default;
    if (void 0 !== e.format) {
        if (!has$1.call(formats$1.formatters, e.format))
            throw new TypeError("Unknown format option provided.");
        n = e.format
    }
    var r, o = formats$1.formatters[n], i = defaults$1.filter;
    if (("function" == typeof e.filter || isArray$1(e.filter)) && (i = e.filter),
    r = e.arrayFormat in arrayPrefixGenerators ? e.arrayFormat : "indices"in e ? e.indices ? "indices" : "repeat" : defaults$1.arrayFormat,
    "commaRoundTrip"in e && "boolean" != typeof e.commaRoundTrip)
        throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
    var a = void 0 === e.allowDots ? !0 === e.encodeDotInKeys || defaults$1.allowDots : !!e.allowDots;
    return {
        addQueryPrefix: "boolean" == typeof e.addQueryPrefix ? e.addQueryPrefix : defaults$1.addQueryPrefix,
        allowDots: a,
        allowEmptyArrays: "boolean" == typeof e.allowEmptyArrays ? !!e.allowEmptyArrays : defaults$1.allowEmptyArrays,
        arrayFormat: r,
        charset: t,
        charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : defaults$1.charsetSentinel,
        commaRoundTrip: e.commaRoundTrip,
        delimiter: void 0 === e.delimiter ? defaults$1.delimiter : e.delimiter,
        encode: "boolean" == typeof e.encode ? e.encode : defaults$1.encode,
        encodeDotInKeys: "boolean" == typeof e.encodeDotInKeys ? e.encodeDotInKeys : defaults$1.encodeDotInKeys,
        encoder: "function" == typeof e.encoder ? e.encoder : defaults$1.encoder,
        encodeValuesOnly: "boolean" == typeof e.encodeValuesOnly ? e.encodeValuesOnly : defaults$1.encodeValuesOnly,
        filter: i,
        format: n,
        formatter: o,
        serializeDate: "function" == typeof e.serializeDate ? e.serializeDate : defaults$1.serializeDate,
        skipNulls: "boolean" == typeof e.skipNulls ? e.skipNulls : defaults$1.skipNulls,
        sort: "function" == typeof e.sort ? e.sort : null,
        strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : defaults$1.strictNullHandling
    }
}
  , stringify_1 = function(e, t) {
    var n, r = e, o = normalizeStringifyOptions(t);
    "function" == typeof o.filter ? r = (0,
    o.filter)("", r) : isArray$1(o.filter) && (n = o.filter);
    var i = [];
    if ("object" != typeof r || null === r)
        return "";
    var a = arrayPrefixGenerators[o.arrayFormat]
      , s = "comma" === a && o.commaRoundTrip;
    n || (n = Object.keys(r)),
    o.sort && n.sort(o.sort);
    for (var c = getSideChannel(), l = 0; l < n.length; ++l) {
        var u = n[l];
        o.skipNulls && null === r[u] || pushToArray(i, stringify$1(r[u], u, a, s, o.allowEmptyArrays, o.strictNullHandling, o.skipNulls, o.encodeDotInKeys, o.encode ? o.encoder : null, o.filter, o.sort, o.allowDots, o.serializeDate, o.format, o.formatter, o.encodeValuesOnly, o.charset, c))
    }
    var p = i.join(o.delimiter)
      , d = !0 === o.addQueryPrefix ? "?" : "";
    return o.charsetSentinel && ("iso-8859-1" === o.charset ? d += "utf8=%26%2310003%3B&" : d += "utf8=%E2%9C%93&"),
    p.length > 0 ? d + p : ""
}
  , utils = utils$2
  , has = Object.prototype.hasOwnProperty
  , isArray = Array.isArray
  , defaults = {
    allowDots: !1,
    allowEmptyArrays: !1,
    allowPrototypes: !1,
    allowSparse: !1,
    arrayLimit: 20,
    charset: "utf-8",
    charsetSentinel: !1,
    comma: !1,
    decodeDotInKeys: !1,
    decoder: utils.decode,
    delimiter: "&",
    depth: 5,
    duplicates: "combine",
    ignoreQueryPrefix: !1,
    interpretNumericEntities: !1,
    parameterLimit: 1e3,
    parseArrays: !0,
    plainObjects: !1,
    strictNullHandling: !1
}
  , interpretNumericEntities = function(e) {
    return e.replace(/&#(\d+);/g, (function(e, t) {
        return String.fromCharCode(parseInt(t, 10))
    }
    ))
}
  , parseArrayValue = function(e, t) {
    return e && "string" == typeof e && t.comma && e.indexOf(",") > -1 ? e.split(",") : e
}
  , isoSentinel = "utf8=%26%2310003%3B"
  , charsetSentinel = "utf8=%E2%9C%93"
  , parseValues = function(e, t) {
    var n, r = {
        __proto__: null
    }, o = t.ignoreQueryPrefix ? e.replace(/^\?/, "") : e, i = t.parameterLimit === 1 / 0 ? void 0 : t.parameterLimit, a = o.split(t.delimiter, i), s = -1, c = t.charset;
    if (t.charsetSentinel)
        for (n = 0; n < a.length; ++n)
            0 === a[n].indexOf("utf8=") && (a[n] === charsetSentinel ? c = "utf-8" : a[n] === isoSentinel && (c = "iso-8859-1"),
            s = n,
            n = a.length);
    for (n = 0; n < a.length; ++n)
        if (n !== s) {
            var l, u, p = a[n], d = p.indexOf("]="), f = -1 === d ? p.indexOf("=") : d + 1;
            -1 === f ? (l = t.decoder(p, defaults.decoder, c, "key"),
            u = t.strictNullHandling ? null : "") : (l = t.decoder(p.slice(0, f), defaults.decoder, c, "key"),
            u = utils.maybeMap(parseArrayValue(p.slice(f + 1), t), (function(e) {
                return t.decoder(e, defaults.decoder, c, "value")
            }
            ))),
            u && t.interpretNumericEntities && "iso-8859-1" === c && (u = interpretNumericEntities(u)),
            p.indexOf("[]=") > -1 && (u = isArray(u) ? [u] : u);
            var h = has.call(r, l);
            h && "combine" === t.duplicates ? r[l] = utils.combine(r[l], u) : h && "last" !== t.duplicates || (r[l] = u)
        }
    return r
}
  , parseObject = function(e, t, n, r) {
    for (var o = r ? t : parseArrayValue(t, n), i = e.length - 1; i >= 0; --i) {
        var a, s = e[i];
        if ("[]" === s && n.parseArrays)
            a = n.allowEmptyArrays && "" === o ? [] : [].concat(o);
        else {
            a = n.plainObjects ? Object.create(null) : {};
            var c = "[" === s.charAt(0) && "]" === s.charAt(s.length - 1) ? s.slice(1, -1) : s
              , l = n.decodeDotInKeys ? c.replace(/%2E/g, ".") : c
              , u = parseInt(l, 10);
            n.parseArrays || "" !== l ? !isNaN(u) && s !== l && String(u) === l && u >= 0 && n.parseArrays && u <= n.arrayLimit ? (a = [])[u] = o : "__proto__" !== l && (a[l] = o) : a = {
                0: o
            }
        }
        o = a
    }
    return o
}
  , parseKeys = function(e, t, n, r) {
    if (e) {
        var o = n.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e
          , i = /(\[[^[\]]*])/g
          , a = n.depth > 0 && /(\[[^[\]]*])/.exec(o)
          , s = a ? o.slice(0, a.index) : o
          , c = [];
        if (s) {
            if (!n.plainObjects && has.call(Object.prototype, s) && !n.allowPrototypes)
                return;
            c.push(s)
        }
        for (var l = 0; n.depth > 0 && null !== (a = i.exec(o)) && l < n.depth; ) {
            if (l += 1,
            !n.plainObjects && has.call(Object.prototype, a[1].slice(1, -1)) && !n.allowPrototypes)
                return;
            c.push(a[1])
        }
        return a && c.push("[" + o.slice(a.index) + "]"),
        parseObject(c, t, n, r)
    }
}
  , normalizeParseOptions = function(e) {
    if (!e)
        return defaults;
    if (void 0 !== e.allowEmptyArrays && "boolean" != typeof e.allowEmptyArrays)
        throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
    if (void 0 !== e.decodeDotInKeys && "boolean" != typeof e.decodeDotInKeys)
        throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");
    if (null !== e.decoder && void 0 !== e.decoder && "function" != typeof e.decoder)
        throw new TypeError("Decoder has to be a function.");
    if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset)
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
    var t = void 0 === e.charset ? defaults.charset : e.charset
      , n = void 0 === e.duplicates ? defaults.duplicates : e.duplicates;
    if ("combine" !== n && "first" !== n && "last" !== n)
        throw new TypeError("The duplicates option must be either combine, first, or last");
    return {
        allowDots: void 0 === e.allowDots ? !0 === e.decodeDotInKeys || defaults.allowDots : !!e.allowDots,
        allowEmptyArrays: "boolean" == typeof e.allowEmptyArrays ? !!e.allowEmptyArrays : defaults.allowEmptyArrays,
        allowPrototypes: "boolean" == typeof e.allowPrototypes ? e.allowPrototypes : defaults.allowPrototypes,
        allowSparse: "boolean" == typeof e.allowSparse ? e.allowSparse : defaults.allowSparse,
        arrayLimit: "number" == typeof e.arrayLimit ? e.arrayLimit : defaults.arrayLimit,
        charset: t,
        charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : defaults.charsetSentinel,
        comma: "boolean" == typeof e.comma ? e.comma : defaults.comma,
        decodeDotInKeys: "boolean" == typeof e.decodeDotInKeys ? e.decodeDotInKeys : defaults.decodeDotInKeys,
        decoder: "function" == typeof e.decoder ? e.decoder : defaults.decoder,
        delimiter: "string" == typeof e.delimiter || utils.isRegExp(e.delimiter) ? e.delimiter : defaults.delimiter,
        depth: "number" == typeof e.depth || !1 === e.depth ? +e.depth : defaults.depth,
        duplicates: n,
        ignoreQueryPrefix: !0 === e.ignoreQueryPrefix,
        interpretNumericEntities: "boolean" == typeof e.interpretNumericEntities ? e.interpretNumericEntities : defaults.interpretNumericEntities,
        parameterLimit: "number" == typeof e.parameterLimit ? e.parameterLimit : defaults.parameterLimit,
        parseArrays: !1 !== e.parseArrays,
        plainObjects: "boolean" == typeof e.plainObjects ? e.plainObjects : defaults.plainObjects,
        strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : defaults.strictNullHandling
    }
}
  , parse$1 = function(e, t) {
    var n = normalizeParseOptions(t);
    if ("" === e || null == e)
        return n.plainObjects ? Object.create(null) : {};
    for (var r = "string" == typeof e ? parseValues(e, n) : e, o = n.plainObjects ? Object.create(null) : {}, i = Object.keys(r), a = 0; a < i.length; ++a) {
        var s = i[a]
          , c = parseKeys(s, r[s], n, "string" == typeof e);
        o = utils.merge(o, c, n)
    }
    return !0 === n.allowSparse ? o : utils.compact(o)
}
  , stringify = stringify_1
  , parse = parse$1
  , formats = formats$3
  , lib = {
    formats: formats,
    parse: parse,
    stringify: stringify
};
const qs = getDefaultExportFromCjs$1(lib);
var Jose = function(e) {
    var t = {};
    function n(r) {
        var o;
        return (t[r] || (o = t[r] = {
            i: r,
            l: !1,
            exports: {}
        },
        e[r].call(o.exports, o, o.exports, n),
        o.l = !0,
        o)).exports
    }
    return n.m = e,
    n.c = t,
    n.d = function(e, t, r) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
        })
    }
    ,
    n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(e, t) {
        if (1 & t && (e = n(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var r = Object.create(null);
        if (n.r(r),
        Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
        }),
        2 & t && "string" != typeof e)
            for (var o in e)
                n.d(r, o, function(t) {
                    return e[t]
                }
                .bind(null, o));
        return r
    }
    ,
    n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return n.d(t, "a", t),
        t
    }
    ,
    n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    n.p = "",
    n(n.s = 4)
}([function(e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    (function() {
        var e = Object.create
          , r = [];
        t.prototypeOf = function(e) {
            return null == e ? null : e.__proto__
        }
        ,
        t.create = e,
        t.hasProp = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t) || "object" === n(e[t]) && void 0 !== e[t]
        }
        ,
        t.isArray = function() {
            if ("function" != typeof Array.isArray)
                return obj instanceof Array
        }
        ,
        t.defProp = function(e, t, n) {
            return Object.defineProperty(e, t, n)
        }
        ,
        t.checkIdentifier = function(e) {
            return r.includes(e)
        }
        ,
        t.isNaNP = function(e) {
            return e != e
        }
    }
    ).call(this)
}
, function(e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    var r = function() {
        return this
    }();
    try {
        r = r || new Function("return this")()
    } catch (o) {
        "object" === ("undefined" == typeof window ? "undefined" : n(window)) && (r = window)
    }
    e.exports = r
}
, function(e, t, n) {
    (function() {
        var e = n(7).VmError
          , r = {}.hasOwnProperty
          , o = (function(e, t) {
            for (var n in t)
                r.call(t, n) && (e[n] = t[n]);
            function o() {
                this.constructor = e
            }
            o.prototype = t.prototype,
            e.prototype = new o,
            e.__super__ = t.prototype
        }(i, e),
        i.display = "StopIteration",
        i);
        function i(e, t) {
            this.value = e,
            this.message = null != t ? t : "iterator has stopped"
        }
        function a(e) {
            this.elements = e,
            this.index = 0
        }
        a.prototype.next = function() {
            if (this.index >= this.elements.length)
                throw new o("array over");
            return this.elements[this.index++]
        }
        ,
        e = a,
        t.StopIteration = o,
        t.ArrayIterator = e
    }
    ).call(this)
}
, function(e, t, n) {
    function r(e) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    (function() {
        var e = {}.hasOwnProperty
          , o = n(0).isArray
          , i = (a.prototype.run = function() {
            for (var e = this.callStack[this.depth], t = e.error; 0 <= this.depth && e && !this.paused; )
                if ((e = t ? this.unwind(t) : e).run(),
                (t = e.error)instanceof Error && this.injectStackTrace(t),
                e.done()) {
                    if (e.guards.length) {
                        var n = e.guards.pop();
                        if (n.finalizer) {
                            e.ip = n.finalizer,
                            e.exitIp = n.end,
                            e.paused = !1;
                            continue
                        }
                    }
                    e.construct && "object" !== (n = r(this.rv)) && "function" !== n && (this.rv = e.scope.get(0)),
                    (e = this.popFrame()) && !t && (e.evalStack.push(this.rv),
                    this.rv = void 0)
                } else
                    t = (e = this.callStack[this.depth]).error;
            if (this.timedOut() && (t = new Error(this),
            this.injectStackTrace(t)),
            t)
                throw t
        }
        ,
        a.prototype.unwind = function(e) {
            for (var t = this.callStack[this.depth]; t; ) {
                t.error = e;
                var n = t.ip - 1
                  , r = t.guards.length;
                if (r && (r = t.guards[r - 1]).start <= n && n <= r.end) {
                    if (null !== r.handler)
                        if (n <= r.handler)
                            t.evalStack.push(e),
                            t.error = null,
                            t.ip = r.handler;
                        else {
                            if (!(r.finalizer && t.ip <= r.finalizer)) {
                                t = this.popFrame();
                                continue
                            }
                            t.ip = r.finalizer
                        }
                    else
                        t.ip = r.finalizer;
                    return t.paused = !1,
                    t
                }
                t = this.popFrame()
            }
            throw e
        }
        ,
        a.prototype.injectStackTrace = function(e) {
            var t, n, r, i, a, s, c, l = [], u = 0;
            for (this.depth > this.maxTraceDepth && (u = this.depth - this.maxTraceDepth),
            n = r = a = this.depth,
            s = u; a <= s ? r <= s : s <= r; n = a <= s ? ++r : --r)
                "<anonymous>" === (i = (t = this.callStack[n]).script.name) && t.fname && (i = t.fname),
                l.push({
                    at: {
                        name: i,
                        filename: t.script.filename
                    },
                    line: t.line,
                    column: t.column
                });
            if (e.trace) {
                for (c = e.trace; o(c[c.length - 1]); )
                    c = c[c.length - 1];
                c.push(l)
            } else
                e.trace = l;
            return e.stack = e.toString()
        }
        ,
        a.prototype.pushFrame = function(e, t, n, r, o, i, a) {
            if (null == i && (i = "<anonymous>"),
            null == a && (a = !1),
            this.checkCallStack())
                return (n = new p(n,e.localNames,e.localLength)).set(0, t),
                t = new s(this,e,n,this.realm,i,a),
                o && t.evalStack.push(o),
                r && t.evalStack.push(r),
                this.callStack[++this.depth] = t
        }
        ,
        a.prototype.checkCallStack = function() {
            return this.depth !== this.maxDepth || (this.callStack[this.depth].error = new Error("maximum call stack size exceeded"),
            this.pause(),
            !1)
        }
        ,
        a.prototype.popFrame = function() {
            var e = this.callStack[--this.depth];
            return e && (e.paused = !1),
            e
        }
        ,
        a.prototype.pause = function() {
            return this.paused = this.callStack[this.depth].paused = !0
        }
        ,
        a.prototype.resume = function(e) {
            if (this.timeout = null != e ? e : -1,
            this.paused = !1,
            this.callStack[this.depth].paused = !1,
            this.run(),
            !this.paused)
                return this.rexp
        }
        ,
        a.prototype.timedOut = function() {
            return 0 === this.timeout
        }
        ,
        a.prototype.send = function(e) {
            return this.callStack[this.depth].evalStack.push(e)
        }
        ,
        a.prototype.done = function() {
            return -1 === this.depth
        }
        ,
        a);
        function a(e, t) {
            this.realm = e,
            this.timeout = null != t ? t : -1,
            this.maxDepth = 1e3,
            this.maxTraceDepth = 50,
            this.callStack = [],
            this.evalStack = null,
            this.depth = -1,
            this.yielded = this.rv = void 0,
            this.paused = !1,
            this.r1 = this.r2 = this.r3 = null,
            this.rexp = null
        }
        c.prototype.run = function() {
            for (var e = this.script.instructions; this.ip !== this.exitIp && !this.paused; )
                e[this.ip++].exec(this, this.evalStack, this.scope, this.realm);
            var t = this.evalStack.len();
            if (!this.paused && !this.error && 0 !== t)
                throw new Error("Evaluation stack has " + t + " items after execution")
        }
        ,
        c.prototype.done = function() {
            return this.ip === this.exitIp
        }
        ,
        c.prototype.setLine = function(e) {
            this.line = e
        }
        ,
        c.prototype.setColumn = function(e) {
            this.column = e
        }
        ;
        var s = c;
        function c(e, t, n, r, o, i) {
            this.fiber = e,
            this.script = t,
            this.scope = n,
            this.realm = r,
            this.fname = o,
            this.construct = null != i && i,
            this.evalStack = new l(this.script.stackSize,this.fiber),
            this.ip = 0,
            this.exitIp = this.script.instructions.length,
            this.paused = !1,
            this.finalizer = null,
            this.guards = [],
            this.rv = void 0,
            this.line = this.column = -1
        }
        u.prototype.push = function(e) {
            if (this.idx === this.array.length)
                throw new Error("maximum evaluation stack size exceeded");
            return this.array[this.idx++] = e
        }
        ,
        u.prototype.pop = function() {
            return this.array[--this.idx]
        }
        ,
        u.prototype.top = function() {
            return this.array[this.idx - 1]
        }
        ,
        u.prototype.len = function() {
            return this.idx
        }
        ,
        u.prototype.clear = function() {
            return this.idx = 0
        }
        ;
        var l = u;
        function u(e, t) {
            this.fiber = t,
            this.array = new Array(e),
            this.idx = 0
        }
        d.prototype.get = function(e) {
            return this.data[e]
        }
        ,
        d.prototype.set = function(e, t) {
            return this.data[e] = t
        }
        ,
        d.prototype.name = function(t) {
            var n, r = this.names;
            for (n in r)
                if (e.call(r, n) && r[n] === t)
                    return parseInt(n);
            return -1
        }
        ;
        var p = d;
        function d(e, t, n) {
            this.parent = e,
            this.names = t,
            this.data = new Array(n)
        }
        h.prototype.get = function(e) {
            return this.object[e]
        }
        ,
        h.prototype.set = function(e, t) {
            return this.object[e] = t
        }
        ,
        h.prototype.has = function(e) {
            return e in this.object
        }
        ;
        var f = h;
        function h(e, t) {
            this.parent = e,
            this.object = t
        }
        t.Fiber = i,
        t.Scope = p,
        t.WithScope = f
    }
    ).call(this)
}
, function(e, t, n) {
    (n = new (n(5))).eval('["<script>",0,[[22]8false,15,null17]anonymous[,4,3163152,14[30721[,"$encode"1[8getCatVersi76,2049753379577389,88791625994-6-439,56919,018-52916763404582,-3064843563"O2true[o,8bjectjmpOnw_ms"04D"w2KsGuard6"tDeviceInfo,Ob2sa_2hsubsh2b_xc_Si,_M"rdom70t"floor[0bx28EDpro1"tonJSONingify68mes"a7[l"vjcpiu_"lg"xtupR"rpEHUDR4B54un0$HE"keyxf_nautnnipureprvsrlg"t8Aa54[toS0"[53"I""1wxNYwyaAEhW5J.0.2]'),
    e.exports = window.xuxu = n
}
, function(e, t, n) {
    (function(t) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        (function(o) {
            var i = n(6)
              , a = n(8)
              , s = n(3).Fiber
              , c = n(11)
              , l = n(13)
              , u = n(14);
            function p(e) {
                this.realm = new i(e),
                this.realm.global.startupRandom = (new Date).getTime(),
                this.realm.global.count = 100,
                (new l).register(),
                (new u).register(),
                "object" !== ("undefined" == typeof window ? "undefined" : r(window)) && "object" !== (void 0 === t ? "undefined" : r(t)) || (e = n(15),
                this.realm.global.KsGuard = new e.default)
            }
            p.prototype.eval = function(e, t) {
                e = (new c).unzip(e),
                this.run(p.fromJSON(JSON.parse(e)), t),
                this.realm.global.startupEnd = (new Date).getTime()
            }
            ,
            p.prototype.run = function(e, t) {
                if ((e = this.createFiber(e, t)).run(),
                !e.paused)
                    return e.rexp
            }
            ,
            p.prototype.call = function(e, n) {
                var r = window || t;
                if ("$encode" === e)
                    try {
                        throw new Error
                    } catch (i) {
                        var o = i.stack.length;
                        r && (r.SECS = {
                            s: 100 < o ? i.stack.substr(o - 100, 100) : i.stack,
                            c: this.realm.global.count
                        })
                    }
                return this.realm.global[e].apply(this, n)
            }
            ,
            p.prototype.createFiber = function(e, t) {
                return (t = new s(this.realm,t)).pushFrame(e, this.realm.global),
                t
            }
            ,
            p.fromJSON = a.fromJSON,
            e.exports = p
        }
        ).call(this)
    }
    ).call(this, n(1))
}
, function(e, t, n) {
    (function(t) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        (function() {
            var o, i = {}.hasOwnProperty, a = (o = n(0)).prototypeOf, s = o.hasProp, c = (o = n(2)).ArrayIterator, l = o.StopIteration;
            function u(e) {
                var n, o, u = {
                    isBrowser: "undefined" == typeof window,
                    window: "undefined" == typeof window ? t : window,
                    localStorage: "object" === ("undefined" == typeof localStorage ? "undefined" : r(localStorage)) ? localStorage : {},
                    sessionStorage: "object" === ("undefined" == typeof sessionStorage ? "undefined" : r(sessionStorage)) ? sessionStorage : {},
                    document: "object" === ("undefined" == typeof document ? "undefined" : r(document)) ? document : {},
                    undefined: void 0,
                    Object: Object,
                    Function: Function,
                    Number: Number,
                    Boolean: Boolean,
                    String: String,
                    Array: Array,
                    Int8Array: Int8Array,
                    Int32Array: Int32Array,
                    Uint8Array: Uint8Array,
                    Date: Date,
                    RegExp: RegExp,
                    Error: Error,
                    StopIteration: l,
                    Math: Math,
                    JSON: JSON,
                    encodeURIComponent: encodeURIComponent,
                    unescape: unescape,
                    escape: escape,
                    decodeURIComponent: decodeURIComponent,
                    isNaN: isNaN,
                    Infinity: 1 / 0,
                    NaN: NaN,
                    parseInt: parseInt,
                    parseFloat: parseFloat,
                    isFinite: isFinite,
                    encodeURI: encodeURI,
                    decodeURI: decodeURI,
                    TypeError: TypeError,
                    URIError: URIError,
                    SyntaxError: SyntaxError,
                    ReferenceError: ReferenceError,
                    RangeError: RangeError,
                    EvalError: EvalError,
                    eval: eval,
                    console: console
                };
                for (n in this.has = function(e, t) {
                    return null != e && (!!s(e, t) || this.has(a(e), t))
                }
                ,
                this.get = function(e, t) {
                    return null == e ? void 0 : e[t]
                }
                ,
                this.set = function(e, t, n) {
                    var o = r(e);
                    return ("object" === o || "function" === o) && (e[t] = n),
                    n
                }
                ,
                this.del = function(e, t) {
                    var n = r(e);
                    return "object" !== n && "function" !== n || delete e[t]
                }
                ,
                this.instanceOf = function(e, t) {
                    var n;
                    return null != t && ("object" === (n = r(t)) || "function" === n) && t instanceof e
                }
                ,
                this.enumerateKeys = function(e) {
                    var t, n = [];
                    for (t in e)
                        "__mdid__" !== t && n.push(t);
                    return new c(n)
                }
                ,
                e)
                    i.call(e, n) && (o = e[n],
                    u[n] = o);
                this.global = u
            }
            u.prototype.inv = function(e) {
                return -e
            }
            ,
            u.prototype.lnot = function(e) {
                return !e
            }
            ,
            u.prototype.ladd = function(e) {
                return +e
            }
            ,
            u.prototype.not = function(e) {
                return ~e
            }
            ,
            u.prototype.inc = function(e) {
                return ++e
            }
            ,
            u.prototype.dec = function(e) {
                return e - 1
            }
            ,
            u.prototype.add = function(e, t) {
                return t + e
            }
            ,
            u.prototype.sub = function(e, t) {
                return t - e
            }
            ,
            u.prototype.mul = function(e, t) {
                return t * e
            }
            ,
            u.prototype.div = function(e, t) {
                return t / e
            }
            ,
            u.prototype.mod = function(e, t) {
                return t % e
            }
            ,
            u.prototype.shl = function(e, t) {
                return t << e
            }
            ,
            u.prototype.sar = function(e, t) {
                return t >> e
            }
            ,
            u.prototype.shr = function(e, t) {
                return t >>> e
            }
            ,
            u.prototype.or = function(e, t) {
                return t | e
            }
            ,
            u.prototype.and = function(e, t) {
                return t & e
            }
            ,
            u.prototype.xor = function(e, t) {
                return t ^ e
            }
            ,
            u.prototype.ceq = function(e, t) {
                return t == e
            }
            ,
            u.prototype.cneq = function(e, t) {
                return t != e
            }
            ,
            u.prototype.cid = function(e, t) {
                return t === e
            }
            ,
            u.prototype.cnid = function(e, t) {
                return t !== e
            }
            ,
            u.prototype.lt = function(e, t) {
                return t < e
            }
            ,
            u.prototype.lte = function(e, t) {
                return t <= e
            }
            ,
            u.prototype.gt = function(e, t) {
                return e < t
            }
            ,
            u.prototype.gte = function(e, t) {
                return e <= t
            }
            ,
            e.exports = u
        }
        ).call(this)
    }
    ).call(this, n(1))
}
, function(e, t, n) {
    var r = n(0).isArray
      , o = function e(t, n) {
        null == n && (n = ""),
        n += "    ";
        for (var o = "", i = 0; i < t.length; i++) {
            var a, s, c, l = t[i];
            r(l) ? o = (o += "\n\n" + n + "Rethrown:") + e(l, n) : (a = l.line,
            s = l.column,
            c = l.at.name,
            l = l.at.filename,
            o += c ? "\n" + n + "at " + c + " (" + l + ":" + a + ":" + s + ")" : "\n" + n + "at " + l + ":" + a + ":" + s)
        }
        return o
    };
    function i(e) {
        this.trace = null,
        this.message = e
    }
    i.prototype.toString = function() {
        var e = this.constructor.display + ": " + this.message;
        return this.trace && (e += o(this.trace)),
        e
    }
    ,
    i.prototype.stackTrace = function() {
        return this.toString()
    }
    ,
    t.VmError = i
}
, function(e, t, n) {
    (function() {
        var t = n(9)
          , r = function(e) {
            for (var n = [], r = 0; r < e.length; r++) {
                for (var o = e[r], i = t[o[0]], a = [], s = 1, c = 1, l = o.length; 1 <= l ? c < l : l < c; s = 1 <= l ? ++c : --c)
                    a.push(o[s]);
                i = new i(a.length ? a : null),
                n.push(i)
            }
            return n
        }
          , o = function(e) {
            var t = e.lastIndexOf("/")
              , n = e.slice(0, t);
            t = e.slice(t + 1);
            return new RegExp(n,t)
        }
          , i = (a.fromJSON = function e(t) {
            for (var n = r(t[2]), a = [], s = t[3], c = 0; c < s.length; c++) {
                var l = s[c];
                a.push(e(l))
            }
            for (var u = t[4], p = u.length, d = [], f = t[5], h = 0; h < f.length; h++) {
                var g = f[h];
                d.push({
                    start: -1 !== g[0] ? g[0] : null,
                    handler: -1 !== g[1] ? g[1] : null,
                    finalizer: -1 !== g[2] ? g[2] : null,
                    end: -1 !== g[3] ? g[3] : null
                })
            }
            for (var m = t[6], y = t[7], v = [], b = t[8], _ = 0; _ < b.length; _++) {
                var S = b[_];
                v.push(o(S))
            }
            return new i(null,null,n,a,u,p,d,m,y,v,null)
        }
        ,
        a);
        function a(e, t, n, r, o, i, a, s, c, l, u) {
            this.filename = e,
            this.name = t,
            this.instructions = n,
            this.scripts = r,
            this.localNames = o,
            this.localLength = i,
            this.guards = a,
            this.stackSize = s,
            this.strings = c,
            this.regexps = l,
            this.source = u
        }
        e.exports = i
    }
    ).call(this)
}
, function(module, exports, __webpack_require__) {
    function _typeof(e) {
        return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    (function() {
        var ref = __webpack_require__(2)
          , StopIteration = ref.StopIteration
          , ref1 = __webpack_require__(0);
        ref1.defProp;
        var hasProp = ref1.hasProp
          , ref3 = __webpack_require__(3)
          , Fiber = ref3.Fiber
          , Scope = ref3.Scope
          , WithScope = ref3.WithScope
          , OpcodeClassFactory = function() {
            var e = 0;
            return function(t, n, r) {
                var o;
                return (o = function(e) {
                    e && (this.args = e)
                }
                ).prototype.id = e++,
                o.prototype.exec = n,
                o.prototype.calculateFactor = r || function() {
                    return 2
                }
                ,
                o
            }
        }();
        __webpack_require__(10);
        var Op = function(e, t, n) {
            return OpcodeClassFactory(e, t, n)
        }
          , opcodes = [new Op("",(function(e, t, n) {
            return ret(e)
        }
        )), new Op("",(function(e, t, n) {
            return t.pop()
        }
        )), new Op("",(function(e, t, n) {
            return t.push(t.top())
        }
        )), new Op("",(function(e, t, n) {
            var r = t.pop()
              , o = t.pop();
            return t.push(r),
            t.push(o)
        }
        )), new Op("",(function(e, t, n) {
            return e.fiber.rv = t.pop(),
            ret(e)
        }
        )), new Op("",(function(e, t) {
            return e.paused = !0
        }
        )), new Op("",(function(e, t) {
            return e.fiber.yielded = t.pop(),
            e.fiber.pause()
        }
        )), new Op("",(function(e, t, n) {
            return throwErr(e, t.pop())
        }
        )), new Op("",(function(e) {
            return e.guards.push(e.script.guards[this.args[0]])
        }
        )), new Op("",(function(e) {
            var t = e.guards[e.guards.length - 1];
            if (e.script.guards[this.args[0]] === t)
                return e.guards.pop()
        }
        )), new Op("",(function(e, t, n) {
            return e.fiber.r1 = t.pop()
        }
        )), new Op("",(function(e, t, n) {
            return e.fiber.r2 = t.pop()
        }
        )), new Op("",(function(e, t, n) {
            return e.fiber.r3 = t.pop()
        }
        )), new Op("",(function(e, t, n) {
            return t.push(e.fiber.r1)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(e.fiber.r2)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(e.fiber.r3)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(+e.fiber.r3)
        }
        )), new Op("",(function(e, t, n) {
            return t.fiber.rexp = t.pop()
        }
        )), new Op("",(function(e, t, n) {
            return callm(e, 0, "iterator", t.pop())
        }
        )), new Op("",(function(e, t, n, r) {
            return t.push(r.enumerateKeys(t.pop()))
        }
        )), new Op("",(function(e, t, n) {
            if (callm(e, 0, "next", t.pop()),
            e.error instanceof StopIteration)
                return e.error = null,
                e.paused = !1,
                e.ip = this.args[0]
        }
        )), new Op("",(function(e, t, n) {
            if (n.set(1, t.pop()),
            t = t.pop(),
            this.args[0])
                return n.set(2, t)
        }
        )), new Op("",(function(e, t, n, r) {
            return t.push(r.global)
        }
        )), new Op("",(function(e, t, n, r) {
            var o = this.args[0]
              , i = this.args[1]
              , a = n.get(1);
            if (o < a.length)
                return n.set(i, Array.prototype.slice.call(a, o))
        }
        )), new Op("",(function(e, t, n) {
            return call(e, this.args[0], t.pop(), null, null, !0)
        }
        )), new Op("",(function(e, t, n) {
            return call(e, this.args[0], t.pop(), null, this.args[1])
        }
        )), new Op("",(function(e, t, n) {
            return callm(e, this.args[0], t.pop(), t.pop(), this.args[1])
        }
        )), new Op("",(function(e, t, n, r) {
            var o = t.pop()
              , i = t.pop();
            return null == o ? throwErr(e, new TypeError("Cannot read property '" + i + "' of " + o)) : "function" == typeof o && "length" === i && void 0 !== o.originFnLength ? t.push(r.get(o, "originFnLength")) : t.push(r.get(o, i))
        }
        )), new Op("",(function(e, t, n, r) {
            var o = t.pop()
              , i = t.pop()
              , a = t.pop();
            return null == o ? throwErr(e, new TypeError("Cannot set property '" + i + "' of " + o)) : Object.isExtensible(o) || "__proto__" !== i ? t.push(r.set(o, i, a)) : throwErr(e, new Error("#<Object> is not extensible at set __proto__[as __proto__]"))
        }
        )), new Op("",(function(e, t, n, r) {
            var o = t.pop()
              , i = t.pop();
            return null == o ? throwErr(e, new Error("Cannot convert null to object")) : t.push(r.del(o, i))
        }
        )), new Op("",(function(e, t, n) {
            try {
                for (var r = this.args[0], o = this.args[1], i = n; r--; )
                    i = i.parent;
                return t.push(i.get(o))
            } catch (a) {
                return throwErr(e, a)
            }
        }
        )), new Op("",(function(e, t, n) {
            for (var r = this.args[0], o = this.args[1], i = n; r--; )
                i = i.parent;
            return t.push(i.set(o, t.pop()))
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                for (var o, i = this.args[0]; n instanceof WithScope; ) {
                    if (n.has(i))
                        return t.push(n.get(i));
                    n = n.parent
                }
                for (; n instanceof Scope; ) {
                    if (0 <= (o = n.name(i)))
                        return t.push(n.get(o));
                    n = n.parent
                }
                return hasProp(r.global, i) || this.args[1] ? t.push(r.global[i]) : throwErr(e, new Error(i + " is not defined"))
            } catch (a) {
                return throwErr(e, a)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                for (var o, i = this.args[0], a = t.pop(); n instanceof WithScope; ) {
                    if (n.has(i))
                        return t.push(n.set(i, a));
                    n = n.parent
                }
                for (; n instanceof Scope; ) {
                    if (0 <= (o = n.name(i)))
                        return t.push(n.set(o, a));
                    n = n.parent
                }
                return t.push(r.global[i] = a)
            } catch (s) {
                return throwErr(e, s)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            return hasProp(r.global, this.args[0]) || this.args[1] ? t.push(r.global[this.args[0]]) : "this" === this.args[0] ? t.push(r.global) : throwErr(e, new Error(this.args[0] + " is not defined"))
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.global[this.args[0]] = t.pop())
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e) {
            return e.scope = new Scope(e.scope,e.script.localNames,e.script.localLength)
        }
        )), new Op("",(function(e) {
            return e.scope = e.scope.parent
        }
        )), new Op("",(function(e, t) {
            return e.scope = new WithScope(e.scope,t.pop())
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.inv(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.lnot(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.ladd(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.not(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.inc(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.dec(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.add(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.sub(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.mul(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.div(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.mod(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.shl(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.sar(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.shr(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.or(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.and(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.xor(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.ceq(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.cneq(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.cid(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.cnid(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.lt(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.lte(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.gt(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.gte(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.has(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(r.instanceOf(t.pop(), t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t, n, r) {
            try {
                return t.push(_typeof(t.pop()))
            } catch (o) {
                return throwErr(e, o)
            }
        }
        )), new Op("",(function(e, t) {
            return t.pop(),
            t.push(void 0)
        }
        )), new Op("",(function(e, t, n) {
            return e.ip = this.args[0]
        }
        )), new Op("",(function(e, t, n) {
            if (t.pop())
                return e.ip = this.args[0]
        }
        )), new Op("",(function(e, t, n) {
            if (!t.pop())
                return e.ip = this.args[0]
        }
        )), new Op("",(function(e, t) {
            return t.push(void 0)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(this.args[0])
        }
        )), new Op("",(function(e, t, n) {
            return t.push(this.args[0] ? 1 / 0 : -1 / 0)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(NaN)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(-0)
        }
        )), new Op("",(function(e, t, n) {
            return t.push(e.script.strings[this.args[0]])
        }
        )), new Op("",(function(e, t, n, r) {
            return t.push(e.script.regexps[this.args[0]], r)
        }
        )), new Op("",(function(e, t, n, r) {
            for (var o = this.args[0], i = {}; o--; ) {
                var a = t.pop()
                  , s = t.pop();
                i.hasOwnProperty(a) || r.set(i, a, s)
            }
            return t.push(i)
        }
        )), new Op("",(function(e, t, n, r) {
            for (var o = this.args[0], i = new Array(o); o--; )
                i[o] = t.pop();
            return t.push(i)
        }
        )), new Op("",(function(e, t, n, r) {
            var o = this.args[0];
            return t.push(createFunction(e.script.scripts[o], n, r, this.args[1]))
        }
        )), new Op("",(function(e) {
            return e.setLine(this.args[0])
        }
        )), new Op("",(function(e) {
            return e.setColumn(this.args[0])
        }
        )), new Op("",(function(e, t, n) {
            return debug()
        }
        ))]
          , callm = function(e, t, n, r, o) {
            var i, a = e.evalStack, s = e.realm;
            return null == r ? throwErr(e, new Error("Cannot call method '" + n + "' of " + (void 0 === r ? "undefined" : "null"))) : (i = r.constructor.name || "Object",
            (s = s.get(r, n))instanceof Function ? call(e, t, s, r) : null == s ? (a.pop(),
            throwErr(e, new Error("Object #<" + i + "> has no method '" + n + "'"))) : (a.pop(),
            throwErr(e, new Error("Property '" + n + "' of object #<" + i + "> is not a function"))))
        }
          , call = function(e, t, n, r, o, i) {
            if ("function" != typeof n)
                return throwErr(e, new Error("object is not a function"));
            for (var a = e.evalStack, s = e.fiber, c = e.realm, l = {
                length: t,
                callee: n
            }; t; )
                l[--t] = a.pop();
            r = void 0 === r ? c.global : r,
            l = Array.prototype.slice.call(l);
            try {
                var u = i ? createNativeInstance(n, l) : n.apply(r, l);
                // console.log(r,l,u)
                if (!s.paused)
                    return a.push(u)
            } catch (p) {
                throwErr(e, p)
            }
        }
          , createFunction = function(e, t, n, r, o) {
            var i;
            return (i = function r() {
                var o, i, a, s = !1;
                if ((i = r.__fiber__) ? (i.callStack[i.depth].paused = !0,
                r.__fiber__ = null,
                o = r.__construct__,
                r.__construct__ = null) : (i = new Fiber(n),
                s = !0),
                a = r.__callname__ || e.name,
                r.__callname__ = null,
                i.pushFrame(e, this, t, arguments, r, a, o),
                s)
                    return i.run(),
                    i.rv
            }
            ).originFnLength = o,
            i
        }
          , callArrayConstructor = function(e) {
            return 1 === e.length && (0 | e[0]) === e[0] ? new Array(e[0]) : e.slice()
        }
          , callRegExpConstructor = function(e) {
            return 1 === e.length ? new RegExp(e[0]) : new RegExp(e[0],e[1])
        }
          , createNativeInstance = function(e, t) {
            var n;
            return e === Array ? callArrayConstructor(t) : e === Date ? 0 === t.length ? new Date : new Date(t[0]) : e === RegExp ? callRegExpConstructor(t) : e === Number ? 0 === t.length ? new Number : new Number(t[0]) : e === Boolean ? 0 === t.length ? new Boolean : new Boolean(t[0]) : e === Uint8Array ? new Uint8Array(t[0]) : e === Int8Array ? new Int8Array(t[0]) : e === Int32Array ? new Int32Array(t[0]) : e === String ? new String(t[0] || "") : ((n = function() {
                return e.apply(this, t)
            }
            ).prototype = e.prototype,
            new n)
        }
          , ret = function(e) {
            return e.evalStack.clear(),
            e.exitIp = e.ip
        }
          , throwErr = function(e, t) {
            return e.error = t,
            e.paused = !0
        }
          , debug = function debug() {
            eval("debugger;")
        };
        module.exports = opcodes
    }
    ).call(this)
}
, function(e, t) {
    e.exports = function(e, t) {
        this.__proto__ = RegExp.prototype,
        Object.defineProperties(this, {
            global: {
                value: e.global
            },
            ignoreCase: {
                value: e.ignoreCase
            },
            multiline: {
                value: e.multiline
            },
            source: {
                value: e.source
            },
            hasIndices: {
                value: e.hasIndices
            },
            dotAll: {
                value: e.dotAll
            },
            flags: {
                value: e.flags
            },
            sticky: {
                value: e.sticky
            },
            unicode: {
                value: e.unicode
            }
        })
    }
}
, function(e, t, n) {
    var r, o;
    o = n(12),
    (r = function() {}
    ).prototype.zip = function(e) {
        return o.encode(e)
    }
    ,
    r.prototype.unzip = function(e) {
        return o.decode(e)
    }
    ,
    e.exports = r
}
, function(e, t) {
    function n(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++)
            r[n] = e[n];
        return r
    }
    e.exports.encode = function(e) {
        try {
            var t, n = {}, r = [], o = e[0], i = 57344;
            e = (e + "").split("");
            for (var a = 1; a < e.length; a++)
                null != n[o + (t = e[a])] && o + t !== "toString" ? o += t : (r.push(1 < o.length ? n[o] : o.codePointAt(0)),
                n[o + t] = i,
                i++,
                o = t);
            return r.push(1 < o.length ? n[o] : o.codePointAt(0)),
            r.map((function(e) {
                return String.fromCodePoint(e)
            }
            )).join("")
        } catch (s) {
            throw new Error(s)
        }
    }
    ,
    e.exports.decode = function(e) {
        try {
            for (var t = function(e) {
                return function(e) {
                    if (Array.isArray(e))
                        return n(e)
                }(e) || function(e) {
                    if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                        return Array.from(e)
                }(e) || function(e, t) {
                    var r;
                    if (e)
                        return "string" == typeof e ? n(e, t) : "Map" === (r = "Object" === (r = Object.prototype.toString.call(e).slice(8, -1)) && e.constructor ? e.constructor.name : r) || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? n(e, t) : void 0
                }(e) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }(e).map((function(e) {
                return e.codePointAt(0)
            }
            )), r = {}, o = String.fromCodePoint(t[0]), i = o, a = [o], s = 57344, c = 1; c < t.length; c++) {
                var l, u = t[c];
                a += l = u < 57344 ? String.fromCodePoint(t[c]) : r[u] || i + o,
                o = l[0],
                r[s] = i + o,
                s++,
                i = l
            }
            return a
        } catch (p) {
            throw new Error(p)
        }
    }
}
, function(e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    var r, o, i, a, s, c, l, u, p, d, f, h, g, m, y, v, b, _, S, w, $ = 168;
    function k(e, t) {
        return e >>> t & 4294967295 | e << 32 - t & 4294967295
    }
    function E(e, t, n, r, o, i, a) {
        e[t] = e[t] + e[n] & 4294967295,
        e[t] = e[t] + i & 4294967295,
        e[o] ^= e[t],
        e[o] = k(e[o], 16),
        e[r] = e[r] + e[o] & 4294967295,
        e[n] ^= e[r],
        e[n] = k(e[n], 12),
        e[t] = e[t] + e[n] & 4294967295,
        e[t] = e[t] + a,
        e[o] ^= e[t],
        e[o] = k(e[o], 8),
        e[r] = e[r] + e[o] & 4294967295,
        e[n] ^= e[r],
        e[n] = k(e[n], 7)
    }
    function T(e, t, n, r, i, s, c) {
        var l, u, p;
        for (l = new Array(16),
        u = new Array(16); ; ) {
            for (p = 0; p < 16; ++p)
                u[p] = 0;
            break
        }
        for (; (45 ^ $) % 24 < 14; ) {
            for (p = 0; p < 8; p++)
                l[p] = e[p];
            break
        }
        for (; 11 < (35 ^ $) % 14; ) {
            for (p = 0; p < 8; p++)
                l[p + 8] = 4294967295 & c[p];
            break
        }
        for (l[12] ^= r,
        s && (l[14] ^= 4294967295),
        p = 0; p < i; p++)
            u[p % 16] ^= t[n + p];
        for (; (33 ^ $) % 7 < 7; ) {
            for (p = 0; p < a; p++) {
                for (E(l, 0, 4, 8, 12, u[o[p][0]], u[o[p][1]]),
                E(l, 1, 5, 9, 13, u[o[p][2]], u[o[p][3]]),
                E(l, 2, 6, 10, 14, u[o[p][4]], u[o[p][5]]),
                E(l, 3, 7, 11, 15, u[o[p][6]], u[o[p][7]]),
                E(l, 0, 5, 10, 15, u[o[p][8]], u[o[p][9]]),
                E(l, 1, 6, 11, 12, u[o[p][10]], u[o[p][11]]); (36 ^ $) % 19 < 11; ) {
                    E(l, 2, 7, 8, 13, u[o[p][12]], u[o[p][13]]);
                    break
                }
                E(l, 3, 4, 9, 14, u[o[p][14]], u[o[p][15]])
            }
            break
        }
        for (; ; ) {
            for (p = 0; p < 8; p++)
                e[p] ^= l[p] ^ l[p + 8];
            break
        }
        for (; ; )
            return e
    }
    function O(e) {
        return e = unescape(encodeURIComponent(e)),
        new Int8Array(e.split("").map((function(e) {
            return e.charCodeAt(0) || 0
        }
        )))
    }
    function P(e, t) {
        for (var n = ""; ; ) {
            for (var r = 0; r < t; r++)
                n += e;
            break
        }
        for (; ; )
            return n
    }
    function x(e, t) {
        for (var n, r = 0; ; ) {
            n = new Int8Array(e.length);
            break
        }
        for (; r < e.length; )
            for (var o = 0; o < t.length; o++)
                n[r] = e[r] ^ 255 & t[o],
                r++;
        return n
    }
    function C(e) {
        var t;
        return t = parseInt(e, 16),
        (e = Math.pow(2, e.length / 2 * 8)) / 2 - 1 < t && (t -= e),
        t
    }
    function I(e) {
        for (var t = []; 183 < (17 | $); ) {
            for (var n = 0; n < e.length; n += 2)
                t.push(C(e.substr(n, 2)));
            break
        }
        return t
    }
    function A(e, t) {
        var n;
        for (t = t || 4,
        n = []; 19 < (23 ^ $) % 34; ) {
            if (4 < t && 4294967295 < e)
                for (var r = e.toString(2), o = parseInt(r.substr(0, r.length - 16), 2), i = 0; i <= t - 1; i++)
                    n[i] = 0 === i || 1 === i ? parseInt(r.substr(r.length - 8 * (i + 1), 8), 2) : o >>> 8 * (i - 2) & 255;
            else
                for (i = 0; i <= t - 1; i++)
                    n[i] = e >>> 8 * i & 255;
            break
        }
        return n
    }
    function L(e, t, n) {
        var r = ""
          , o = [];
        for (o = (t ? function(e, t) {
            var n;
            if (t = t || 4,
            n = [],
            (37 ^ $) % 3 < 1)
                for (var r = t - 1; 0 <= r; r--)
                    n[t - 1 - r] = e >>> 8 * r & 255;
            return n
        }
        : A)(e, n); ; ) {
            for (var i = 0; i < o.length; i++)
                r += 0 === o[i] ? "00" : (o[i] < 16 ? "0" : "") + o[i].toString(16);
            break
        }
        return r
    }
    function R(e) {
        for (var t, n = "", r = 0; r < e.length; r++) {
            for (; (39 ^ $) % 11 < 5; ) {
                t = 255 & e[r] ? ((255 & e[r]) < 16 ? "0" : "") + (255 & e[r]).toString(16) : "00";
                break
            }
            for (; ; ) {
                n += t;
                break
            }
        }
        for (; ; )
            return n
    }
    function N() {
        return "e0000000000000"
    }
    function j(e) {
        return function(e) {
            var t;
            for (t = "",
            e.forEach((function(e) {
                var n, r;
                for (r = 8 - (n = (e >>> 0).toString(16)).length; ; ) {
                    t += 0 < r ? P("0", r) + n : n;
                    break
                }
            }
            )); ; )
                return t
        }(function(e) {
            var t, n, r, o;
            for (t = 0,
            n = e.length,
            r = 0,
            (o = i.slice())[0] ^= 16842784; 64 < n; )
                n -= 64,
                T(o, e, r, t += 64, 64, !1, i),
                r += 64;
            for (t += n; ; )
                return T(o, e, r, t, n, !0, i)
        }(function(e) {
            for (var t, n = O(e), r = (e = n.length % 4 == 0 ? 0 : 4 - n.length % 4,
            new Int8Array(n.length + e)), o = 0; o < n.length; ++o)
                r[o] = n[o];
            for (t = new Array(r.length / 4); ; ) {
                for (o = 0; o < r.length; o += 4)
                    t[o / 4] = new Int32Array(r.slice(o, o + 4).buffer)[0];
                break
            }
            return t
        }(e)))
    }
    function M(e) {
        return O(j(e))
    }
    function D(e) {
        for (; ; ) {
            c = new Int32Array(_.slice(12, 16).buffer)[0],
            l = new Int32Array(_.slice(8, 12).buffer)[0],
            u = new Int32Array(_.slice(4, 8).buffer)[0],
            p = new Int32Array(_.slice(0, 4).buffer)[0],
            d = new Int32Array(_.slice(16, 20).buffer)[0],
            f = new Int32Array(_.slice(20, 24).buffer)[0],
            h = new Int32Array(_.slice(24, 28).buffer)[0],
            g = new Int32Array(_.slice(28, 32).buffer)[0],
            m = new Int32Array(_.slice(44, 48).buffer)[0],
            y = new Int32Array(_.slice(40, 44).buffer)[0],
            v = new Int32Array(_.slice(36, 40).buffer)[0],
            b = new Int32Array(_.slice(32, 36).buffer)[0];
            break
        }
        !function(e) {
            var t, n, r;
            for (s = e,
            n = e.length,
            e = (e = s).split("").map((function(e) {
                return e.codePointAt(0) || 0
            }
            )),
            r = new Int8Array(e).slice(0, n); (22 ^ $) % 20 < 12; ) {
                for (t = 0; t < 4; t++)
                    c = (c <<= 8) | r[t + 4],
                    l = (l <<= 8) | r[t + 4],
                    u = (u <<= 8) | r[t + 4];
                break
            }
            for (0 == c && (c = 324508639); (34 ^ $) % 5 < 7; ) {
                0 == l && (l = 610839776);
                break
            }
            0 == u && (u = 4256789809)
        }("Vuz4fCHxn1CO");
        for (var t = new Int8Array(e.length), n = 0; n < e.length; n++)
            t[n] = function(e) {
                var t, n, r, o;
                for (t = 0; ; ) {
                    n = 1 & l;
                    break
                }
                if (r = 1 & u,
                (19 | $) < 190)
                    for (var i = 0; i < 8; i++) {
                        if (1 & c)
                            c = c ^ p >> 1 & 4294967295 | y,
                            1 & l ? (l = l ^ d >> 1 & 4294967295 | v,
                            n = 1) : (l = l >> 1 & 4294967295 & g,
                            n = 0);
                        else
                            for (c = c >> 1 & 4294967295 & h; ; ) {
                                if (1 & u)
                                    u = u ^ f >> 1 & 4294967295 | b,
                                    r = 1;
                                else {
                                    for (; ; ) {
                                        u = u >> 1 & 4294967295 & m;
                                        break
                                    }
                                    r = 0
                                }
                                break
                            }
                        for (o = t << 1 & 4294967295 | n ^ r; (28 ^ $) % 28 < 14; ) {
                            t = 127 < o ? o - 256 : o < -128 ? o + 256 : o;
                            break
                        }
                    }
                if (e ^= t += 3,
                7 < (66 ^ $) % 28)
                    return e
            }(e[n]);
        return t
    }
    function U(e) {
        var t, r, o, i;
        for ((!e || "object" !== n(e)) && console.error("Type Error: data must be a object"),
        e.url && e.query && e.form && e.requestBody || console.error("data must have url、query、form、requestBody"); ; ) {
            e.query.caver || console.error("query.caver must exist!");
            break
        }
        for (o = r = e.url,
        (i = new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/)).test(r) && (r = (i = r.split("//"))[1].indexOf("/"),
        o = i[1].substring(r)),
        t = o = -1 != o.indexOf("?") ? o.split("?")[0] : o,
        r = function(e) {
            return Object.keys(e).reduce((function(t, r) {
                var o;
                return ~r.indexOf(S) || ("object" !== n(e[r]) || e[r]instanceof Array ? (o = r + "=" + e[r],
                t.push(o)) : t.push(o = r + "=[object Object]")),
                t
            }
            ), [])
        }(Object.assign({}, e.query, e.form)),
        i = (document && document.cookie.split(";") || []).map((function(e) {
            return [(e = e.split("="))[0].trim(), e.slice(1).join("=").trim()]
        }
        )).filter((function(e) {
            return ~w.indexOf(e[0]) && !!e[1]
        }
        )).map((function(e) {
            return e[0] + "=" + e[1]
        }
        ), []),
        t += r.concat(i).sort((function(e, t) {
            for (; 10 < (44 ^ $) % 24; ) {
                if (e === t)
                    return 0;
                break
            }
            for (; ; )
                return e < t ? -1 : 1
        }
        )).join(""); (21 ^ $) % 21 < 3; ) {
            Object.keys(e.requestBody).length && (t += JSON.stringify(e.requestBody));
            break
        }
        return t
    }
    function H(e, t) {
        var n, r;
        return n = e.toString(2),
        e = t.toString(2),
        n = (P("0", (t = Math.max(n.length, e.length)) - n.length) + n).split(""),
        r = (P("0", t - e.length) + e).split(""),
        t = n.map((function(e, t) {
            return "0" === e && "0" === r[t] || !("0" === e && "1" === r[t] || "1" === e && "0" === r[t]) ? "0" : "1"
        }
        )).join(""),
        parseInt(t, 2)
    }
    for (r = function() {}
    ,
    o = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], [14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3], [11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4], [7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8], [9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13], [2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9], [12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11], [13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10], [6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5], [10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0]],
    i = [2837534710, 2845986804, 2436420605, 706843635, 719254516, 2557931286, 2596197199, 2432949778]; -3 < (63 ^ $) % 10; ) {
        for (var G = 0; G < 8; ++G)
            i[G] &= 4294967295;
        break
    }
    for (a = 10,
    d = 0,
    g = h = f = p = u = l = c = 0; 0 < (46 ^ $) % 5; ) {
        m = 0;
        break
    }
    for (y = 0,
    b = v = 0,
    _ = new Int8Array([98, 0, 0, 128, 49, 117, 185, 253, 224, 172, 104, 36, 223, 155, 87, 19, 32, 0, 0, 64, 2, 0, 0, 16, 255, 255, 255, 127, 255, 255, 255, 63, 0, 0, 0, 240, 0, 0, 0, 192, 0, 0, 0, 128, 255, 255, 255, 15]),
    S = "__NS",
    w = [],
    r.prototype.register = function() {
        Object.defineProperties(Object, {
            jmpOnw_b2sa: {
                writable: !0,
                configurable: !0,
                value: M
            },
            jmpOnw_b2has: {
                writable: !0,
                configurable: !0,
                value: j
            },
            jmpOnw_cts: {
                writable: !0,
                configurable: !0,
                value: D
            },
            jmpOnw_xcb: {
                writable: !0,
                configurable: !0,
                value: x
            },
            jmpOnw_h2b: {
                writable: !0,
                configurable: !0,
                value: I
            },
            jmpOnw_b2h: {
                writable: !0,
                configurable: !0,
                value: R
            },
            jmpOnw_i2h: {
                writable: !0,
                configurable: !0,
                value: L
            },
            jmpOnw_bxor: {
                writable: !0,
                configurable: !0,
                value: H
            },
            jmpOnw_i2b1: {
                writable: !0,
                configurable: !0,
                value: A
            },
            jmpOnw_s2ua: {
                writable: !0,
                configurable: !0,
                value: O
            },
            jmpOnw_geh: {
                writable: !0,
                configurable: !0,
                value: N
            },
            jmpOnw_ms: {
                writable: !0,
                configurable: !0,
                value: U
            }
        })
    }
    ; ; ) {
        e.exports = r;
        break
    }
}
, function(e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
        )(e)
    }
    var r, o = {
        prod: "log-sdk.ksapisrv.com",
        oversea: "logsdk.kwai-pro.com"
    }, i = {
        prod: "914e7528de",
        oversea: "602a26d3bn"
    };
    function a(e) {
        try {
            var t = {
                data: [{
                    key: "event",
                    value: e.duration ? {
                        duration: e.duration
                    } : {},
                    dimension: {
                        event_client_timestamp: Date.now(),
                        collect_version: "1.2.9",
                        collect_name: "RadarSeedCollect",
                        name: e.name || "",
                        message: "object" === n(e.value) ? JSON.stringify(e.value) : e.value,
                        category: e.keyObj.appKey || e.keyObj.appkey || "",
                        sample_rate: 1,
                        other_session_increase_id: 2
                    },
                    h5_extra_attr: {
                        domain: "",
                        url: "",
                        hash: "",
                        online: !0,
                        downlink: 10,
                        rtt: 50,
                        screen_width: 1792,
                        screen_height: 1120,
                        device_pixel_ratio: 2
                    },
                    refer_url_package: {
                        page: location && location.href || ""
                    },
                    url_package: {
                        page: ""
                    },
                    project_id: i[e.keyObj.oversea ? "oversea" : "prod"],
                    radar_session_id: ""
                }]
            }
              , r = {
                common: {
                    identity_package: {
                        device_id: e.keyObj.did || "",
                        global_id: "",
                        user_id: e.keyObj.uid || ""
                    },
                    app_package: {
                        language: "zh-CN",
                        version_name: ""
                    },
                    device_package: {
                        ua: ""
                    },
                    service_name: "radarSDK",
                    network_package: {
                        type: 3
                    },
                    h5_extra_attr: ""
                },
                logs: [{
                    client_timestamp: Date.now(),
                    stat_package: {
                        custom_stat_event: {
                            key: "radar_log",
                            value: JSON.stringify(t)
                        }
                    }
                }]
            }
              , a = "https://" + o[e.keyObj.oversea ? "oversea" : "prod"] + "/rest/wd/common/log/collect/radar";
            navigator.sendBeacon(a, JSON.stringify(r))
        } catch (s) {
            console.log("log error", s)
        }
    }
    (r = function() {}
    ).prototype.register = function() {
        Object.defineProperties(Object, {
            jmpOnw_send: {
                writable: !0,
                configurable: !0,
                value: a
            }
        })
    }
    ,
    e.exports = r
}
, function(e, t, n) {
    n.r(t),
    function(e) {
        function n(e) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function r(e, t) {
            for (var r = 0; r < t.length; r++) {
                var o = t[r];
                o.enumerable = o.enumerable || !1,
                o.configurable = !0,
                "value"in o && (o.writable = !0),
                Object.defineProperty(e, (i = function(e, t) {
                    if ("object" != n(e) || null === e)
                        return e;
                    var r = e[Symbol.toPrimitive];
                    if (void 0 === r)
                        return String(e);
                    if ("object" != n(e = r.call(e, "string")))
                        return e;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }(i = o.key),
                "symbol" == n(i) ? i : String(i)), o)
            }
            var i
        }
        function o(e, t) {
            if (e !== t)
                throw new TypeError("Cannot instantiate an arrow function")
        }
        function i(e) {
            return function(e) {
                if (Array.isArray(e))
                    return a(e)
            }(e) || function(e) {
                if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                    return Array.from(e)
            }(e) || function(e, t) {
                var n;
                if (e)
                    return "string" == typeof e ? a(e, t) : "Map" === (n = "Object" === (n = Object.prototype.toString.call(e).slice(8, -1)) && e.constructor ? e.constructor.name : n) || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? a(e, t) : void 0
            }(e) || function() {
                throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }()
        }
        function a(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++)
                r[n] = e[n];
            return r
        }
        var s = function(e) {
            var t = this;
            return Array.from(e).map(function(e) {
                return o(this, t),
                e.codePointAt(0) || 0
            }
            .bind(this))
        }
          , c = function(e) {
            var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 4;
            if (4 <= t && e >= Math.pow(2, 32))
                return [255, 255, 255, 255];
            for (var n = [], r = 0; r <= t - 1; r++)
                n[r] = e >>> 8 * r & 255;
            return n
        }
          , l = "SECS";
        function u(e, t) {
            var n = 0
              , r = new Array(16)
              , o = new Array(16)
              , i = e
              , a = t;
            function s(e, t) {
                return e << t & 4294967295 | e >>> 32 - t
            }
            function c(e, t, n, r, o) {
                e[t] = e[t] + e[n] & 4294967295,
                e[o] ^= e[t],
                e[o] = s(e[o], 16),
                e[r] = e[r] + e[o] & 4294967295,
                e[n] ^= e[r],
                e[n] = s(e[n], 12),
                e[t] = e[t] + e[n] & 4294967295,
                e[o] ^= e[t],
                e[o] = s(e[o], 8),
                e[r] = e[r] + e[o] & 4294967295,
                e[n] ^= e[r],
                e[n] = s(e[n], 7)
            }
            function l() {
                for (var e = new Array(r.length), t = 0; t < r.length; ++t)
                    e[t] = r[t];
                for (t = 0; t < 20; t += 2)
                    c(e, 0, 4, 8, 12),
                    c(e, 1, 5, 9, 13),
                    c(e, 2, 6, 10, 14),
                    c(e, 3, 7, 11, 15),
                    c(e, 0, 5, 10, 15),
                    c(e, 1, 6, 11, 12),
                    c(e, 2, 7, 8, 13),
                    c(e, 3, 4, 9, 14);
                for (t = 0; t < 16; ++t)
                    o[t] = e[t] + r[t] & 4294967295
            }
            u.prototype.chachaEncrypt = function(e) {
                r[n = 0] = 394484062,
                r[1] = 2378328696,
                r[2] = 630790222,
                r[3] = 1922531795;
                for (var t = 0; t < 8; t++)
                    r[t + 4] = i[t];
                r[12] = 1,
                r[13] = a[0],
                r[14] = a[1],
                r[15] = a[2],
                l();
                for (var s = new Uint8Array(e.length), c = 0; c < e.length; c++) {
                    var u = e[c] ^ (u = void 0,
                    64 === n && (++r[12],
                    l(),
                    n = 0),
                    u = o[n >> 2] >> ((3 & n) << 3) & 255,
                    ++n,
                    127 < u ? u - 256 : u < -128 ? 256 + u : u);
                    s[c] = u
                }
                return s
            }
            ,
            u.prototype.chachaDecrypt = u.prototype.chachaEncrypt
        }
        for (var p = [], d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", f = 0; f < 64; ++f)
            p[f] = d[f],
            d.charCodeAt(f);
        function h(e, t, n) {
            for (var r, o = [], i = t; i < n; i += 3)
                r = (e[i] << 16 & 16711680) + (e[i + 1] << 8 & 65280) + (255 & e[i + 2]),
                o.push(p[r >> 18 & 63] + p[r >> 12 & 63] + p[r >> 6 & 63] + p[63 & r]);
            return o.join("")
        }
        g = v,
        m = [{
            key: "getInstance",
            value: function() {
                return v.instance || (v.instance = new v),
                this.instance
            }
        }],
        (y = [{
            key: "init",
            value: function() {
                try {
                    var e, t, n;
                    (e = this.infoCache).push.apply(e, [68, 0].concat(i(c(null == (t = document) || null == (n = t.scripts) ? void 0 : n.length, 4))))
                } catch (r) {}
            }
        }, {
            key: "collectDeviceInfo",
            value: function() {
                var t = this
                  , n = window || e;
                try {
                    var r, a, d, f = this.count;
                    this.count += 1,
                    g = [45, 61, 0, 2].concat(i(this.infoCache), [112, 0].concat(i(c(f || 0, 4))), [114, 1].concat(i(c((null == (v = n[l]) || null == (r = v.s) ? void 0 : r.length) || 0, 2)), i(s((null == (a = n[l]) ? void 0 : a.s) || ""))), [115, 0].concat(i(c((null == (d = n[l]) ? void 0 : d.c) || 0, 4))))
                } catch (b) {
                    var g = [45, 61, 0, 2].concat([117, 1].concat(i(c(100, 2)), i(s((null == b || null == (f = b.stack) ? void 0 : f.substr(0, 100)) || ""))))
                }
                n[l] = {
                    s: "",
                    c: 0
                };
                for (var m = [], y = 0; y < g.length; y++)
                    m.push(35 ^ g[y]);
                var v = function(e) {
                    for (var t, n = e.length, r = n % 3, o = [], i = 0, a = n - r; i < a; i += 16383)
                        o.push(h(e, i, a < i + 16383 ? a : i + 16383));
                    return 1 == r ? (t = e[n - 1],
                    o.push(p[t >> 2] + p[t << 4 & 63] + "==")) : 2 == r && (t = (e[n - 2] << 8) + e[n - 1],
                    o.push(p[t >> 10] + p[t >> 4 & 63] + p[t << 2 & 63] + "=")),
                    o.join("")
                }(new u([4183807412, 394484062, 1106561997, 2378328696, 630790222, 2546784104, 2891127470, 1922531795],[2215853858, 1643070585, 1849059804]).chachaEncrypt(m));
                return function(e) {
                    var n = this
                      , r = (o(this, t),
                    {
                        "+": "-",
                        "/": "_",
                        "=": "."
                    });
                    return e.replace(/[+/=]/g, function(e) {
                        return o(this, n),
                        r[e]
                    }
                    .bind(this))
                }
                .bind(this)(v)
            }
        }]) && r(g.prototype, y),
        m && r(g, m),
        Object.defineProperty(g, "prototype", {
            writable: !1
        });
        var g, m, y = v;
        function v() {
            if (this instanceof v)
                return this.count = 100,
                this.infoCache = [],
                v.instance || (v.instance = this).init(),
                v.instance;
            throw new TypeError("Cannot call a class as a function")
        }
        y.instance = null,
        t.default = y
    }
    .call(this, n(1))
}
]);
function tryOnScopeDispose(e) {
    return !!getCurrentScope() && (onScopeDispose(e),
    !0)
}
function toValue(e) {
    return "function" == typeof e ? e() : unref(e)
}
const isClient = "undefined" != typeof window
  , noop = () => {}
;
function createFilterWrapper(e, t) {
    return function(...n) {
        return new Promise(( (r, o) => {
            Promise.resolve(e(( () => t.apply(this, n)), {
                fn: t,
                thisArg: this,
                args: n
            })).then(r).catch(o)
        }
        ))
    }
}
function throttleFilter(e, t=!0, n=!0, r=!1) {
    let o, i, a = 0, s = !0, c = noop;
    const l = () => {
        o && (clearTimeout(o),
        o = void 0,
        c(),
        c = noop)
    }
    ;
    return u => {
        const p = toValue(e)
          , d = Date.now() - a
          , f = () => i = u();
        return l(),
        p <= 0 ? (a = Date.now(),
        f()) : (d > p && (n || !s) ? (a = Date.now(),
        f()) : t && (i = new Promise(( (e, t) => {
            c = r ? t : e,
            o = setTimeout(( () => {
                a = Date.now(),
                s = !0,
                e(f()),
                l()
            }
            ), Math.max(0, p - d))
        }
        ))),
        n || o || (o = setTimeout(( () => s = !0), p)),
        s = !1,
        i)
    }
}
function useThrottleFn(e, t=200, n=!1, r=!0, o=!1) {
    return createFilterWrapper(throttleFilter(t, n, r, o), e)
}
function useIntervalFn(e, t=1e3, n={}) {
    const {immediate: r=!0, immediateCallback: o=!1} = n;
    let i = null;
    const a = ref$1(!1);
    function s() {
        i && (clearInterval(i),
        i = null)
    }
    function c() {
        a.value = !1,
        s()
    }
    function l() {
        const n = toValue(t);
        n <= 0 || (a.value = !0,
        o && e(),
        s(),
        i = setInterval(e, n))
    }
    if (r && isClient && l(),
    isRef(t) || "function" == typeof t) {
        tryOnScopeDispose(watch(t, ( () => {
            a.value && isClient && l()
        }
        )))
    }
    return tryOnScopeDispose(c),
    {
        isActive: a,
        pause: c,
        resume: l
    }
}
function useTimeoutFn(e, t, n={}) {
    const {immediate: r=!0} = n
      , o = ref$1(!1);
    let i = null;
    function a() {
        i && (clearTimeout(i),
        i = null)
    }
    function s() {
        o.value = !1,
        a()
    }
    function c(...n) {
        a(),
        o.value = !0,
        i = setTimeout(( () => {
            o.value = !1,
            i = null,
            e(...n)
        }
        ), toValue(t))
    }
    return r && (o.value = !0,
    isClient && c()),
    tryOnScopeDispose(s),
    {
        isPending: readonly(o),
        start: c,
        stop: s
    }
}

// const obj = {
//     "url": "/rest/wd/ugH5App/tag/text/feed/recent",
//     "query": {
//         "caver": "2"
//     },
//     "form": {},
//     "requestBody": {
//         "tagName": "听一首歌讲述一个故事",
//         "pcursor": "1",
//         "count": 18
//     },
//     "projectInfo": {
//         "did": "web_7a936ac3854f4a6eb483df7815f90813",
//         "appKey": "nuojwbmH5T"
//     }
// }
// xuxu.call("$encode", [obj, {
//     suc(e, t) {
//         // console.log(e)
//         // debugger;
//         window.signResult = e;
//         n({
//             signResult: e,
//             signInput: t
//         })
//     },
//     err(e) {
//         t(e)
//     }
// }])

function get_signResult(caver, tagName, pcursor, count){
    const obj = {
        "url": "/rest/wd/ugH5App/tag/text/feed/recent",
        "query": {
            "caver": caver
        },
        "form": {},
        "requestBody": {
            "tagName":  tagName,
            "pcursor": pcursor,
            "count": count
        },
        "projectInfo": {
            "did": "web_7a936ac3854f4a6eb483df7815f90813",
            "appKey": "nuojwbmH5T"
        }
    }
    xuxu.call("$encode", [obj, {
        suc(e, t) {
            window.signResult = e;
            n({
                signResult: e,
                signInput: t
            })
        },
        err(e) {
            t(e)
        }
    }])
    return window.signResult
}