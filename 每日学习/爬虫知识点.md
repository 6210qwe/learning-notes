## 1、CrawlerProcess 在运行时是多进程的，而不是多线程

多进程的优势：*进程间完全隔离，更安全*， *每个进程有自己的内存空间*

## 2、scrapy和asyncio并发

*Twisted使用事件循环和回调机制，不是多线程*

```
from twisted.internet import reactor, defer

class MyProtocol:
    def dataReceived(self, data):
        # 这是事件驱动的回调，不是多线程
        reactor.callLater(0, self.process_data, data)
```

*# asyncio使用协程，不是多线程*

*import* asyncio

async def fetch_data():

  *# 这是协程，不是线程*

  *await* asyncio.sleep(1)

  *return* "data"

async def main():

  *# 并发执行多个协程*

  tasks = [fetch_data() *for* _ *in* range(10)]

  results = *await* asyncio.gather(*tasks)

多线程适合CPU密集型   *协程：适合I/O密集型任务*

性能特点：

*# 多线程：适合CPU密集型任务*

*# 协程：适合I/O密集型任务*

调度方式：

*# 多线程：由操作系统调度*

*# 协程：由事件循环调度*

资源使用：

*# 多线程：每个线程都需要独立的栈空间*

*# 协程：共享栈空间*

3、



```
1.抖音直播间弹幕实时抓取，包含弹幕昵称、弹幕内容、礼物、点赞、在线人数
2.抓取直播间指定用户主页信息，包含头像、昵称、简介、IP地址、性别，关注
3.根据采集的用户主页信息，利用AI 分析用户的喜好，产出文本内容
4.根据采集弹幕内容，利用AI 分析，产出文本内容（高情商-情绪价值-调动情绪互动等等）
```

写爬虫的经验：
数据库查询，索引删除和重建，唯一索引，
1、字典取值用get,不会报错
2、需要整理python各种函数